# æ ¡å¯¹å®¡æ ¸é¡µé¢ (Proofreading Review UI) - éœ€æ±‚åˆ†æ

**Feature ID:** 003-proofreading-review-ui
**Created:** 2025-11-07
**Status:** Design Phase
**Priority:** P0 (Critical Path)

---

## ğŸ“‹ Executive Summary

æ ¡å¯¹å®¡æ ¸é¡µé¢æ˜¯CMSè‡ªåŠ¨åŒ–å·¥ä½œæµçš„å…³é”®ç¯èŠ‚ï¼Œè¿æ¥è‡ªåŠ¨åŒ–æ ¡å¯¹å¼•æ“å’Œäººå·¥å†³ç­–ã€‚å½“æ–‡ç« ä»Google DriveåŒæ­¥åï¼Œç³»ç»Ÿè‡ªåŠ¨æ‰§è¡ŒAI+è§„åˆ™æ ¡å¯¹ï¼Œå°†ç»“æœæ¨é€åˆ°"å®¡æ ¸ä¸­"ï¼ˆunder_reviewï¼‰çŠ¶æ€ï¼Œç­‰å¾…äººå·¥å®¡æ ¸å‘˜å¤„ç†ã€‚

**æ ¸å¿ƒä»·å€¼ï¼š**
- å°†AIæ ¡å¯¹ç»“æœè½¬åŒ–ä¸ºå¯æ‰§è¡Œçš„ç¼–è¾‘å†³ç­–
- æä¾›é«˜æ•ˆçš„æ‰¹é‡å®¡æ ¸å·¥ä½œæµ
- å»ºç«‹äººå·¥åé¦ˆå¾ªç¯ï¼ŒæŒç»­ä¼˜åŒ–æ ¡å¯¹å¼•æ“

---

## ğŸ”„ å·¥ä½œæµç¨‹ä¸Šä¸‹æ–‡

### å®Œæ•´Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Google Drive    â”‚ æ¯5åˆ†é’Ÿè‡ªåŠ¨åŒæ­¥
â”‚ (åŸå§‹æ–‡æ¡£)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Auto Sync
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Worklist Item   â”‚ status: pending
â”‚ (å¾…å¤„ç†é˜Ÿåˆ—)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Auto Create Article
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Article         â”‚ status: imported
â”‚ (æ–‡ç« è®°å½•)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Auto Proofreading (AI + Rules)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Worklist Item   â”‚ status: under_review
â”‚ + Article       â”‚ article.status: in-review
â”‚ + Proofreading  â”‚
â”‚   Issues        â”‚ â† [æˆ‘ä»¬åœ¨è¿™é‡Œ]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Manual Review (æœ¬é¡µé¢åŠŸèƒ½)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Worklist Item   â”‚ status: ready_to_publish
â”‚ + Article       â”‚ article.status: ready_to_publish
â”‚ + Decisions     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Publish to WordPress
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Published       â”‚ status: published
â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### çŠ¶æ€å®šä¹‰

**Worklist Status (7-state):**
- `pending`: å·²åŒæ­¥ï¼Œç­‰å¾…åˆ›å»ºarticle
- `proofreading`: æ­£åœ¨æ‰§è¡Œè‡ªåŠ¨æ ¡å¯¹
- `under_review`: **è‡ªåŠ¨æ ¡å¯¹å®Œæˆï¼Œç­‰å¾…äººå·¥å®¡æ ¸**
- `ready_to_publish`: å®¡æ ¸é€šè¿‡ï¼Œå‡†å¤‡å‘å¸ƒ
- `publishing`: æ­£åœ¨å‘å¸ƒä¸­
- `published`: å·²å‘å¸ƒæˆåŠŸ
- `failed`: å¤„ç†å¤±è´¥ï¼Œéœ€äººå·¥ä»‹å…¥

**Article Status:**
- `imported`: ä»Driveå¯¼å…¥
- `draft`: è‰ç¨¿
- `in-review`: **æ­£åœ¨å®¡æ ¸ä¸­**
- `seo_optimized`: SEOä¼˜åŒ–å®Œæˆ
- `ready_to_publish`: å‡†å¤‡å‘å¸ƒ
- `publishing`: å‘å¸ƒä¸­
- `scheduled`: å·²è°ƒåº¦
- `published`: å·²å‘å¸ƒ
- `failed`: å¤±è´¥

---

## ğŸ¯ Core Requirements

### FR-001: æ–‡ç« å†…å®¹å±•ç¤º

**éœ€æ±‚ï¼š** å®Œæ•´å±•ç¤ºå¾…å®¡æ ¸çš„æ–‡ç« å†…å®¹ï¼Œæ”¯æŒMarkdown/HTMLæ¸²æŸ“

**éªŒæ”¶æ ‡å‡†ï¼š**
- âœ… æ¸²æŸ“Markdownæ ¼å¼æ–‡ç« ï¼ˆæ ‡é¢˜ã€åˆ—è¡¨ã€åŠ ç²—ã€æ–œä½“ã€é“¾æ¥ï¼‰
- âœ… æ”¯æŒHTMLå†…å®¹å±•ç¤º
- âœ… ä¿ç•™åŸå§‹æ ¼å¼ï¼ˆæ®µè½é—´è·ã€ç¼©è¿›ï¼‰
- âœ… æ–‡å­—å¯é€‰ä¸­å¤åˆ¶
- âœ… å“åº”å¼å¸ƒå±€ï¼ˆé€‚é…ä¸åŒå±å¹•å°ºå¯¸ï¼‰
- âœ… ä»£ç é«˜äº®æ˜¾ç¤ºï¼ˆå¦‚æœ‰ä»£ç å—ï¼‰

**ä¾èµ–ï¼š**
- WorklistItemDetail API (`GET /v1/worklist/{id}`)
- Markdownæ¸²æŸ“åº“ï¼ˆreact-markdown æˆ– markedï¼‰

---

### FR-002: æ ¡å¯¹é—®é¢˜åˆ—è¡¨å±•ç¤º

**éœ€æ±‚ï¼š** å·¦ä¾§å±•ç¤ºæ‰€æœ‰æ ¡å¯¹é—®é¢˜ï¼Œæ”¯æŒè¿‡æ»¤ã€æ’åºã€åˆ†ç»„

**é—®é¢˜æ•°æ®ç»“æ„ï¼ˆä»backendåˆ†æï¼‰ï¼š**
```typescript
interface ProofreadingIssue {
  id: string;                    // å”¯ä¸€æ ‡è¯†
  rule_id: string;               // è§„åˆ™ID (e.g., "R001", "AI-GRAMMAR")
  rule_category: string;         // ç±»åˆ« (grammar, punctuation, style, etc.)
  severity: 'critical' | 'warning' | 'info';  // ä¸¥é‡ç¨‹åº¦
  engine: 'ai' | 'deterministic'; // å¼•æ“ç±»å‹

  // é—®é¢˜å®šä½
  position: {
    start: number;               // å­—ç¬¦èµ·å§‹ä½ç½®
    end: number;                 // å­—ç¬¦ç»“æŸä½ç½®
    line?: number;               // è¡Œå·ï¼ˆå¯é€‰ï¼‰
    column?: number;             // åˆ—å·ï¼ˆå¯é€‰ï¼‰
    section?: string;            // ç« èŠ‚ï¼ˆå¯é€‰ï¼‰
  };

  // é—®é¢˜å†…å®¹
  original_text: string;         // åŸå§‹æ–‡æœ¬
  suggested_text: string;        // å»ºè®®ä¿®æ”¹
  explanation: string;           // é—®é¢˜è§£é‡Š
  explanation_detail?: string;   // è¯¦ç»†è¯´æ˜ï¼ˆå¯é€‰ï¼‰

  // å†³ç­–çŠ¶æ€
  decision_status: 'pending' | 'accepted' | 'rejected' | 'modified';
  decision_id?: number;          // å…³è”çš„ProofreadingDecision ID

  // å…ƒæ•°æ®
  confidence?: number;           // AIç½®ä¿¡åº¦ (0-1)
  tags?: string[];               // æ ‡ç­¾
}
```

**å±•ç¤ºéœ€æ±‚ï¼š**
- âœ… åˆ—è¡¨å½¢å¼å±•ç¤ºæ‰€æœ‰é—®é¢˜
- âœ… æ¯ä¸ªé—®é¢˜æ˜¾ç¤ºï¼šä¸¥é‡ç¨‹åº¦å›¾æ ‡ã€è§„åˆ™ç±»åˆ«ã€åŸæ–‡ç‰‡æ®µ
- âœ… å½“å‰é€‰ä¸­é—®é¢˜é«˜äº®æ˜¾ç¤º
- âœ… æœªå¤„ç†é—®é¢˜æ ‡è®°ï¼ˆbadgeæ˜¾ç¤ºpendingæ•°é‡ï¼‰
- âœ… ç‚¹å‡»é—®é¢˜è‡ªåŠ¨æ»šåŠ¨åˆ°åŸæ–‡ä½ç½®

**è¿‡æ»¤åŠŸèƒ½ï¼š**
- âœ… æŒ‰ä¸¥é‡ç¨‹åº¦ç­›é€‰ï¼ˆcritical / warning / infoï¼‰
- âœ… æŒ‰è§„åˆ™ç±»åˆ«ç­›é€‰ï¼ˆgrammar / punctuation / style / etc.ï¼‰
- âœ… æŒ‰å†³ç­–çŠ¶æ€ç­›é€‰ï¼ˆpending / accepted / rejected / modifiedï¼‰
- âœ… æŒ‰å¼•æ“ç±»å‹ç­›é€‰ï¼ˆAI / deterministicï¼‰
- âœ… æœç´¢åŠŸèƒ½ï¼ˆæœç´¢åŸæ–‡æˆ–å»ºè®®æ–‡æœ¬ï¼‰

**æ’åºåŠŸèƒ½ï¼š**
- âœ… æŒ‰ä¸¥é‡ç¨‹åº¦æ’åºï¼ˆcriticalä¼˜å…ˆï¼‰
- âœ… æŒ‰æ–‡æ¡£ä½ç½®æ’åºï¼ˆä»å‰å¾€åï¼‰
- âœ… æŒ‰è§„åˆ™ç±»åˆ«æ’åº
- âœ… æŒ‰å†³ç­–çŠ¶æ€æ’åºï¼ˆpendingä¼˜å…ˆï¼‰

**ç»Ÿè®¡æ˜¾ç¤ºï¼š**
```
æ€»é—®é¢˜æ•°: 24
â”œâ”€ Critical: 3 (ğŸ”´)
â”œâ”€ Warning: 12 (ğŸŸ¡)
â””â”€ Info: 9 (ğŸ”µ)

å†³ç­–çŠ¶æ€:
â”œâ”€ Pending: 15
â”œâ”€ Accepted: 6
â”œâ”€ Rejected: 2
â””â”€ Modified: 1
```

---

### FR-003: é—®é¢˜è¯¦æƒ…ä¸å†³ç­–é¢æ¿

**éœ€æ±‚ï¼š** å³ä¾§é¢æ¿å±•ç¤ºå½“å‰é€‰ä¸­é—®é¢˜çš„è¯¦ç»†ä¿¡æ¯å’Œå†³ç­–æ“ä½œ

**å¸ƒå±€ç»“æ„ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é—®é¢˜ #12 / 24                   â”‚  â† å¯¼èˆª
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”´ Critical - Grammar           â”‚  â† é—®é¢˜å¤´éƒ¨
â”‚ Rule: R-GRAMMAR-001             â”‚
â”‚ Engine: AI (Confidence: 92%)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŸæ–‡:                           â”‚
â”‚ "ä»–ä»¬å†³å®šå»å…¬å›­ç©è€"             â”‚  â† åŸæ–‡å±•ç¤º
â”‚                                â”‚
â”‚ å»ºè®®ä¿®æ”¹:                       â”‚
â”‚ "ä»–ä»¬å†³å®šå»å…¬å›­ç©"              â”‚  â† å»ºè®®å±•ç¤º
â”‚                                â”‚
â”‚ é—®é¢˜è¯´æ˜:                       â”‚
â”‚ "ç©è€"æ˜¯å†—ä½™è¡¨è¾¾ï¼Œ"ç©"å³å¯       â”‚  â† è§£é‡Š
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å†³ç­–æ“ä½œ:                       â”‚
â”‚                                â”‚
â”‚ [âœ… æ¥å—å»ºè®®] [âŒ æ‹’ç»å»ºè®®]      â”‚  â† å†³ç­–æŒ‰é’®
â”‚                                â”‚
â”‚ æˆ–è‡ªå®šä¹‰ä¿®æ”¹:                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ä»–ä»¬å†³å®šå»å…¬å›­ç©          â”‚  â”‚  â† è‡ªå®šä¹‰è¾“å…¥æ¡†
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ [ğŸ’¾ åº”ç”¨è‡ªå®šä¹‰ä¿®æ”¹]            â”‚
â”‚                                â”‚
â”‚ å†³ç­–å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰:               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ è¿™ä¸ªå»ºè®®åˆç†...           â”‚  â”‚  â† å¤‡æ³¨è¾“å…¥
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æä¾›åé¦ˆï¼ˆå¯é€‰ï¼‰:               â”‚
â”‚ â—‹ å»ºè®®æ­£ç¡®                     â”‚
â”‚ â—‹ å»ºè®®éƒ¨åˆ†æ­£ç¡®                 â”‚
â”‚ â—‹ å»ºè®®é”™è¯¯                     â”‚  â† åé¦ˆé€‰é¡¹
â”‚ â—‹ è§„åˆ™éœ€è¦è°ƒæ•´                 â”‚
â”‚                                â”‚
â”‚ åé¦ˆè¯¦æƒ…:                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚                          â”‚  â”‚  â† åé¦ˆè¯¦æƒ…
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½è¦æ±‚ï¼š**
- âœ… æ˜¾ç¤ºé—®é¢˜å®Œæ•´ä¿¡æ¯
- âœ… ä¸‰ç§å†³ç­–æ–¹å¼ï¼š
  1. ä¸€é”®æ¥å—å»ºè®®
  2. ä¸€é”®æ‹’ç»å»ºè®®
  3. è‡ªå®šä¹‰ä¿®æ”¹ï¼ˆè¾“å…¥æ¡†ç¼–è¾‘ï¼‰
- âœ… æ·»åŠ å†³ç­–å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰
- âœ… æä¾›åé¦ˆç”¨äºæ”¹è¿›æ ¡å¯¹å¼•æ“ï¼ˆå¯é€‰ï¼‰
- âœ… å¯¼èˆªæŒ‰é’®ï¼ˆä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªé—®é¢˜ï¼‰
- âœ… å¿«æ·é”®æ”¯æŒï¼š
  - `A` - Accept
  - `R` - Reject
  - `E` - Edit (focus on custom input)
  - `â†‘/â†“` - Navigate between issues
  - `Esc` - Close panel

---

### FR-004: åŸæ–‡é—®é¢˜æ ‡æ³¨

**éœ€æ±‚ï¼š** åœ¨æ–‡ç« å†…å®¹åŒºåŸŸé«˜äº®æ ‡æ³¨æ‰€æœ‰é—®é¢˜ä½ç½®

**è§†è§‰è®¾è®¡ï¼š**
```markdown
è¿™æ˜¯ä¸€æ®µæ­£å¸¸æ–‡æœ¬ã€‚<span class="issue critical">ä»–ä»¬å†³å®šå»å…¬å›­ç©è€</span>ï¼Œç„¶åç»§ç»­åé¢çš„å†…å®¹ã€‚
```

**æ ‡æ³¨æ ·å¼ï¼š**
- ğŸ”´ **Critical**: çº¢è‰²ä¸‹åˆ’çº¿ + æ·±çº¢èƒŒæ™¯ï¼ˆ#FEE2E2ï¼‰
- ğŸŸ¡ **Warning**: é»„è‰²ä¸‹åˆ’çº¿ + æµ…é»„èƒŒæ™¯ï¼ˆ#FEF3C7ï¼‰
- ğŸ”µ **Info**: è“è‰²ä¸‹åˆ’çº¿ + æµ…è“èƒŒæ™¯ï¼ˆ#DBEAFEï¼‰

**äº¤äº’è¡Œä¸ºï¼š**
- âœ… é¼ æ ‡æ‚¬åœæ˜¾ç¤ºé—®é¢˜æ¦‚è¦ï¼ˆtooltipï¼‰
- âœ… ç‚¹å‡»æ ‡æ³¨é«˜äº®é—®é¢˜ï¼Œå³ä¾§é¢æ¿æ˜¾ç¤ºè¯¦æƒ…
- âœ… å·²å†³ç­–é—®é¢˜æ˜¾ç¤ºä¸åŒæ ·å¼ï¼š
  - âœ… Accepted: ç»¿è‰²è¾¹æ¡†
  - âŒ Rejected: ç°è‰²åˆ é™¤çº¿
  - âœï¸ Modified: ç´«è‰²è¾¹æ¡†

**æŠ€æœ¯å®ç°ï¼š**
- ä½¿ç”¨DOM Range APIæˆ–highlight.js
- é¿å…æ ‡æ³¨é‡å ï¼ˆåµŒå¥—é—®é¢˜å¤„ç†ï¼‰
- æ€§èƒ½ä¼˜åŒ–ï¼ˆè™šæ‹Ÿæ»šåŠ¨ï¼‰

---

### FR-005: æ‰¹é‡å†³ç­–æ“ä½œ

**éœ€æ±‚ï¼š** æ”¯æŒæ‰¹é‡æ¥å—æˆ–æ‹’ç»å¤šä¸ªé—®é¢˜

**åŠŸèƒ½è¦æ±‚ï¼š**
- âœ… å¤é€‰æ¡†å¤šé€‰é—®é¢˜
- âœ… å…¨é€‰/å–æ¶ˆå…¨é€‰
- âœ… æ‰¹é‡æ¥å—é€‰ä¸­é—®é¢˜
- âœ… æ‰¹é‡æ‹’ç»é€‰ä¸­é—®é¢˜
- âœ… æ‰¹é‡æ“ä½œå‰ç¡®è®¤å¼¹çª—
- âœ… æ‰¹é‡æ“ä½œè¿›åº¦æ˜¾ç¤º

**å¿«æ·åŠŸèƒ½ï¼š**
- "æ¥å—æ‰€æœ‰Infoçº§åˆ«é—®é¢˜"
- "æ¥å—æ‰€æœ‰AIé«˜ç½®ä¿¡åº¦(>90%)å»ºè®®"
- "æ‹’ç»æ‰€æœ‰[ç‰¹å®šè§„åˆ™]é—®é¢˜"

---

### FR-006: å®æ—¶é¢„è§ˆä¿®æ”¹

**éœ€æ±‚ï¼š** åœ¨åº”ç”¨å†³ç­–å‰é¢„è§ˆä¿®æ”¹æ•ˆæœ

**æ¨¡å¼åˆ‡æ¢ (Phase 8.6 æ›´æ–°)ï¼š**
1. **æ–‡ç« æ¨¡å¼ (é»˜è®¤)**: æ˜¾ç¤ºå®Œæ•´æ–‡ç« å†…å®¹ï¼Œé—®é¢˜ä½ç½®ä»¥é¢œè‰²é«˜äº®æ ‡è®°ï¼ˆçº¢=ä¸¥é‡ï¼Œé»„=è­¦å‘Šï¼Œè“=æç¤ºï¼‰ï¼Œç‚¹å‡»é«˜äº®æ–‡æœ¬é€‰ä¸­é—®é¢˜
2. **å¯¹æ¯”æ¨¡å¼**: æ˜¾ç¤ºåŸæ–‡ä¸AIæ ¡å¯¹åçš„æ–‡æœ¬å·®å¼‚ (document-level diff)
3. **é¢„è§ˆæ¨¡å¼**: æ˜¾ç¤ºåº”ç”¨æ‰€æœ‰å·²æ¥å—ä¿®æ”¹åçš„æœ€ç»ˆæ•ˆæœ

**é¢„è§ˆé€»è¾‘ï¼š**
```typescript
function applyDecisions(originalContent: string, decisions: Decision[]): string {
  let modifiedContent = originalContent;

  // æŒ‰ä½ç½®å€’åºæ’åºï¼ˆé¿å…ä½ç½®åç§»ï¼‰
  const sortedDecisions = decisions
    .filter(d => d.status === 'accepted' || d.status === 'modified')
    .sort((a, b) => b.position.start - a.position.start);

  for (const decision of sortedDecisions) {
    const { start, end } = decision.position;
    const replacement = decision.status === 'accepted'
      ? decision.suggested_text
      : decision.modified_content;

    modifiedContent =
      modifiedContent.slice(0, start) +
      replacement +
      modifiedContent.slice(end);
  }

  return modifiedContent;
}
```

---

### FR-007: ä¿å­˜å†³ç­–ä¸çŠ¶æ€è½¬æ¢

**éœ€æ±‚ï¼š** ä¿å­˜æ‰€æœ‰å†³ç­–åˆ°æ•°æ®åº“ï¼Œå¹¶è½¬æ¢worklistçŠ¶æ€

**ä¿å­˜APIï¼š**
```typescript
POST /v1/worklist/{id}/review-decisions
{
  decisions: [
    {
      issue_id: "issue-001",
      decision_type: "accepted",  // accepted | rejected | modified
      modified_content: null,      // ä»…modifiedæ—¶éœ€è¦
      decision_rationale: "å»ºè®®åˆç†",
      feedback_provided: true,
      feedback_category: "suggestion_correct",
      feedback_notes: "AIå»ºè®®å‡†ç¡®"
    },
    // ... more decisions
  ],
  review_notes: "æ•´ä½“æ ¡å¯¹è´¨é‡è‰¯å¥½ï¼Œä¸»è¦æ˜¯æ ‡ç‚¹ç¬¦å·é—®é¢˜",
  transition_to: "ready_to_publish" | "proofreading" | "failed"
}
```

**çŠ¶æ€è½¬æ¢é€»è¾‘ï¼š**
```typescript
// å®¡æ ¸å®Œæˆ â†’ å‡†å¤‡å‘å¸ƒ
if (allIssuesResolved && criticalIssuesCount === 0) {
  worklistItem.status = 'ready_to_publish';
  article.status = 'ready_to_publish';
}

// é€€å›é‡æ–°æ ¡å¯¹
if (needReproofreading) {
  worklistItem.status = 'proofreading';
  article.status = 'draft';
}

// æ ‡è®°å¤±è´¥
if (criticalFailure) {
  worklistItem.status = 'failed';
  article.status = 'failed';
}
```

**ä¿å­˜ç¡®è®¤ï¼š**
- âœ… æœªå¤„ç†é—®é¢˜è­¦å‘Šï¼š"è¿˜æœ‰15ä¸ªé—®é¢˜æœªå¤„ç†ï¼Œç¡®å®šä¿å­˜å—ï¼Ÿ"
- âœ… Criticalé—®é¢˜è­¦å‘Šï¼š"è¿˜æœ‰3ä¸ªCriticalé—®é¢˜ï¼Œå»ºè®®è§£å†³åå†å‘å¸ƒ"
- âœ… ä¿å­˜æˆåŠŸæç¤º
- âœ… ä¿å­˜å¤±è´¥é”™è¯¯å¤„ç†

---

### FR-008: å®¡æ ¸å†å²è®°å½•

**éœ€æ±‚ï¼š** å±•ç¤ºæ–‡ç« çš„å†å²å®¡æ ¸è®°å½•

**æ•°æ®ç»“æ„ï¼š**
```typescript
interface ProofreadingHistoryEntry {
  id: number;
  executed_at: string;
  execution_duration_ms: number;

  // é—®é¢˜ç»Ÿè®¡
  total_issues_found: number;
  critical_issues_count: number;
  warning_issues_count: number;
  info_issues_count: number;

  // å†³ç­–ç»Ÿè®¡
  accepted_count: number;
  rejected_count: number;
  modified_count: number;
  pending_count: number;

  // åé¦ˆç»Ÿè®¡
  feedback_provided_count: number;

  // å¼•æ“ä¿¡æ¯
  engine_version: string;
  deterministic_issues_count: number;
  ai_issues_count: number;

  // æ‰§è¡Œäºº
  executed_by: number | null;
}
```

**å±•ç¤ºä½ç½®ï¼š**
- æŠ˜å é¢æ¿ï¼ˆAccordionï¼‰æ”¾åœ¨é¡µé¢é¡¶éƒ¨æˆ–åº•éƒ¨
- æˆ–ç‹¬ç«‹çš„"å†å²"æ ‡ç­¾é¡µ

---

## ğŸ¨ UI Layout Design

### æ¨èå¸ƒå±€ï¼šä¸‰æ å¼ï¼ˆDesktopï¼‰- Phase 8.6 æœ€ç»ˆè®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é¡¶éƒ¨ç»Ÿè®¡æ                                                            â”‚
â”‚ å¾…å¤„ç†: 15  å·²æ¥å—: 6  å·²æ‹’ç»: 2  [ğŸ”´ 3] [ğŸŸ¡ 12] [ğŸ”µ 9]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                 â”‚                         â”‚
â”‚ é—®é¢˜åˆ—è¡¨ â”‚      æ–‡ç« å†…å®¹åŒº (ä¸­é—´åŒºåŸŸ)        â”‚     é—®é¢˜è¯¦æƒ…é¢æ¿         â”‚
â”‚  (20%)   â”‚          (50%)                  â”‚        (30%)            â”‚
â”‚          â”‚                                 â”‚                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ç»Ÿè®¡  â”‚ â”‚ â”‚ [æ–‡ç« ] [å¯¹æ¯”] [é¢„è§ˆ]  å›¾ä¾‹   â”‚ â”‚ â”‚ é—®é¢˜è¯¦æƒ…            â”‚ â”‚
â”‚ â”‚ä¿¡æ¯  â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚ â”‚
â”‚ â”‚å¾…:15 â”‚ â”‚ â”‚                              â”‚ â”‚ â”‚ ğŸ”´ Critical         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ è¿™æ˜¯æ–‡ç« çš„ç¬¬ä¸€æ®µ...           â”‚ â”‚ â”‚ Grammar             â”‚ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚ â”‚                              â”‚ â”‚ â”‚                     â”‚ â”‚
â”‚ â”‚ğŸ”´ #1 â”‚ â”‚ â”‚ ...<span class="bg-red">    â”‚ â”‚ â”‚ åŸæ–‡:               â”‚ â”‚
â”‚ â”‚è¯­æ³•  â”‚ â”‚ â”‚    é—®é¢˜ä½ç½®é«˜äº®</span>...     â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚æ—§â†’æ–° â”‚ â”‚ â”‚                              â”‚ â”‚ â”‚ â”‚ åŸå§‹æ–‡æœ¬å†…å®¹     â”‚ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ è¿™æ˜¯æ–‡ç« çš„ç¬¬äºŒæ®µ...           â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚ â”‚                              â”‚ â”‚ â”‚ å»ºè®®:               â”‚ â”‚
â”‚ â”‚ğŸŸ¡ #2 â”‚ â”‚ â”‚ ...<span class="bg-amber">  â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚æ ‡ç‚¹  â”‚ â”‚ â”‚    å¦ä¸€é—®é¢˜</span>...         â”‚ â”‚ â”‚ â”‚ å»ºè®®ä¿®æ”¹å†…å®¹     â”‚ â”‚ â”‚
â”‚ â”‚æ—§â†’æ–° â”‚ â”‚ â”‚                              â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ ...                          â”‚ â”‚ â”‚                     â”‚ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚ â”‚                              â”‚ â”‚ â”‚ [âœ… æ¥å—] [âŒ æ‹’ç»] â”‚ â”‚
â”‚ â”‚ğŸ”µ #3 â”‚ â”‚ â”‚                              â”‚ â”‚ â”‚                     â”‚ â”‚
â”‚ â”‚å»ºè®®  â”‚ â”‚ â”‚                              â”‚ â”‚ â”‚ å¿«æ·é”®:             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚                              â”‚ â”‚ â”‚ A æ¥å— R æ‹’ç» â†‘â†“   â”‚ â”‚
â”‚ ...      â”‚ â”‚                              â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                         â”‚
â”‚          â”‚                                 â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ åº•éƒ¨å·¥å…·æ                                                             â”‚
â”‚ [æäº¤å®¡æ ¸] æˆ–è¿”å›å·¥ä½œåˆ—è¡¨                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¸­é—´åŒºåŸŸè§†å›¾æ¨¡å¼è¯´æ˜:
- æ–‡ç« æ¨¡å¼(é»˜è®¤): å®Œæ•´æ–‡ç« å†…å®¹ï¼Œé—®é¢˜ä½ç½®é«˜äº®æ˜¾ç¤º
- å¯¹æ¯”æ¨¡å¼: åŸæ–‡ä¸AIæ ¡å¯¹åçš„å·®å¼‚å¯¹æ¯”
- é¢„è§ˆæ¨¡å¼: åº”ç”¨å·²æ¥å—ä¿®æ”¹åçš„æœ€ç»ˆæ•ˆæœ
```

### ç§»åŠ¨ç«¯å¸ƒå±€ï¼ˆResponsiveï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜°  æ ¡å¯¹å®¡æ ¸  [ä¿å­˜] [å®Œæˆ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           â”‚
â”‚ æ ‡ç­¾é¡µå¯¼èˆª:                â”‚
â”‚ [æ–‡ç« å†…å®¹] [é—®é¢˜åˆ—è¡¨]      â”‚
â”‚                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           â”‚
â”‚  (æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µå†…å®¹)    â”‚
â”‚                           â”‚
â”‚                           â”‚
â”‚                           â”‚
â”‚                           â”‚
â”‚                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å½“å‰é—®é¢˜: #5 / 24         â”‚
â”‚ ğŸ”´ Critical - Grammar     â”‚
â”‚ [è¯¦æƒ…] [ä¸Šä¸€ä¸ª] [ä¸‹ä¸€ä¸ª]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ API Requirements

### å¿…éœ€çš„åç«¯API

**1. è·å–Worklistè¯¦æƒ…ï¼ˆå·²å­˜åœ¨ï¼‰**
```
GET /v1/worklist/{id}

Response: WorklistItemDetail
{
  id, title, content, status,
  article_id, article_status,
  proofreading_issues: ProofreadingIssue[],
  article_status_history,
  ...
}
```

**2. è·å–æ ¡å¯¹å†å²ï¼ˆéœ€æ–°å¢ï¼‰**
```
GET /v1/worklist/{id}/proofreading-history

Response: ProofreadingHistory[]
```

**3. ä¿å­˜å®¡æ ¸å†³ç­–ï¼ˆéœ€æ–°å¢ï¼‰**
```
POST /v1/worklist/{id}/review-decisions

Request:
{
  decisions: DecisionPayload[],
  review_notes: string,
  transition_to: 'ready_to_publish' | 'proofreading' | 'failed'
}

Response:
{
  success: boolean,
  saved_decisions_count: number,
  worklist_status: string,
  article_status: string,
  errors: string[]
}
```

**4. è·å–å•ä¸ªé—®é¢˜è¯¦æƒ…ï¼ˆéœ€æ–°å¢ï¼Œå¯é€‰ï¼‰**
```
GET /v1/worklist/{id}/issues/{issue_id}

Response: ProofreadingIssueDetail
```

**5. æ‰¹é‡å†³ç­–ï¼ˆéœ€æ–°å¢ï¼Œå¯é€‰ï¼‰**
```
POST /v1/worklist/{id}/batch-decisions

Request:
{
  issue_ids: string[],
  decision_type: 'accepted' | 'rejected',
  rationale: string
}

Response: BatchDecisionResult
```

---

## âœ… Acceptance Criteria

### AC-001: åŸºæœ¬åŠŸèƒ½å®Œæ•´æ€§
- [ ] èƒ½åŠ è½½å¹¶æ¸²æŸ“worklistè¯¦æƒ…
- [ ] èƒ½æ˜¾ç¤ºæ‰€æœ‰æ ¡å¯¹é—®é¢˜åˆ—è¡¨
- [ ] èƒ½æ˜¾ç¤ºé—®é¢˜è¯¦æƒ…å’Œå†³ç­–é¢æ¿
- [ ] èƒ½å¯¹æ¯ä¸ªé—®é¢˜åšå‡ºå†³ç­–ï¼ˆæ¥å—/æ‹’ç»/ä¿®æ”¹ï¼‰
- [ ] èƒ½ä¿å­˜æ‰€æœ‰å†³ç­–åˆ°æ•°æ®åº“
- [ ] èƒ½è½¬æ¢worklistçŠ¶æ€ï¼ˆunder_review â†’ ready_to_publishï¼‰

### AC-002: äº¤äº’ä½“éªŒ
- [ ] ç‚¹å‡»é—®é¢˜åˆ—è¡¨é¡¹ï¼Œæ–‡ç« å†…å®¹æ»šåŠ¨åˆ°å¯¹åº”ä½ç½®
- [ ] ç‚¹å‡»æ–‡ç« ä¸­çš„æ ‡æ³¨ï¼Œå³ä¾§é¢æ¿æ˜¾ç¤ºé—®é¢˜è¯¦æƒ…
- [ ] å¿«æ·é”®æ­£å¸¸å·¥ä½œï¼ˆA/R/E/â†‘/â†“/Escï¼‰
- [ ] æ‰¹é‡é€‰æ‹©å’Œæ‰¹é‡æ“ä½œæ­£å¸¸
- [ ] å®æ—¶é¢„è§ˆä¿®æ”¹æ•ˆæœæ­£ç¡®
- [ ] Loadingã€Errorã€EmptyçŠ¶æ€æ­£ç¡®æ˜¾ç¤º

### AC-003: æ€§èƒ½è¦æ±‚
- [ ] åŠ è½½æ—¶é—´ < 2s (p95)
- [ ] é—®é¢˜åˆ—è¡¨æ¸²æŸ“ï¼ˆ100ä¸ªé—®é¢˜ï¼‰ < 500ms
- [ ] åˆ‡æ¢é—®é¢˜å“åº”æ—¶é—´ < 100ms
- [ ] æ»šåŠ¨æ€§èƒ½ â‰¥ 60fps
- [ ] ä¿å­˜å†³ç­–APIå“åº” < 1s

### AC-004: æ•°æ®å‡†ç¡®æ€§
- [ ] å†³ç­–æ­£ç¡®ä¿å­˜åˆ°proofreading_decisionsè¡¨
- [ ] WorklistçŠ¶æ€æ­£ç¡®è½¬æ¢
- [ ] ArticleçŠ¶æ€æ­£ç¡®åŒæ­¥
- [ ] ArticleStatusHistoryæ­£ç¡®è®°å½•
- [ ] é—®é¢˜ç»Ÿè®¡æ•°æ®å‡†ç¡®

### AC-005: è¾¹ç•Œæƒ…å†µå¤„ç†
- [ ] æ— é—®é¢˜æ—¶æ˜¾ç¤º"æ— æ ¡å¯¹é—®é¢˜"
- [ ] ç½‘ç»œé”™è¯¯æ—¶æ˜¾ç¤ºé‡è¯•
- [ ] ä¿å­˜å¤±è´¥æ—¶ä¸ä¸¢å¤±æ•°æ®
- [ ] å¹¶å‘ç¼–è¾‘å†²çªæç¤º
- [ ] æœªå¤„ç†é—®é¢˜è­¦å‘Š

---

## ğŸš§ Implementation Phases

### Phase 1: æ ¸å¿ƒåŠŸèƒ½ (3-4 days)
- [ ] åˆ›å»ºProofreadingReviewPageç»„ä»¶
- [ ] å®ç°ä¸‰æ å¸ƒå±€ï¼ˆé—®é¢˜åˆ—è¡¨ + å†…å®¹ + è¯¦æƒ…ï¼‰
- [ ] å®ç°é—®é¢˜åˆ—è¡¨å±•ç¤ºå’Œè¿‡æ»¤
- [ ] å®ç°é—®é¢˜è¯¦æƒ…é¢æ¿
- [ ] å®ç°åŸºæœ¬å†³ç­–åŠŸèƒ½ï¼ˆæ¥å—/æ‹’ç»ï¼‰
- [ ] å®ç°ä¿å­˜å†³ç­–APIé›†æˆ
- [ ] å®ç°çŠ¶æ€è½¬æ¢é€»è¾‘

### Phase 2: å¢å¼ºäº¤äº’ (2-3 days)
- [ ] å®ç°åŸæ–‡é—®é¢˜æ ‡æ³¨é«˜äº®
- [ ] å®ç°ç‚¹å‡»å¯¼èˆªå’Œæ»šåŠ¨å®šä½
- [ ] å®ç°å¿«æ·é”®æ”¯æŒ
- [ ] å®ç°è‡ªå®šä¹‰ä¿®æ”¹åŠŸèƒ½
- [ ] å®ç°å®æ—¶é¢„è§ˆæ¨¡å¼
- [ ] å®ç°æ‰¹é‡å†³ç­–åŠŸèƒ½

### Phase 3: ä¼˜åŒ–å’Œå®Œå–„ (2 days)
- [ ] å®ç°å®¡æ ¸å†å²è®°å½•å±•ç¤º
- [ ] å®ç°åé¦ˆåŠŸèƒ½
- [ ] æ€§èƒ½ä¼˜åŒ–ï¼ˆè™šæ‹Ÿæ»šåŠ¨ï¼‰
- [ ] å“åº”å¼å¸ƒå±€é€‚é…
- [ ] E2Eæµ‹è¯•ç¼–å†™
- [ ] æ–‡æ¡£å®Œå–„

---

## ğŸ“ Notes

### å…³é”®æŠ€æœ¯å†³ç­–

1. **Markdownæ¸²æŸ“**: ä½¿ç”¨react-markdown + remark-gfm
2. **æ–‡æœ¬é«˜äº®**: ä½¿ç”¨react-highlight-wordsæˆ–è‡ªå®šä¹‰Range API
3. **çŠ¶æ€ç®¡ç†**: React Query + Zustand (å…¨å±€å†³ç­–çŠ¶æ€)
4. **è¡¨å•å¤„ç†**: React Hook Form (å†³ç­–è¡¨å•)
5. **å¿«æ·é”®**: react-hotkeys-hook
6. **è™šæ‹Ÿæ»šåŠ¨**: react-window (é—®é¢˜åˆ—è¡¨ä¼˜åŒ–)

### æ•°æ®æµè®¾è®¡

```
User Action â†’ Local State Update â†’ Optimistic UI Update
                                         â†“
                                   (Auto Save to Server)
                                         â†“
                                   Server Response
                                         â†“
                                   Update Local State
                                         â†“
                                   Sync UI State
```

### æ½œåœ¨é£é™©

- **R1**: å¤§æ–‡ç« ï¼ˆ>10,000å­—ï¼‰æ¸²æŸ“æ€§èƒ½é—®é¢˜
  - ç¼“è§£ï¼šè™šæ‹Ÿæ»šåŠ¨ + åˆ†é¡µåŠ è½½

- **R2**: é—®é¢˜æ ‡æ³¨é‡å å¯¼è‡´äº¤äº’æ··ä¹±
  - ç¼“è§£ï¼šæ™ºèƒ½åµŒå¥—å¤„ç† + tooltipä¼˜å…ˆçº§

- **R3**: å¹¶å‘ç¼–è¾‘å†²çªï¼ˆå¤šç”¨æˆ·åŒæ—¶å®¡æ ¸ï¼‰
  - ç¼“è§£ï¼šä¹è§‚é” + å†²çªæ£€æµ‹

- **R4**: è‡ªåŠ¨ä¿å­˜ä¸¢å¤±æ•°æ®
  - ç¼“è§£ï¼šæœ¬åœ°ç¼“å­˜ + æ¢å¤æœºåˆ¶

---

**Document Version:** 1.0
**Last Updated:** 2025-11-07
**Next Review:** After Phase 1 Implementation
