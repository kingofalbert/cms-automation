# SEO Title æå–èˆ‡å»ºè­°åŠŸèƒ½ - éœ€æ±‚è¦æ ¼èªªæ˜

**Feature ID:** 006-seo-title-extraction
**å‰µå»ºæ—¥æœŸ:** 2025-01-14
**æœ€å¾Œæ›´æ–°:** 2025-01-14
**å„ªå…ˆç´š:** High
**ç‹€æ…‹:** å¾…å¯¦æ–½ (Planned)

---

## ğŸ“‹ æ¦‚è¿°

### èƒŒæ™¯

ç•¶å‰ç³»çµ±åœ¨ Phase 7 å·²å¯¦ç¾æ–‡ç« çµæ§‹åŒ–è§£æï¼ˆTitleã€Authorã€Bodyã€SEO Metadataã€Imagesï¼‰ï¼Œä½†å­˜åœ¨ä»¥ä¸‹å•é¡Œï¼š

1. **SEO Title èˆ‡ H1 æ¨™é¡Œæ··ç”¨**ï¼šç³»çµ±æœªå€åˆ†æœå°‹å¼•æ“é¡¯ç¤ºçš„ SEO Title å’Œé é¢å…§å®¹çš„ H1 æ¨™é¡Œ
2. **åŸæ–‡ SEO Title ç„¡æ³•æå–**ï¼šå³ä½¿æ–‡ç« ä¸­æ¨™è¨˜äº†ã€Œé€™æ˜¯ SEO titleã€ï¼Œè§£æå™¨ä¹Ÿç„¡æ³•è­˜åˆ¥
3. **AI å»ºè­°ä¸å¤ ç²¾æº–**ï¼šç›®å‰çš„ Title Suggestions åƒ…é‡å° H1ï¼Œæœªç”Ÿæˆå°ˆé–€çš„ SEO Title é¸é …
4. **ç”¨æˆ¶ç„¡æ³•é¸æ“‡**ï¼šå‰ç«¯æ²’æœ‰æä¾› SEO Title çš„é¸æ“‡å’Œç·¨è¼¯ä»‹é¢
5. **WordPress ç™¼ä½ˆå•é¡Œ**ï¼šç™¼ä½ˆæ™‚ SEO Title å’Œ H1 ä½¿ç”¨ç›¸åŒå…§å®¹ï¼Œä¸ç¬¦åˆ SEO æœ€ä½³å¯¦è¸

### SEO Title vs H1 vs Meta Description èªªæ˜

| å…ƒç´  | ä½ç½® | åŠŸèƒ½ | SEO æ¬Šé‡ | é•·åº¦é™åˆ¶ | ç”¨é€” |
|------|------|------|---------|---------|------|
| **SEO Title (Title Tag)** | HTML `<head>` ä¸­çš„ `<title>` | æœå°‹çµæœé é¢é¡¯ç¤ºçš„æ¨™é¡Œ | æœ€é«˜ | ~30 å­— | çµ¦æœå°‹å¼•æ“å’Œç”¨æˆ¶çš„ç¬¬ä¸€å°è±¡ |
| **H1 æ¨™é¡Œ** | HTML `<body>` ä¸­çš„ `<h1>` | é é¢å…§å®¹çš„ä¸»æ¨™é¡Œ | ä¸­ç­‰ | è¼ƒé•· | ç”¨æˆ¶é–±è®€é«”é©— |
| **Meta Description** | HTML `<head>` ä¸­çš„ `<meta name="description">` | æœå°‹çµæœä¸­ Title ä¸‹æ–¹çš„æ‘˜è¦ | ä¸ç›´æ¥å½±éŸ¿æ’å | 150-160 å­— | å¸å¼•ç”¨æˆ¶é»æ“Š |

**å»ºè­°é—œä¿‚**ï¼š
- ä¸‰è€…æ‡‰ä¸»é¡Œä¸€è‡´ä½†è§’åº¦ä¸åŒ
- SEO Titleï¼šç²¾ç°¡èšç„¦é—œéµå­—
- H1ï¼šæ›´å®Œæ•´æè¿°å…§å®¹
- Meta Descriptionï¼šè£œå……èªªæ˜å¸å¼•é»æ“Š
- **ä¸å»ºè­°ä¸‰è€…å®Œå…¨ç›¸åŒ**

### ç›®æ¨™

å¯¦ç¾ã€ŒSEO Title æå– â†’ AI å»ºè­°ç”Ÿæˆ â†’ ç”¨æˆ¶é¸æ“‡ â†’ WordPress ç™¼ä½ˆã€çš„å®Œæ•´æµç¨‹ï¼š

1. **åŸæ–‡æå–**ï¼šå¾ Google Docs ä¸­è­˜åˆ¥ä¸¦æå–æ¨™è¨˜ç‚ºã€Œé€™æ˜¯ SEO titleã€çš„å…§å®¹
2. **ç¨ç«‹å„²å­˜**ï¼šåœ¨è³‡æ–™åº«ä¸­å°‡ SEO Title èˆ‡ H1 æ¨™é¡Œåˆ†é›¢å„²å­˜
3. **AI å»ºè­°**ï¼šç”Ÿæˆ 2-3 å€‹é‡å° SEO å„ªåŒ–çš„æ¨™é¡Œé¸é …ï¼ˆ30 å­—ä»¥å…§ï¼‰
4. **ç”¨æˆ¶é¸æ“‡**ï¼šæä¾›æ¸…æ™°çš„ä»‹é¢è®“ç”¨æˆ¶é¸æ“‡åŸæ–‡æå–/AI å»ºè­°/è‡ªå®šç¾©
5. **WordPress æ•´åˆ**ï¼šç™¼ä½ˆæ™‚æ­£ç¢ºè¨­å®š SEO Title å’Œ H1 æ¨™é¡Œ

### ç¯„åœ

- âœ… è³‡æ–™åº«æ¶æ§‹èª¿æ•´ï¼ˆæ–°å¢ SEO Title å­—æ®µï¼‰
- âœ… AI è§£æå™¨æ›´æ–°ï¼ˆè­˜åˆ¥ SEO Title æ¨™è¨˜ï¼‰
- âœ… å•Ÿç™¼å¼è§£æå™¨æ›´æ–°ï¼ˆæ­£å‰‡è¡¨é”å¼åŒ¹é…ï¼‰
- âœ… çµ±ä¸€å„ªåŒ–æœå‹™æ“´å±•ï¼ˆç”Ÿæˆ SEO Title å»ºè­°ï¼‰
- âœ… å‰ç«¯ SEO Title é¸æ“‡å…ƒä»¶
- âœ… WordPress ç™¼ä½ˆæ•´åˆ
- âœ… å®Œæ•´æ¸¬è©¦æ–¹æ¡ˆ
- âŒ å¤šèªè¨€ SEO Titleï¼ˆå¾ŒçºŒå„ªåŒ–ï¼‰
- âŒ A/B æ¸¬è©¦æ¡†æ¶ï¼ˆå¾ŒçºŒå„ªåŒ–ï¼‰

---

## ğŸ¯ éœ€æ±‚è©³æƒ…

### åŠŸèƒ½éœ€æ±‚ (FR)

| ID | æè¿° | å„ªå…ˆç´š |
|----|------|-------|
| **FR-1** | ç³»çµ±å¿…é ˆèƒ½å¾ Google Docs HTML ä¸­è­˜åˆ¥ã€Œé€™æ˜¯ SEO titleï¼šã€ã€ã€ŒSEOæ¨™é¡Œï¼šã€ç­‰æ¨™è¨˜ä¸¦æå– SEO Title | P0 |
| **FR-2** | è³‡æ–™åº«å¿…é ˆæ–°å¢ `seo_title`ã€`seo_title_extracted`ã€`seo_title_source` å­—æ®µåˆ° articles è¡¨ | P0 |
| **FR-3** | AI è§£æå™¨ï¼ˆClaudeï¼‰å¿…é ˆèƒ½åœ¨è§£ææ™‚åŒæ™‚æå– H1 æ¨™é¡Œå’Œ SEO Title | P0 |
| **FR-4** | å•Ÿç™¼å¼è§£æå™¨å¿…é ˆä½¿ç”¨æ­£å‰‡è¡¨é”å¼åŒ¹é…å¤šç¨® SEO Title æ¨™è¨˜æ¨¡å¼ | P0 |
| **FR-5** | UnifiedOptimizationService å¿…é ˆç”Ÿæˆ 2-3 å€‹ SEO Title å»ºè­°é¸é …ï¼ˆæ¯å€‹ â‰¤30 å­—ï¼‰ | P0 |
| **FR-6** | SEO Title å»ºè­°å¿…é ˆåŒ…å«ï¼šæ¨™é¡Œæ–‡æœ¬ã€æ¨ç†èªªæ˜ã€é—œéµå­—ç„¦é»ã€å­—æ•¸çµ±è¨ˆ | P0 |
| **FR-7** | å‰ç«¯å¿…é ˆæä¾› SEO Title é¸æ“‡ä»‹é¢ï¼Œæ”¯æ´é¸æ“‡åŸæ–‡æå–/AI å»ºè­°/è‡ªå®šç¾© | P0 |
| **FR-8** | ç³»çµ±å¿…é ˆæä¾› `/articles/{id}/select-seo-title` API ç«¯é»ç”¨æ–¼é¸æ“‡ SEO Title | P0 |
| **FR-9** | WordPress ç™¼ä½ˆæ™‚å¿…é ˆå°‡ SEO Title è¨­å®šåˆ° Yoast SEO æˆ– Rank Math çš„ meta_title å­—æ®µ | P1 |
| **FR-10** | å‰ç«¯å¿…é ˆæ¸…æ¥šå€åˆ† SEO Title å’Œ H1 æ¨™é¡Œçš„é¡¯ç¤ºå’Œç”¨é€” | P1 |
| **FR-11** | SEO Title é¸æ“‡å¾Œå¿…é ˆè¨˜éŒ„ä¾†æºï¼ˆextracted/ai_generated/user_inputï¼‰ | P1 |
| **FR-12** | ç³»çµ±å¿…é ˆé©—è­‰è‡ªå®šç¾© SEO Title ä¸è¶…é 30 å­—ï¼ˆ60 charactersï¼‰ | P1 |

### éåŠŸèƒ½éœ€æ±‚ (NFR)

| ID | æè¿° | å„ªå…ˆç´š |
|----|------|-------|
| **NFR-1** | SEO Title æå–æº–ç¢ºç‡å¿…é ˆ > 95%ï¼ˆç•¶æ–‡ç« æœ‰æ¨™è¨˜æ™‚ï¼‰ | P0 |
| **NFR-2** | AI ç”Ÿæˆ SEO Title å»ºè­°çš„æ™‚é–“å¿…é ˆ < 30 ç§’ï¼ˆä½œç‚ºçµ±ä¸€å„ªåŒ–çš„ä¸€éƒ¨åˆ†ï¼‰ | P0 |
| **NFR-3** | SEO Title é¸æ“‡ API å›æ‡‰æ™‚é–“å¿…é ˆ < 500ms | P0 |
| **NFR-4** | å‰ç«¯é é¢è¼‰å…¥æ™‚é–“å¿…é ˆ < 2 ç§’ | P1 |
| **NFR-5** | AI ç”Ÿæˆçš„ SEO Title å¿…é ˆèˆ‡ H1 æœ‰å·®ç•°åŒ–ï¼ˆéå®Œå…¨ç›¸åŒï¼‰ | P1 |
| **NFR-6** | è³‡æ–™åº«é·ç§»å¿…é ˆä¿è­‰é›¶åœæ©Ÿï¼ˆä½¿ç”¨ nullable å­—æ®µï¼‰ | P0 |
| **NFR-7** | æ­·å²æ–‡ç« å¿…é ˆè‡ªå‹•é·ç§»ï¼ˆå°‡ title_main è¤‡è£½ç‚ºåˆå§‹ seo_titleï¼‰ | P0 |

### æ¥­å‹™è¦å‰‡ (BR)

| ID | è¦å‰‡ |
|----|------|
| **BR-1** | SEO Title é•·åº¦å»ºè­° â‰¤ 30 ä¸­æ–‡å­—ï¼ˆç´„ 60 charactersï¼‰ |
| **BR-2** | SEO Title å¿…é ˆåŒ…å«æ ¸å¿ƒé—œéµå­—ä»¥æå‡æœå°‹æ’å |
| **BR-3** | SEO Title èˆ‡ H1 æ¨™é¡Œæ‡‰ä¸»é¡Œä¸€è‡´ä½†è¡¨é”ä¸åŒ |
| **BR-4** | å¦‚æœåŸæ–‡æœ‰æ¨™è¨˜ SEO Titleï¼Œå„ªå…ˆé¡¯ç¤ºåŸæ–‡æå–çš„é¸é … |
| **BR-5** | AI å»ºè­°å¿…é ˆæä¾› 2-3 å€‹ä¸åŒé¢¨æ ¼çš„é¸é …ï¼ˆå«/ä¸å«åˆ†é¡æ¨™ç±¤ã€ä¸åŒé—œéµå­—ç„¦é»ç­‰ï¼‰ |
| **BR-6** | ç”¨æˆ¶æœªé¸æ“‡ SEO Title æ™‚ï¼Œç³»çµ±æ‡‰ä½¿ç”¨ H1 çš„ title_main ä½œç‚º fallback |
| **BR-7** | SEO Title ä¾†æºå¿…é ˆå¯è¿½æº¯ï¼ˆextracted/ai_generated/user_input/migratedï¼‰ |

---

## ğŸ‘¥ ç”¨æˆ¶æ•…äº‹

### Story 1: ç·¨è¼¯æå–åŸæ–‡ SEO Title

**ä½œç‚º**ç·¨è¼¯ï¼Œ
**æˆ‘æƒ³è¦**ç³»çµ±èƒ½è‡ªå‹•è­˜åˆ¥æ–‡ç« ä¸­æ¨™è¨˜çš„ã€Œé€™æ˜¯ SEO titleã€å…§å®¹ï¼Œ
**ä»¥ä¾¿**æˆ‘ä¸éœ€è¦æ‰‹å‹•è¤‡è£½ç²˜è²¼åˆ°å–®ç¨çš„æ¬„ä½ä¸­ã€‚

**é©—æ”¶æ¨™æº–ï¼š**
- âœ… ä¸Šå‚³åŒ…å«ã€Œé€™æ˜¯ SEO titleï¼šXXXã€çš„ Google Docs
- âœ… è§£æå¾Œé¡¯ç¤ºã€ŒåŸæ–‡æå–ã€çš„ SEO Title
- âœ… SEO Title èˆ‡ H1 æ¨™é¡Œåˆ†åˆ¥é¡¯ç¤º
- âœ… å¯ä»¥é¸æ“‡ä½¿ç”¨åŸæ–‡æå–çš„ SEO Title

### Story 2: ç·¨è¼¯é¸æ“‡ AI å»ºè­°çš„ SEO Title

**ä½œç‚º**ç·¨è¼¯ï¼Œ
**æˆ‘æƒ³è¦**AI ç”Ÿæˆ 2-3 å€‹é‡å° SEO å„ªåŒ–çš„æ¨™é¡Œé¸é …ï¼Œ
**ä»¥ä¾¿**æˆ‘å¯ä»¥é¸æ“‡æœ€é©åˆæœå°‹å¼•æ“çš„æ¨™é¡Œè€Œä¸éœ€è¦è‡ªå·±æ’°å¯«ã€‚

**é©—æ”¶æ¨™æº–ï¼š**
- âœ… ç¢ºèªè§£æå¾Œè‡ªå‹•ç”Ÿæˆ SEO Title å»ºè­°
- âœ… é¡¯ç¤º 2-3 å€‹ä¸åŒçš„ SEO Title é¸é …
- âœ… æ¯å€‹é¸é …é¡¯ç¤ºæ¨ç†èªªæ˜ã€é—œéµå­—ç„¦é»ã€å­—æ•¸
- âœ… å¯ä»¥é»æ“Šã€Œé¸æ“‡ã€æŒ‰éˆ•é¸æ“‡ä»»ä¸€é¸é …
- âœ… é¸æ“‡å¾Œé¡¯ç¤ºã€Œâœ“ å·²é¸æ“‡ã€ç‹€æ…‹

### Story 3: ç·¨è¼¯è‡ªå®šç¾© SEO Title

**ä½œç‚º**ç·¨è¼¯ï¼Œ
**æˆ‘æƒ³è¦**èƒ½å¤ è¼¸å…¥è‡ªå®šç¾©çš„ SEO Titleï¼Œ
**ä»¥ä¾¿**ç•¶ AI å»ºè­°å’ŒåŸæ–‡æå–éƒ½ä¸æ»¿æ„æ™‚ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨è‡ªå·±çš„ç‰ˆæœ¬ã€‚

**é©—æ”¶æ¨™æº–ï¼š**
- âœ… é»æ“Šã€Œè‡ªå®šç¾© SEO Titleã€æŒ‰éˆ•
- âœ… é¡¯ç¤ºè¼¸å…¥æ¡†ï¼Œå¯è¼¸å…¥è‡ªå®šç¾©æ¨™é¡Œ
- âœ… å³æ™‚é¡¯ç¤ºå­—æ•¸çµ±è¨ˆ
- âœ… è¶…é 30 å­—æ™‚é¡¯ç¤ºè­¦å‘Š
- âœ… ä¿å­˜å¾Œæ›´æ–°ç‚ºè‡ªå®šç¾©çš„ SEO Title

### Story 4: ç·¨è¼¯ç†è§£ SEO Title èˆ‡ H1 çš„å€åˆ¥

**ä½œç‚º**ç·¨è¼¯ï¼Œ
**æˆ‘æƒ³è¦**ä»‹é¢æ¸…æ¥šèªªæ˜ SEO Title å’Œ H1 æ¨™é¡Œçš„å€åˆ¥ï¼Œ
**ä»¥ä¾¿**æˆ‘èƒ½ç†è§£ç‚ºä»€éº¼éœ€è¦åˆ†åˆ¥è¨­å®šã€‚

**é©—æ”¶æ¨™æº–ï¼š**
- âœ… é¡¯ç¤º SEO Title vs H1 vs Meta Description çš„å°æ¯”èªªæ˜
- âœ… ä½¿ç”¨ä¸åŒé¡è‰²æˆ–æ¨™ç±¤å€åˆ† SEO Title å’Œ H1
- âœ… æä¾› AI å„ªåŒ–å»ºè­°ï¼ˆå¦‚ã€ŒSEO Title ä¿æŒåœ¨ 30 å­—ä»¥å…§ã€ï¼‰
- âœ… é¡¯ç¤ºæ¯å€‹é¸é …çš„é—œéµå­—ç„¦é»

### Story 5: WordPress ç™¼ä½ˆæ­£ç¢ºè¨­å®š SEO Title

**ä½œç‚º**ç³»çµ±ç®¡ç†å“¡ï¼Œ
**æˆ‘æƒ³è¦**ç™¼ä½ˆåˆ° WordPress æ™‚æ­£ç¢ºè¨­å®š SEO Title å’Œ H1 æ¨™é¡Œï¼Œ
**ä»¥ä¾¿**ç¶²ç«™çš„ SEO å„ªåŒ–ç¬¦åˆæœ€ä½³å¯¦è¸ã€‚

**é©—æ”¶æ¨™æº–ï¼š**
- âœ… ç™¼ä½ˆæ™‚ WordPress æ–‡ç« æ¨™é¡Œä½¿ç”¨ H1 (title_main)
- âœ… Yoast SEO çš„ meta_title ä½¿ç”¨é¸å®šçš„ SEO Title
- âœ… æœå°‹å¼•æ“æŠ“å–æ™‚é¡¯ç¤º SEO Title
- âœ… é é¢å…§å®¹é¡¯ç¤º H1 æ¨™é¡Œ
- âœ… å…©è€…å…§å®¹ä¸å®Œå…¨ç›¸åŒ

---

## ğŸ”§ æŠ€è¡“éœ€æ±‚

### è³‡æ–™åº«æ¶æ§‹

#### 1. articles è¡¨æ–°å¢å­—æ®µ

```sql
-- æ–°å¢ SEO Title å­—æ®µ
ALTER TABLE articles ADD COLUMN seo_title VARCHAR(200) NULL
  COMMENT 'SEO Title Tag (30å­—å·¦å³ï¼Œç”¨æ–¼<title>æ¨™ç±¤å’Œæœå°‹çµæœé¡¯ç¤º)';

ALTER TABLE articles ADD COLUMN seo_title_extracted BOOLEAN NOT NULL DEFAULT FALSE
  COMMENT 'æ˜¯å¦å¾åŸæ–‡ä¸­æå–äº†æ¨™è¨˜çš„ SEO Title';

ALTER TABLE articles ADD COLUMN seo_title_source VARCHAR(50) NULL
  COMMENT 'SEO Title ä¾†æºï¼šextracted/ai_generated/user_input/migrated';

-- æ­·å²æ•¸æ“šé·ç§»
UPDATE articles
SET seo_title = title_main, seo_title_source = 'migrated'
WHERE title_main IS NOT NULL AND seo_title IS NULL;
```

#### 2. title_suggestions è¡¨æ–°å¢å­—æ®µ

```sql
-- æ–°å¢ SEO Title å»ºè­°å­—æ®µ
ALTER TABLE title_suggestions ADD COLUMN suggested_seo_titles JSONB NULL
  COMMENT 'AIç”Ÿæˆçš„ SEO Title å»ºè­° (2-3 å€‹é¸é …ï¼Œ30å­—å·¦å³)';

-- æ›´æ–°ç¾æœ‰å­—æ®µè¨»é‡‹
COMMENT ON COLUMN title_suggestions.suggested_title_sets IS
  'AIç”Ÿæˆçš„ H1 æ¨™é¡Œå»ºè­° (prefix + main + suffix çµ„åˆï¼Œç”¨æ–¼é é¢å…§å®¹)';
```

#### 3. suggested_seo_titles JSONB çµæ§‹

```json
{
  "variants": [
    {
      "id": "seo_variant_1",
      "seo_title": "2024å¹´AIé†«ç™‚å‰µæ–°è¶¨å‹¢",
      "reasoning": "èšç„¦æ ¸å¿ƒé—œéµå­—ã€ŒAIé†«ç™‚ã€å’Œã€Œå‰µæ–°ã€ï¼Œ30å­—å…§",
      "keywords_focus": ["AIé†«ç™‚", "å‰µæ–°", "2024"],
      "character_count": 12
    },
    {
      "id": "seo_variant_2",
      "seo_title": "ã€é†«ç™‚ç§‘æŠ€ã€‘AIè¨ºæ–·å¦‚ä½•æ”¹è®Šæœªä¾†",
      "reasoning": "åŠ å…¥åˆ†é¡å‰ç¶´æå‡å°ˆæ¥­åº¦ï¼Œå¼·èª¿ã€Œè¨ºæ–·ã€å’Œã€Œæœªä¾†ã€",
      "keywords_focus": ["é†«ç™‚ç§‘æŠ€", "AIè¨ºæ–·", "æœªä¾†"],
      "character_count": 17
    },
    {
      "id": "seo_variant_3",
      "seo_title": "é è·é†«ç™‚èˆ‡AIçµåˆï¼š2024çªç ´",
      "reasoning": "çµåˆå…©å€‹ç†±é–€è©±é¡Œã€Œé è·é†«ç™‚ã€å’Œã€ŒAIã€",
      "keywords_focus": ["é è·é†«ç™‚", "AI", "2024"],
      "character_count": 16
    }
  ],
  "original_seo_title": "2024å¹´é†«ç™‚ä¿å¥å‰µæ–°è¶¨å‹¢",
  "notes": [
    "SEO Title å»ºè­°ä¿æŒåœ¨ 30 å­—ä»¥å…§",
    "åŒ…å«æ ¸å¿ƒé—œéµå­—ä»¥æå‡æœå°‹æ’å",
    "èˆ‡ H1 æ¨™é¡Œä¸»é¡Œä¸€è‡´ä½†æ›´ç²¾ç°¡"
  ]
}
```

### API ç«¯é»

#### 1. æ›´æ–°è§£æçµæœå›æ‡‰ï¼ˆç¾æœ‰ç«¯é»ï¼‰

**GET** `/api/v1/articles/{article_id}/parsing-result`

å›æ‡‰å¢åŠ å­—æ®µï¼š
```json
{
  "title_prefix": "ã€å°ˆé¡Œå ±å°ã€‘",
  "title_main": "2024å¹´é†«ç™‚ä¿å¥å‰µæ–°è¶¨å‹¢åˆ†æ",
  "title_suffix": "å¾AIè¨ºæ–·åˆ°é è·é†«ç™‚çš„å…¨é¢çªç ´",
  "full_title": "ã€å°ˆé¡Œå ±å°ã€‘2024å¹´é†«ç™‚ä¿å¥å‰µæ–°è¶¨å‹¢åˆ†æï¼šå¾AIè¨ºæ–·åˆ°é è·é†«ç™‚çš„å…¨é¢çªç ´",

  "seo_title": "2024å¹´AIé†«ç™‚å‰µæ–°è¶¨å‹¢",
  "seo_title_extracted": true,
  "seo_title_source": "extracted",

  "author_name": "å¼µä¸‰",
  "body_html": "<p>...</p>",
  "meta_description": "æ¢è¨2024å¹´...",
  "seo_keywords": ["AIé†«ç™‚", "é è·é†«ç™‚"],
  "parsing_method": "ai",
  "parsing_confidence": 0.95
}
```

#### 2. æ›´æ–°å„ªåŒ–å»ºè­°å›æ‡‰ï¼ˆç¾æœ‰ç«¯é»ï¼‰

**GET** `/api/v1/articles/{article_id}/optimizations`

å›æ‡‰å¢åŠ å­—æ®µï¼š
```json
{
  "title_suggestions": {
    "suggested_title_sets": [...]
  },

  "seo_title_suggestions": {
    "variants": [
      {
        "id": "seo_variant_1",
        "seo_title": "2024å¹´AIé†«ç™‚å‰µæ–°è¶¨å‹¢",
        "reasoning": "èšç„¦æ ¸å¿ƒé—œéµå­—...",
        "keywords_focus": ["AIé†«ç™‚", "å‰µæ–°", "2024"],
        "character_count": 12
      }
    ],
    "original_seo_title": "2024å¹´AIé†«ç™‚å‰µæ–°è¶¨å‹¢",
    "notes": [...]
  },

  "seo_keywords": {...},
  "meta_description": {...},
  "faq_schema": [...]
}
```

#### 3. æ–°å¢ SEO Title é¸æ“‡ç«¯é»

**POST** `/api/v1/articles/{article_id}/select-seo-title`

**è«‹æ±‚é«”ï¼š**
```json
{
  "variant_id": "seo_variant_1",      // é¸æ“‡ AI å»ºè­°ï¼ˆä¸‰é¸ä¸€ï¼‰
  "use_original": false,              // ä½¿ç”¨åŸæ–‡æå–
  "custom_seo_title": null            // è‡ªå®šç¾© SEO Title
}
```

**å›æ‡‰ï¼š**
```json
{
  "success": true,
  "message": "SEO Title updated successfully",
  "data": {
    "article_id": 123,
    "seo_title": "2024å¹´AIé†«ç™‚å‰µæ–°è¶¨å‹¢",
    "source": "ai_generated"
  }
}
```

**é©—è­‰è¦å‰‡ï¼š**
- å¿…é ˆæä¾› `variant_id`ã€`use_original=true` æˆ– `custom_seo_title` ä¸‰è€…ä¹‹ä¸€
- `custom_seo_title` é•·åº¦ä¸è¶…é 60 charactersï¼ˆç´„ 30 ä¸­æ–‡å­—ï¼‰
- `variant_id` å¿…é ˆå­˜åœ¨æ–¼ title_suggestions.suggested_seo_titles ä¸­
- `use_original=true` æ™‚å¿…é ˆç¢ºä¿ article.seo_title_extracted = true

### å‰ç«¯å…ƒä»¶

#### 1. SEOTitleSelectionCard å…ƒä»¶

**Props:**
```typescript
interface SEOTitleSelectionCardProps {
  // åŸæ–‡æå–çš„ SEO Title
  originalSEOTitle: string | null;
  seoTitleExtracted: boolean;

  // AI å»ºè­°çš„ SEO Title é¸é …
  suggestions: SEOTitleVariant[];
  notes: string[];

  // ç•¶å‰é¸ä¸­çš„ SEO Title
  currentSEOTitle: string | null;

  // å›èª¿å‡½æ•¸
  onSelect: (variantId: string) => void;
  onUseOriginal: () => void;
  onCustom: (customTitle: string) => void;

  // ç‹€æ…‹
  isLoading?: boolean;
}
```

**åŠŸèƒ½ï¼š**
- é¡¯ç¤ºåŸæ–‡æå–çš„ SEO Titleï¼ˆå¦‚æœæœ‰ï¼‰
- é¡¯ç¤º AI å»ºè­°çš„ 2-3 å€‹é¸é …
- æ”¯æ´è‡ªå®šç¾©è¼¸å…¥
- å³æ™‚å­—æ•¸çµ±è¨ˆ
- æ¸…æ¥šèªªæ˜ SEO Title vs H1 çš„å€åˆ¥

#### 2. æ•´åˆåˆ° ArticleParsingPage

**ä½ç½®ï¼š** `frontend/src/pages/ArticleParsingPage.tsx`

**é¡¯ç¤ºé‚è¼¯ï¼š**
1. è§£æå®Œæˆå¾Œé¡¯ç¤º H1 æ¨™é¡Œå¡ç‰‡
2. ç¢ºèªè§£æå¾Œè‡ªå‹•ç”Ÿæˆå„ªåŒ–å»ºè­°
3. å„ªåŒ–å»ºè­°å®Œæˆå¾Œé¡¯ç¤ºï¼š
   - TitleOptimizationCardï¼ˆH1 æ¨™é¡Œé¸æ“‡ï¼‰
   - SEOTitleSelectionCardï¼ˆSEO Title é¸æ“‡ï¼‰â† **æ–°å¢**
   - SEO Keywordsã€Meta Descriptionã€FAQ å¡ç‰‡

### WordPress æ•´åˆ

**æ–‡ä»¶ï¼š** `backend/src/services/article_importer/wordpress_importer.py`

```python
def _prepare_post_data(self, article: Article) -> dict:
    """Prepare WordPress post data."""

    # SEO Title (fallback to title_main if not set)
    seo_title = article.seo_title or article.title_main

    # H1 Title (complete title with prefix/suffix)
    h1_title = article.title

    return {
        'title': h1_title,  # WordPress æ–‡ç« æ¨™é¡Œï¼ˆH1ï¼‰
        'content': article.body_html,
        'status': 'publish',
        'meta': {
            # Yoast SEO å­—æ®µ
            '_yoast_wpseo_title': seo_title,
            '_yoast_wpseo_metadesc': article.meta_description,
            '_yoast_wpseo_focuskw': article.seo_keywords[0] if article.seo_keywords else '',

            # Rank Math å­—æ®µï¼ˆå‚™é¸ï¼‰
            'rank_math_title': seo_title,
            'rank_math_description': article.meta_description,
            'rank_math_focus_keyword': article.seo_keywords[0] if article.seo_keywords else '',
        },
    }
```

---

## ğŸ“Š è³‡æ–™æµç¨‹

### 1. æ–‡ç« è§£ææµç¨‹

```
Google Docs HTML
      â†“
ArticleParserService.parse_document()
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI è§£æ (Claude)    â”‚ â†’ è­˜åˆ¥ã€Œé€™æ˜¯ SEO titleã€æ¨™è¨˜
â”‚ æˆ–                  â”‚ â†’ æå– SEO Title å’Œ H1 æ¨™é¡Œåˆ†åˆ¥
â”‚ å•Ÿç™¼å¼è§£æ          â”‚ â†’ è¨­å®š seo_title_extracted = true/false
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
ParsedArticle {
  title_prefix, title_main, title_suffix,  // H1
  seo_title, seo_title_extracted,          // SEO Title
  author, body, meta_description, keywords
}
      â†“
å„²å­˜åˆ° articles è¡¨
```

### 2. AI å„ªåŒ–å»ºè­°ç”Ÿæˆæµç¨‹

```
ç”¨æˆ¶ç¢ºèªè§£æ
      â†“
UnifiedOptimizationService.generate_all_optimizations()
      â†“
èª¿ç”¨ Claude APIï¼ˆå–®æ¬¡èª¿ç”¨ï¼‰
      â†“
ç”Ÿæˆï¼š
  - H1 Title Suggestions (2-3 variants)
  - SEO Title Suggestions (2-3 variants) â† æ–°å¢
  - SEO Keywords
  - Meta Description
  - FAQ Schema
      â†“
å„²å­˜åˆ° title_suggestions è¡¨ (suggested_seo_titles å­—æ®µ)
```

### 3. SEO Title é¸æ“‡æµç¨‹

```
ç”¨æˆ¶åœ¨å‰ç«¯é¸æ“‡ SEO Title
      â†“
POST /articles/{id}/select-seo-title
{
  variant_id: "seo_variant_1",
  use_original: false,
  custom_seo_title: null
}
      â†“
æ›´æ–° articles è¡¨ï¼š
  - seo_title = "2024å¹´AIé†«ç™‚å‰µæ–°è¶¨å‹¢"
  - seo_title_source = "ai_generated"
      â†“
å›æ‡‰æˆåŠŸ
```

### 4. WordPress ç™¼ä½ˆæµç¨‹

```
ç”¨æˆ¶é»æ“Šç™¼ä½ˆ
      â†“
WordPressImporter.publish_article()
      â†“
æº–å‚™ç™¼ä½ˆæ•¸æ“šï¼š
  - title = H1 å®Œæ•´æ¨™é¡Œ (title)
  - meta._yoast_wpseo_title = SEO Title (seo_title)
  - meta._yoast_wpseo_metadesc = Meta Description
      â†“
èª¿ç”¨ WordPress REST API
      â†“
WordPress æ–‡ç« ç™¼ä½ˆï¼š
  - <title>SEO Title</title> â† æœå°‹å¼•æ“æŠ“å–
  - <h1>H1 Title</h1> â† é é¢å…§å®¹é¡¯ç¤º
```

---

## ğŸš€ æˆåŠŸæŒ‡æ¨™

### åŠŸèƒ½æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¼ | æ¸¬é‡æ–¹æ³• |
|------|-------|---------|
| SEO Title æå–æº–ç¢ºç‡ | > 95% | æ¸¬è©¦é›†ä¸­æœ‰æ¨™è¨˜çš„æ–‡ç« æå–æˆåŠŸç‡ |
| AI å»ºè­°ç”ŸæˆæˆåŠŸç‡ | > 98% | Claude API èª¿ç”¨æˆåŠŸç‡ |
| SEO Title é¸æ“‡æˆåŠŸç‡ | 100% | API ç«¯é»éŒ¯èª¤ç‡ < 1% |
| WordPress ç™¼ä½ˆæ­£ç¢ºç‡ | 100% | ç™¼ä½ˆå¾Œé©—è­‰ SEO Title å’Œ H1 åˆ†é›¢ |

### æ€§èƒ½æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¼ | æ¸¬é‡æ–¹æ³• |
|------|-------|---------|
| AI è§£ææ™‚é–“ | < 30s | å¹³å‡ API å›æ‡‰æ™‚é–“ |
| SEO Title é¸æ“‡ API | < 500ms | P95 å›æ‡‰æ™‚é–“ |
| å‰ç«¯é é¢è¼‰å…¥ | < 2s | Lighthouse Performance Score |
| è³‡æ–™åº«é·ç§»æ™‚é–“ | < 5min | åœ¨æ¸¬è©¦ç’°å¢ƒæ¸¬é‡ |

### ç”¨æˆ¶é«”é©—æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¼ | æ¸¬é‡æ–¹æ³• |
|------|-------|---------|
| ç”¨æˆ¶ç†è§£ SEO Title ç”¨é€” | > 90% | ç”¨æˆ¶è¨ªè«‡/èª¿æŸ¥ |
| SEO Title é¸æ“‡å®Œæˆç‡ | > 85% | åˆ†æç”¨æˆ¶è¡Œç‚ºæ—¥èªŒ |
| è‡ªå®šç¾© SEO Title ä½¿ç”¨ç‡ | < 20% | çµ±è¨ˆ seo_title_source |
| AI å»ºè­°æ¥å—ç‡ | > 60% | çµ±è¨ˆé¸æ“‡ AI variant çš„æ¯”ä¾‹ |

### æ¥­å‹™æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¼ | æ¸¬é‡æ–¹æ³• |
|------|-------|---------|
| SEO Title èˆ‡ H1 å·®ç•°åŒ–ç‡ | > 80% | æ¯”å° seo_title != title_main çš„æ¯”ä¾‹ |
| æœå°‹æ’åæå‡ | å¾…è§€å¯Ÿ | Google Search Console æ•¸æ“š |
| é»æ“Šç‡æå‡ | å¾…è§€å¯Ÿ | Google Analytics æ•¸æ“š |

---

## ğŸ”’ å®‰å…¨èˆ‡éš±ç§

### å®‰å…¨éœ€æ±‚

1. **è¼¸å…¥é©—è­‰**
   - SEO Title é•·åº¦é™åˆ¶ï¼ˆmax 60 charactersï¼‰
   - é˜²æ­¢ XSS æ³¨å…¥ï¼ˆå‰ç«¯å’Œå¾Œç«¯é›™é‡é©—è­‰ï¼‰
   - API ç«¯é»éœ€è¦èº«ä»½é©—è­‰

2. **è³‡æ–™å®Œæ•´æ€§**
   - variant_id å¿…é ˆå­˜åœ¨æ–¼è³‡æ–™åº«ä¸­
   - åŸæ–‡æå–æ¨¡å¼éœ€é©—è­‰ seo_title_extracted = true
   - è³‡æ–™åº«é·ç§»éœ€ä¿è­‰åŸå­æ€§

3. **éŒ¯èª¤è™•ç†**
   - Claude API å¤±æ•—æ™‚æä¾› fallback
   - è³‡æ–™åº«æ›´æ–°å¤±æ•—æ™‚å›æ»¾
   - å‰ç«¯é¡¯ç¤ºå‹å¥½éŒ¯èª¤è¨Šæ¯

### éš±ç§éœ€æ±‚

1. **è³‡æ–™æœ€å°åŒ–**
   - åƒ…å„²å­˜å¿…è¦çš„ SEO Title ç›¸é—œæ•¸æ“š
   - ä¸è¨˜éŒ„ç”¨æˆ¶ç·¨è¼¯éç¨‹çš„ä¸­é–“ç‹€æ…‹

2. **å­˜å–æ§åˆ¶**
   - åƒ…æˆæ¬Šç”¨æˆ¶å¯ç·¨è¼¯ SEO Title
   - API ç«¯é»éœ€æª¢æŸ¥ç”¨æˆ¶æ¬Šé™

---

## ğŸ“ å‡è¨­èˆ‡ä¾è³´

### å‡è¨­

1. ç”¨æˆ¶æœƒåœ¨ Google Docs ä¸­ä½¿ç”¨ã€Œé€™æ˜¯ SEO titleï¼šã€ç­‰æ¨™è¨˜
2. å¤§éƒ¨åˆ†æ–‡ç« çš„ SEO Title éœ€æ±‚åœ¨ 30 å­—ä»¥å…§
3. ç”¨æˆ¶ç†è§£ SEO Title èˆ‡ H1 çš„å€åˆ¥ï¼ˆéœ€æä¾›èªªæ˜ï¼‰
4. WordPress ç¶²ç«™å·²å®‰è£ Yoast SEO æˆ– Rank Math å¤–æ›

### ä¾è³´

1. **å¤–éƒ¨æœå‹™**
   - Anthropic Claude APIï¼ˆç”¨æ–¼ AI è§£æå’Œå»ºè­°ç”Ÿæˆï¼‰
   - WordPress REST APIï¼ˆç”¨æ–¼ç™¼ä½ˆï¼‰

2. **å…§éƒ¨æœå‹™**
   - Phase 7 Article Parsingï¼ˆå·²å®Œæˆï¼‰
   - Phase 7 Unified Optimization Serviceï¼ˆå·²å®Œæˆï¼‰
   - PostgreSQL è³‡æ–™åº«

3. **å‰ç«¯ä¾è³´**
   - React 18
   - TypeScript 5
   - TanStack Query
   - Tailwind CSS

---

## ğŸ”„ æœªä¾†å„ªåŒ–æ–¹å‘

### Phase 2 å„ªåŒ–ï¼ˆæœªåŒ…å«åœ¨æœ¬æ¬¡å¯¦æ–½ï¼‰

1. **å¤šèªè¨€ SEO Title**
   - æ”¯æ´è‹±æ–‡ã€æ—¥æ–‡ç­‰å…¶ä»–èªè¨€
   - æ ¹æ“šèªè¨€èª¿æ•´é•·åº¦é™åˆ¶

2. **A/B æ¸¬è©¦æ¡†æ¶**
   - æ¸¬è©¦ä¸åŒ SEO Title å°é»æ“Šç‡çš„å½±éŸ¿
   - è‡ªå‹•é¸æ“‡è¡¨ç¾æœ€å¥½çš„ SEO Title

3. **æ‰¹æ¬¡æ›´æ–°**
   - æ‰¹æ¬¡æ›´æ–°æ­·å²æ–‡ç« çš„ SEO Title
   - æ‰¹æ¬¡ç”Ÿæˆ SEO Title å»ºè­°

4. **SEO æ•ˆæœè¿½è¹¤**
   - æ•´åˆ Google Search Console
   - è¿½è¹¤ SEO Title å°æ’åçš„å½±éŸ¿
   - æä¾›å„ªåŒ–å»ºè­°

5. **æ™ºèƒ½æ¨è–¦**
   - æ ¹æ“šæ­·å²æ•¸æ“šå­¸ç¿’ç”¨æˆ¶åå¥½
   - è‡ªå‹•æ¨è–¦æœ€é©åˆçš„ SEO Title é¢¨æ ¼

---

## ğŸ“š åƒè€ƒæ–‡æª”

- [SEO Title Implementation Plan](../../SEO_TITLE_IMPLEMENTATION_PLAN.md)
- [Phase 7 Article Parsing](../../backend/docs/phase7_article_parsing.md)
- [Phase 7 Unified Optimization](../../backend/docs/phase7_unified_optimization.md)
- [WordPress Integration](../../backend/docs/wordpress_integration.md)
- [Database Schema](../../backend/docs/database_schema.md)

---

**æ–‡æª”ç‰ˆæœ¬ï¼š** v1.0
**å¯©æ ¸ç‹€æ…‹ï¼š** å¾…å¯©æ ¸
**æ ¸å‡†äººï¼š** TBD
