# WordPress è§†è§‰è‡ªåŠ¨åŒ–å‘å¸ƒåŠŸèƒ½è§„æ ¼è¯´æ˜

**åŠŸèƒ½æ¨¡å—**: WordPress åå°å‘å¸ƒè‡ªåŠ¨åŒ–
**åˆ›å»ºæ—¥æœŸ**: 2025-10-27
**æœ€åæ›´æ–°**: 2025-10-27
**çŠ¶æ€**: è§„åˆ’ä¸­
**ä¼˜å…ˆçº§**: P0ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

## æ¦‚è¿°

æœ¬åŠŸèƒ½å®ç°é€šè¿‡è§†è§‰è‡ªåŠ¨åŒ–æ–¹æ³•å°†æ–‡ç« å’Œå›¾ç‰‡å‘å¸ƒåˆ° WordPress åå°ï¼ˆç»å…¸ç¼–è¾‘å™¨ï¼‰ã€‚é‡‡ç”¨**ä¸¤é˜¶æ®µå®æ–½ç­–ç•¥**ï¼š

- **Phase 1 (MVP)**: ä¼˜å…ˆä½¿ç”¨ **Anthropic Computer Use** å¿«é€ŸéªŒè¯æ ¸å¿ƒæµç¨‹ï¼Œç¡®ä¿åŠŸèƒ½å®Œæ•´æ€§
- **Phase 2 (ä¼˜åŒ–)**: å¼•å…¥ **Playwright + Chrome DevTools** è¿›è¡Œæˆæœ¬ä¼˜åŒ–ï¼ŒComputer Use ä½œä¸ºæ™ºèƒ½é™çº§å¤‡é€‰

### æ ¸å¿ƒä»·å€¼

- **å¿«é€Ÿä¸Šçº¿**: Computer Use è‡ªç„¶è¯­è¨€æ§åˆ¶ï¼Œæ— éœ€å¤æ‚é€‰æ‹©å™¨é…ç½®
- **æ™ºèƒ½é€‚åº”**: AI è§†è§‰ç†è§£ï¼Œè‡ªåŠ¨åº”å¯¹é¡µé¢å˜åŒ–
- **æˆæœ¬ä¼˜åŒ–**: Phase 2 å¼•å…¥ Playwright é™ä½è¿è¡Œæˆæœ¬
- **å®Œæ•´æµç¨‹**: è¦†ç›–ä»ç™»å½•åˆ°å‘å¸ƒçš„æ‰€æœ‰ WordPress åå°æ“ä½œ
- **å…ƒæ•°æ®å®Œæ•´æ€§**: æ”¯æŒ SEO æ’ä»¶ï¼ˆYoast SEOï¼‰ã€æ ‡ç­¾ã€åˆ†ç±»ã€ç‰¹è‰²å›¾ç‰‡ç­‰
- **å›¾ç‰‡å¤„ç†**: è‡ªåŠ¨ä¸Šä¼ ã€å…ƒæ•°æ®å¡«å†™ã€å¤šå°ºå¯¸è£åˆ‡ï¼ˆç¼©ç•¥å›¾ã€Facebook åˆ†äº«å›¾ç­‰ï¼‰
- **å®¡è®¡è¿½è¸ª**: æ¯ä¸ªå…³é”®æ­¥éª¤æˆªå›¾è®°å½•ï¼Œä¾¿äºè°ƒè¯•å’ŒéªŒè¯

---

## æŠ€æœ¯é€‰å‹å†³ç­–

### ä¸¤é˜¶æ®µå®æ–½ç­–ç•¥

#### ğŸš€ Phase 1: Computer Use MVPï¼ˆä¼˜å…ˆå®ç°ï¼‰

**ä¸»æ–¹æ¡ˆï¼šAnthropic Computer Use**

**é€‰æ‹©ç†ç”±**:
- âœ… **å¿«é€ŸéªŒè¯**: è‡ªç„¶è¯­è¨€æŒ‡ä»¤ï¼Œæ— éœ€é¢„å…ˆæ¢æµ‹é€‰æ‹©å™¨
- âœ… **æ™ºèƒ½é€‚åº”**: é€šè¿‡è§†è§‰è¯†åˆ«å’Œè‡ªç„¶è¯­è¨€ç†è§£é€‚åº”é¡µé¢å˜åŒ–
- âœ… **å®¹é”™èƒ½åŠ›å¼º**: å³ä½¿é¡µé¢ç»“æ„å˜åŒ–ï¼Œä»èƒ½é€šè¿‡å±å¹•æˆªå›¾ç†è§£ç•Œé¢
- âœ… **å¼€å‘æ•ˆç‡é«˜**: ç›´æ¥ç¼–å†™æŒ‡ä»¤æ¨¡æ¿ï¼Œå¤§å¹…ç¼©çŸ­å¼€å‘å‘¨æœŸ
- âœ… **åŠŸèƒ½å®Œæ•´**: é€‚åˆå¤„ç†å¤æ‚çš„å›¾ç‰‡è£åˆ‡ç­‰è§†è§‰åŒ–æ“ä½œ

**é€‚ç”¨åœºæ™¯**:
- MVP é˜¶æ®µå¿«é€ŸéªŒè¯æ ¸å¿ƒæµç¨‹
- å›¾ç‰‡è£åˆ‡ç­‰éœ€è¦è§†è§‰åˆ¤æ–­çš„æ“ä½œ
- WordPress åå°å¯èƒ½é¢‘ç¹æ›´æ–°çš„ç¯å¢ƒ
- å¤šç«™ç‚¹æ”¯æŒï¼ˆä¸åŒä¸»é¢˜/æ’ä»¶é…ç½®ï¼‰

**æˆæœ¬è€ƒé‡**:
- API è°ƒç”¨æˆæœ¬å¯æ§ï¼ˆå•ç¯‡æ–‡ç« çº¦ $0.10-0.30ï¼‰
- é€šè¿‡æ‰¹é‡å¤„ç†å’Œç¼“å­˜ä¼˜åŒ–æˆæœ¬
- Phase 1 é‡ç‚¹åœ¨åŠŸèƒ½éªŒè¯ï¼Œæˆæœ¬ä¼˜åŒ–ç•™å¾… Phase 2

#### ğŸ“Š Phase 2: Playwright æ··åˆä¼˜åŒ–ï¼ˆæˆæœ¬ä¼˜åŒ–ï¼‰

**ä¼˜åŒ–æ–¹æ¡ˆï¼šPlaywright + Computer Use æ··åˆæ¶æ„**

**å¼•å…¥ Playwright çš„ç†ç”±**:
- âœ… **æˆæœ¬æä½**: æœ¬åœ°æµè§ˆå™¨æ§åˆ¶ï¼Œè¿è¡Œæˆæœ¬å‡ ä¹ä¸ºé›¶
- âœ… **æ€§èƒ½ä¼˜è¶Š**: å“åº”é€Ÿåº¦å¿«ï¼Œé€‚åˆé«˜é¢‘ç‡æ“ä½œ
- âœ… **ç¨³å®šå¯é **: åŸºäº DOM é€‰æ‹©å™¨ï¼Œç²¾ç¡®å®šä½å…ƒç´ 
- âœ… **ä»£ç å¯ç»´æŠ¤**: ç»“æ„åŒ–ä»£ç ï¼Œæ˜“äºç‰ˆæœ¬æ§åˆ¶

**æ··åˆç­–ç•¥**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é»˜è®¤ä½¿ç”¨ Playwrightï¼ˆæˆæœ¬ä¼˜åŒ–ï¼‰          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
          [Playwright æ‰§è¡Œ]
                  â”‚
             [æˆåŠŸ?]
              /      \
            Yes       Noï¼ˆ3æ¬¡é‡è¯•å¤±è´¥ï¼‰
             â”‚         â”‚
             â–¼         â–¼
        [ç»§ç»­]    [é™çº§åˆ° Computer Use]
                       â”‚
                       â–¼
                  [æ™ºèƒ½æ¢å¤]
```

**é™çº§è§¦å‘æ¡ä»¶**ï¼ˆPhase 2ï¼‰:
1. Playwright è¿ç»­ 3 æ¬¡å°è¯•åä»æ— æ³•å®šä½å…³é”®å…ƒç´ 
2. WordPress åå°ç•Œé¢å‘ç”Ÿé‡å¤§æ›´æ–°
3. å‡ºç°éé¢„æœŸçš„å¼¹çª—æˆ–è­¦å‘Š
4. é€‰æ‹©å™¨éªŒè¯å¤±è´¥ç‡è¶…è¿‡é˜ˆå€¼

**æˆæœ¬ä¼˜åŒ–æ•ˆæœ**:
- é¢„è®¡é™ä½ 80-90% çš„è¿è¡Œæˆæœ¬
- ä»…åœ¨å¿…è¦æ—¶ä½¿ç”¨ Computer Use
- ä¿æŒåŠŸèƒ½å®Œæ•´æ€§å’Œå¯é æ€§

---

## åŠŸèƒ½èŒƒå›´

### é˜¶æ®µä¸€ï¼šæ–‡ç« åˆ›å»ºä¸åŸºæœ¬å†…å®¹è®¾ç½®

#### 1.1 å¯¼èˆªè‡³æ–°å¢æ–‡ç« é¡µé¢
**è¾“å…¥**: å·²ç™»å½•çš„ WordPress åå°ä»ªè¡¨æ¿
**è¾“å‡º**: è¿›å…¥ã€Œæ–°å¢æ–‡ç« ã€ç¼–è¾‘å™¨é¡µé¢

**Playwright å®ç°è¦ç‚¹**:
- å®šä½å·¦ä¾§èœå•ï¼š`#menu-posts > a`
- å®šä½ã€Œæ–°å¢æ–‡ç« ã€é“¾æ¥ï¼š`#menu-posts ul > li > a:has-text("æ–°å¢æ–‡ç« ")`
- ç­‰å¾…é¡µé¢åŠ è½½ï¼š`h1:has-text("æ–°å¢æ–‡ç« ")`

**Computer Use æŒ‡ä»¤æ¨¡æ¿**:
```
æ‰¾åˆ°å·¦å´é¸å–®ä¸­å¸¶æœ‰åœ–é‡˜åœ–ç¤ºä¸”æ¨™ç±¤ç‚ºã€æ–‡ç« ã€çš„é …ç›®ï¼Œé»æ“Šå®ƒã€‚
åœ¨å±•é–‹çš„å­é¸å–®ä¸­ï¼Œæ‰¾åˆ°ä¸¦é»æ“Šæ¨™ç±¤ç‚ºã€æ–°å¢æ–‡ç« ã€çš„é€£çµã€‚
ç­‰å¾…é é¢è¼‰å…¥å®Œæˆï¼Œç¢ºèªé é¢é ‚éƒ¨å‡ºç¾æ–‡å­—ã€æ–°å¢æ–‡ç« ã€ã€‚
```

#### 1.2 è¾“å…¥æ–‡ç« æ ‡é¢˜
**è¾“å…¥**: æ–‡ç« æ ‡é¢˜å­—ç¬¦ä¸²ï¼ˆå·²é€šè¿‡ SEO ä¼˜åŒ–ï¼‰
**è¾“å‡º**: æ ‡é¢˜æ ä½å¡«å……å®Œæˆ

**éªŒè¯**:
- æ ‡é¢˜é•¿åº¦ï¼š50-60 å­—ç¬¦ï¼ˆSEO æœ€ä½³å®è·µï¼‰
- ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰ï¼š`<` `>` `&` `"` `'`
- ç¡®è®¤è¾“å…¥æ¡†å€¼ä¸é¢„æœŸä¸€è‡´

#### 1.3 å†…å®¹ç¼–è¾‘å™¨æ“ä½œ
**å­åŠŸèƒ½**:
1. **åˆ‡æ¢åˆ°æ–‡å­—æ¨¡å¼**ï¼ˆæ¨èï¼‰
   - ç›®çš„ï¼šè´´ä¸Šçº¯æ–‡æœ¬ï¼Œé¿å…æ ¼å¼æ±¡æŸ“
   - é€‰æ‹©å™¨ï¼š`#content-html`

2. **è´´å…¥æ–‡ç« å†…æ–‡**
   - ä½¿ç”¨ `fill()` è€Œé `type()`ï¼ˆæ¸…é™¤åŸæœ‰å†…å®¹ï¼‰
   - éªŒè¯éƒ¨åˆ†å†…å®¹ï¼šæ£€æŸ¥å¼€å¤´æ®µè½æ˜¯å¦æ­£ç¡®

3. **æ¸…é™¤å¤šä½™ HTML æ ‡ç­¾**
   - ç§»é™¤ `&nbsp;` ç­‰éé¢„æœŸå­—ç¬¦
   - ç¤ºä¾‹ä»£ç ï¼š
     ```javascript
     const content = await page.locator('#content').inputValue();
     const cleaned = content.replace(/&nbsp;/g, ' ');
     await page.locator('#content').fill(cleaned);
     ```

4. **ç®€ç¹è½¬æ¢**ï¼ˆå¯é€‰ï¼‰
   - ä¾èµ– WordPress æ’ä»¶æˆ–å¤–éƒ¨å·¥å…·
   - Playwright: éœ€æä¾›æ’ä»¶æŒ‰é’®çš„å‡†ç¡®é€‰æ‹©å™¨
   - Computer Use: é€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤æ‰§è¡Œ
   - âš ï¸ **ä¸ç¡®å®šæ€§é«˜**: ä¸åŒç«™ç‚¹æ’ä»¶é…ç½®ä¸åŒï¼Œå»ºè®®é¢„å…ˆåœ¨å†…å®¹å‡†å¤‡é˜¶æ®µå®Œæˆè½¬æ¢

5. **åˆ‡æ¢å›è§†è§‰æ¨¡å¼**
   - é€‰æ‹©å™¨ï¼š`#content-tmce`

6. **è®¾ç½®å°æ ‡é¢˜ï¼ˆH2/H3ï¼‰**
   - åœ¨ TinyMCE å¯è§†åŒ–ç¼–è¾‘å™¨ä¸­æ“ä½œ
   - âš ï¸ **å¤æ‚åº¦é«˜**: Playwright åœ¨å¯è§†åŒ–ç¼–è¾‘å™¨ä¸­é€‰å–æ–‡å­—éœ€è¦ JavaScript è¾…åŠ©
   - **å»ºè®®**: åœ¨å†…å®¹å‡†å¤‡é˜¶æ®µç›´æ¥æ’å…¥ HTML æ ‡ç­¾ï¼ˆå¦‚ `<h2>å°æ ‡é¢˜</h2>`ï¼‰ï¼Œåœ¨æ–‡å­—æ¨¡å¼ä¸‹è´´å…¥

#### 1.4 å…ƒæ•°æ®è®¾ç½®

##### æ ‡ç­¾ (Tags)
**è¾“å…¥**: æ ‡ç­¾æ•°ç»„ `["æ ‡ç­¾1", "æ ‡ç­¾2", "æ ‡ç­¾3"]`
**è¾“å‡º**: æ ‡ç­¾å·²æ·»åŠ åˆ°æ–‡ç« 

**Playwright å®ç°**:
```javascript
await page.locator('#new-tag-post_tag').fill('æ ‡ç­¾1,æ ‡ç­¾2,æ ‡ç­¾3');
await page.locator('input.button[value="æ–°å¢"]').click();
await expect(page.locator('.tagchecklist')).toContainText('æ ‡ç­¾1');
```

**éªŒè¯**:
- ç¡®è®¤æ ‡ç­¾å‡ºç°åœ¨æ ‡ç­¾åˆ—è¡¨ä¸­
- æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤æ ‡ç­¾
- æˆªå›¾å­˜æ¡£

##### åˆ†ç±» (Categories)
**è¾“å…¥**: åˆ†ç±»åç§°æ•°ç»„ `["åˆ†ç±»A", "åˆ†ç±»B"]`
**è¾“å‡º**: å¯¹åº”åˆ†ç±»å·²å‹¾é€‰

**Playwright å®ç°**:
```javascript
await page.locator('label:has-text("åˆ†ç±»A") input[type="checkbox"]').check();
await expect(page.locator('label:has-text("åˆ†ç±»A") input[type="checkbox"]')).toBeChecked();
```

**æ³¨æ„äº‹é¡¹**:
- å¦‚æœåˆ†ç±»ä¸å­˜åœ¨ï¼Œéœ€å…ˆåˆ›å»ºï¼ˆæˆ–åœ¨å¤±è´¥æ—¶æç¤ºç”¨æˆ·ï¼‰
- æ”¯æŒå¤šå±‚çº§åˆ†ç±»ï¼ˆçˆ¶åˆ†ç±» â†’ å­åˆ†ç±»ï¼‰

##### SEO æ’ä»¶é…ç½® (Yoast SEO / Rank Math)
**è¾“å…¥**:
- ç„¦ç‚¹å…³é”®å­—ï¼ˆFocus Keywordï¼‰
- SEO æ ‡é¢˜ï¼ˆMeta Titleï¼‰
- Meta æè¿°ï¼ˆMeta Descriptionï¼‰

**Playwright å®ç°**:
```javascript
// Yoast SEO ç¤ºä¾‹
await page.locator('#yoast-google-preview-focus-keyword').fill('ç„¦ç‚¹å…³é”®å­—');
await page.locator('#yoast-google-preview-title').fill('SEO æ ‡é¢˜');
await page.locator('#yoast-google-preview-description').fill('Meta æè¿°å†…å®¹');
```

**éªŒè¯**:
- æ£€æŸ¥ Yoast/Rank Math æä¾›çš„é•¿åº¦æŒ‡ç¤ºå™¨ï¼ˆç»¿è‰²/æ©™è‰²/çº¢è‰²ï¼‰
- Meta æè¿°é•¿åº¦ï¼š150-160 å­—ç¬¦
- SEO æ ‡é¢˜é•¿åº¦ï¼š50-60 å­—ç¬¦

#### 1.5 ä¿å­˜è‰ç¨¿
**ç›®çš„**: é˜²æ­¢æ„å¤–ä¸¢å¤±ï¼Œåœ¨ç»§ç»­ä¸Šä¼ å›¾ç‰‡å‰å…ˆä¿å­˜

**Playwright å®ç°**:
```javascript
await page.locator('#save-post').click();
await page.waitForSelector('#message p:has-text("æ–‡ç« è‰ç¨¿å·²æ›´æ–°")');
```

---

### é˜¶æ®µäºŒï¼šå›¾ç‰‡å¤„ç†ä¸ä¸Šä¼ 

#### 2.1 å®šä½å›¾ç‰‡æ’å…¥ç‚¹
**è¾“å…¥**: å†…æ–‡ä¸­çš„æ’å…¥ä½ç½®ï¼ˆä¾‹å¦‚ï¼šç¬¬äºŒæ®µä¹‹åï¼‰
**è¾“å‡º**: æ¸¸æ ‡å®šä½åˆ°ç›®æ ‡ä½ç½®

**Playwright å®ç°**ï¼ˆç¤ºæ„ï¼‰:
```javascript
// TinyMCE åœ¨ iframe ä¸­
const frame = page.frameLocator('#content_ifr');
await frame.locator('p:nth-of-type(2)').click();
```

**æŒ‘æˆ˜**:
- TinyMCE ç¼–è¾‘å™¨åœ¨ iframe å†…ï¼Œéœ€è¦ä½¿ç”¨ `frameLocator`
- ç²¾ç¡®å®šä½åˆ°æ®µè½ä¹‹é—´å¯èƒ½éœ€è¦ JavaScript è¾…åŠ©

#### 2.2 æ‰“å¼€åª’ä½“åº“
**Playwright å®ç°**:
```javascript
await page.locator('#insert-media-button').click();
await page.waitForSelector('.media-modal');
```

**éªŒè¯**: ç¡®è®¤å¼¹å‡ºçª—å£å‡ºç°ï¼Œæ ‡é¢˜ä¸ºã€Œæ’å…¥åª’ä½“ã€

#### 2.3 ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶
**è¾“å…¥**: æœ¬åœ°å›¾ç‰‡æ–‡ä»¶è·¯å¾„
**è¾“å‡º**: å›¾ç‰‡ä¸Šä¼ å®Œæˆï¼Œæ˜¾ç¤ºåœ¨åª’ä½“åº“ä¸­

**Playwright å®ç°**:
```javascript
await page.locator('button:has-text("ä¸Šå‚³æª”æ¡ˆ")').click();
const fileChooserPromise = page.waitForEvent('filechooser');
await page.locator('button:has-text("é¸æ“‡æª”æ¡ˆ")').click();
const fileChooser = await fileChooserPromise;
await fileChooser.setFiles('/path/to/image.jpg');
await page.waitForSelector('.media-modal .attachment.selected');
```

**æ”¯æŒæ ¼å¼**: JPG, PNG, GIF, WebP
**å¤§å°é™åˆ¶**: å‚è€ƒ WordPress é…ç½®ï¼ˆé€šå¸¸ 2-10MBï¼‰

**é”™è¯¯å¤„ç†**:
- æ–‡ä»¶è¿‡å¤§ â†’ æç¤ºç”¨æˆ·æˆ–è‡ªåŠ¨å‹ç¼©
- æ ¼å¼ä¸æ”¯æŒ â†’ è½¬æ¢æ ¼å¼æˆ–è·³è¿‡
- ä¸Šä¼ å¤±è´¥ â†’ é‡è¯• 3 æ¬¡ï¼Œå¤±è´¥åˆ™è®°å½•æ—¥å¿—

#### 2.4 è®¾ç½®å›¾ç‰‡é™„ä»¶è¯¦ç»†èµ„æ–™

**å¿…å¡«å­—æ®µ**:
1. **æ›¿ä»£æ–‡å­— (Alt Text)**: ç”¨äº SEO å’Œæ— éšœç¢è®¿é—®
2. **æ ‡é¢˜ (Title)**: å›¾ç‰‡æ ‡é¢˜
3. **è¯´æ˜ (Caption)**: æ˜¾ç¤ºåœ¨å›¾ç‰‡ä¸‹æ–¹çš„æ–‡å­—
4. **å…³é”®å­— (Keywords)**: é€—å·åˆ†éš”ï¼Œç”¨äºåª’ä½“åº“æœç´¢
5. **æ”å½±å¸«/ä¾†æº (Photographer/Source)**: ç‰ˆæƒä¿¡æ¯

**Playwright å®ç°**:
```javascript
await page.locator('.media-modal .setting[data-setting="alt"] input').fill('æ›¿ä»£æ–‡å­—');
await page.locator('.media-modal .setting[data-setting="title"] input').fill('å›¾ç‰‡æ ‡é¢˜');
await page.locator('.media-modal .setting[data-setting="caption"] textarea').fill('å›¾ç‰‡è¯´æ˜');
await page.locator('.media-modal input[id*="keywords"]').fill('å…³é”®å­—1,å…³é”®å­—2');
await page.locator('.media-modal input[id*="photographer"]').fill('æ”å½±å¸«å§“å');
```

**æ³¨æ„äº‹é¡¹**:
- âš ï¸ **é€‰æ‹©å™¨ä¸ç¨³å®š**: ä¸åŒ WordPress ç‰ˆæœ¬å’Œæ’ä»¶å¯èƒ½æ”¹å˜å­—æ®µ ID/class
- å»ºè®®ä½¿ç”¨ `data-setting` å±æ€§ï¼ˆè¾ƒç¨³å®šï¼‰
- **Computer Use å¤‡é€‰**: å¦‚æœé€‰æ‹©å™¨å¤±æ•ˆï¼Œç”¨è‡ªç„¶è¯­è¨€æŒ‡ä»¤æ“ä½œ

#### 2.5 è®¾ç½®é™„ä»¶æ˜¾ç¤ºè®¾å®š

**é…ç½®é¡¹**:
1. **å¯¹é½ (Align)**: æ— /é å·¦/ç½®ä¸­/é å³
2. **è¿ç»“è‡³ (Link to)**: æ— /åª’ä½“æ¡£æ¡ˆ/é™„ä»¶é¡µé¢/è‡ªè®¢ URL
3. **å°ºå¯¸ (Size)**: ç¼©å›¾/ä¸­/å¤§/å®Œæ•´å°ºå¯¸

**Playwright å®ç°**:
```javascript
await page.locator('.media-modal .setting[data-setting="align"] select').selectOption('center');
await page.locator('.media-modal .setting[data-setting="link"] select').selectOption('none');
await page.locator('.media-modal .setting[data-setting="size"] select').selectOption({ label: 'å¤§' });
```

#### 2.6 æ’å…¥å›¾ç‰‡è‡³æ–‡ç« 
**Playwright å®ç°**:
```javascript
await page.locator('.media-modal button.media-button-insert').click();
await page.waitForSelector('.media-modal', { state: 'hidden' });
// éªŒè¯å›¾ç‰‡å·²æ’å…¥
const frame = page.frameLocator('#content_ifr');
await expect(frame.locator('img[alt="æ›¿ä»£æ–‡å­—"]')).toBeVisible();
```

---

### é˜¶æ®µä¸‰ï¼šç‰¹è‰²å›¾ç‰‡è®¾ç½®

#### 3.1 æ‰“å¼€ç‰¹è‰²å›¾ç‰‡è®¾ç½®ç•Œé¢
**Playwright å®ç°**:
```javascript
await page.locator('#set-post-thumbnail').click();
await page.waitForSelector('.media-modal');
```

#### 3.2 é€‰æ‹©æˆ–ä¸Šä¼ ç‰¹è‰²å›¾ç‰‡
**ç­–ç•¥**:
- ä¼˜å…ˆä½¿ç”¨å·²ä¸Šä¼ çš„å›¾ç‰‡ï¼ˆé¿å…é‡å¤ä¸Šä¼ ï¼‰
- å¦‚æœéœ€è¦ä¸åŒçš„ç‰¹è‰²å›¾ç‰‡ï¼Œæ‰§è¡Œä¸Šä¼ æµç¨‹ï¼ˆåŒ 2.3ï¼‰

**Playwright å®ç°**:
```javascript
// ä»åª’ä½“åº“é€‰æ‹©
await page.locator('.media-modal li.attachment[aria-label="å›¾ç‰‡æ ‡é¢˜"]').click();
await expect(page.locator('.media-modal li.attachment.selected')).toHaveCount(1);
```

#### 3.3 ç¼–è¾‘ä¸è£åˆ‡ç‰¹è‰²å›¾ç‰‡ â­ **æ ¸å¿ƒåŠŸèƒ½**

**éœ€æ±‚èƒŒæ™¯**:
WordPress ä¼šä¸ºç‰¹è‰²å›¾ç‰‡ç”Ÿæˆå¤šä¸ªå°ºå¯¸ï¼ˆç¼©ç•¥å›¾ã€ä¸­å‹ã€å¤§å‹ã€å®Œæ•´å°ºå¯¸ï¼‰ï¼ŒæŸäº›ä¸»é¢˜å’Œæ’ä»¶è¿˜ä¼šå®šä¹‰è‡ªå®šä¹‰å°ºå¯¸ï¼ˆå¦‚ Facebook åˆ†äº«å›¾ 700x359pxï¼‰ã€‚é€šè¿‡è£åˆ‡ï¼Œå¯ä»¥ç¡®ä¿å›¾ç‰‡åœ¨ä¸åŒåœºæ™¯ä¸‹çš„æ˜¾ç¤ºæ•ˆæœæœ€ä½³ã€‚

**è£åˆ‡ç›®æ ‡å°ºå¯¸**:
1. **Thumbnail** (ç¼©ç•¥å›¾): 150x150pxï¼ˆæ­£æ–¹å½¢ï¼‰
2. **Facebook åˆ†äº«å›¾**: 700x359pxï¼ˆOG Imageï¼‰
3. **å…¶ä»–è‡ªå®šä¹‰å°ºå¯¸**: æ ¹æ®ä¸»é¢˜é…ç½®

**Playwright å®ç°æµç¨‹**:
```javascript
// 1. ç‚¹å‡»ã€Œç¼–è¾‘å›¾ç‰‡ã€
await page.locator('.media-modal a.edit-attachment').click();
await page.waitForSelector('img#image-preview');

// 2. é€‰æ‹©è£åˆ‡å°ºå¯¸ - Thumbnail
await page.locator('input[value="thumbnail"]').click();
await page.waitForSelector('.imgareaselect-outer'); // ç­‰å¾…è£åˆ‡æ¡†å‡ºç°

// 3. è°ƒæ•´è£åˆ‡æ¡†ï¼ˆé«˜çº§æ“ä½œï¼‰
// âš ï¸ æŒ‘æˆ˜ï¼šéœ€è¦æ¨¡æ‹Ÿé¼ æ ‡æ‹–æ‹½ï¼ŒPlaywright éœ€è¦ç²¾ç¡®åæ ‡
// å»ºè®®ï¼šæ¥å— WordPress è‡ªåŠ¨å»ºè®®çš„è£åˆ‡æ¡†ï¼Œæˆ–ä½¿ç”¨ Computer Use

// 4. æ‰§è¡Œè£åˆ‡
await page.locator('button[aria-label="è£åˆ‡"]').click();

// 5. ä¿å­˜è£åˆ‡
await page.locator('input[value="å„²å­˜"]').click();
await page.waitForResponse(resp => resp.url().includes('admin-ajax.php') && resp.status() === 200);

// 6. é‡å¤ä»¥ä¸Šæ­¥éª¤è£åˆ‡ Facebook åˆ†äº«å›¾
await page.locator('input[value="facebook_700_359"]').click();
// ... è£åˆ‡ + ä¿å­˜
```

**Computer Use å¤‡é€‰æ–¹æ¡ˆ**:
å¯¹äºè£åˆ‡æ¡†è°ƒæ•´è¿™ç§é«˜åº¦è§†è§‰åŒ–çš„æ“ä½œï¼ŒComputer Use å¯èƒ½æ›´é€‚åˆï¼š
```
æŒ‡ä»¤ï¼šã€Œåœ¨å›¾ç‰‡ä¸Šæ‹–æ›³è£åˆ‡æ¡†ï¼Œç¡®ä¿äººç‰©é¢éƒ¨å®Œæ•´å‡ºç°åœ¨æ¡†å†…ï¼Œç„¶åç‚¹å‡»è£åˆ‡æŒ‰é’®ï¼Œå†ç‚¹å‡»å‚¨å­˜ã€‚ã€
```

**éªŒè¯**:
- æ£€æŸ¥è£åˆ‡åçš„å›¾ç‰‡é¢„è§ˆ
- ç¡®è®¤æ²¡æœ‰é‡è¦å†…å®¹è¢«è£æ‰
- ä¿å­˜åæˆªå›¾å­˜æ¡£

#### 3.4 è®¾ç½®ä¸ºç‰¹è‰²å›¾ç‰‡
**Playwright å®ç°**:
```javascript
await page.locator('.media-modal button.media-button-select').click();
await page.waitForSelector('.media-modal', { state: 'hidden' });
// éªŒè¯ç‰¹è‰²å›¾ç‰‡å·²è®¾ç½®
await expect(page.locator('#postimagediv .inside img')).toBeVisible();
```

---

### é˜¶æ®µå››ï¼šæœ€ç»ˆä¿å­˜ä¸å‘å¸ƒ

#### 4.1 ä¿å­˜è‰ç¨¿
**Playwright å®ç°**:
```javascript
await page.locator('#save-post').click();
await page.waitForSelector('#message p:has-text("æ–‡ç« è‰ç¨¿å·²æ›´æ–°")');
```

#### 4.2 é¢„è§ˆæ–‡ç« 
**ç›®çš„**: åœ¨å‘å¸ƒå‰æ£€æŸ¥æ’ç‰ˆã€å›¾ç‰‡æ˜¾ç¤ºã€SEO å…ƒç´ 

**Playwright å®ç°**:
```javascript
const previewPromise = page.waitForEvent('popup');
await page.locator('#post-preview').click();
const previewPage = await previewPromise;
await previewPage.waitForLoadState();

// åœ¨é¢„è§ˆé¡µé¢æ‰§è¡Œæ£€æŸ¥
await expect(previewPage.locator('h1')).toHaveText('æ–‡ç« æ ‡é¢˜');
await expect(previewPage.locator('img[alt="æ›¿ä»£æ–‡å­—"]')).toBeVisible();

// æ£€æŸ¥ SEO meta æ ‡ç­¾
const metaTitle = await previewPage.locator('meta[property="og:title"]').getAttribute('content');
expect(metaTitle).toBe('SEO æ ‡é¢˜');

await previewPage.close();
```

#### 4.3 å‘å¸ƒæ–‡ç« 
**Playwright å®ç°**:
```javascript
await page.locator('#publish').click();
await page.waitForSelector('#message p:has-text("æ–‡ç« å·²ç™¼ä½ˆ")');
```

**è·å–å‘å¸ƒåçš„æ–‡ç«  URL**:
```javascript
const publishedUrl = await page.locator('#message a').getAttribute('href');
console.log('æ–‡ç« å·²å‘å¸ƒ:', publishedUrl);
```

#### 4.4 æ’ç¨‹å‘å¸ƒï¼ˆå¯é€‰ï¼‰
**Playwright å®ç°**:
```javascript
// ç‚¹å‡»ã€Œç¼–è¾‘ã€è°ƒæ•´å‘å¸ƒæ—¶é—´
await page.locator('a[href="#edit_timestamp"]').click();

// è®¾ç½®æ—¥æœŸæ—¶é—´
await page.locator('#mm').selectOption('12'); // æœˆä»½
await page.locator('#jj').fill('25'); // æ—¥æœŸ
await page.locator('#aa').fill('2025'); // å¹´ä»½
await page.locator('#hh').fill('14'); // å°æ—¶
await page.locator('#mn').fill('30'); // åˆ†é’Ÿ

// ç¡®è®¤
await page.locator('a.save-timestamp').click();

// ç‚¹å‡»æ’ç¨‹æŒ‰é’®ï¼ˆæ­¤æ—¶æŒ‰é’®æ–‡å­—å˜ä¸ºã€Œæ’ç¨‹ã€ï¼‰
await page.locator('#publish').click();
await page.waitForSelector('#message p:has-text("æ–‡ç« å·²æ’ç¨‹")');
```

---

## å…³é”®æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ

### æŒ‘æˆ˜ 1: TinyMCE å¯è§†åŒ–ç¼–è¾‘å™¨ä¸­çš„æ–‡æœ¬é€‰æ‹©ä¸æ ¼å¼åŒ–

**é—®é¢˜æè¿°**:
- Playwright éš¾ä»¥åœ¨ TinyMCEï¼ˆå¯è§†åŒ–ç¼–è¾‘å™¨ï¼‰ä¸­ç²¾ç¡®é€‰å–æ–‡æœ¬
- è®¾ç½®å°æ ‡é¢˜ï¼ˆH2/H3ï¼‰éœ€è¦å…ˆé€‰ä¸­æ–‡å­—ï¼Œå†æ“ä½œå·¥å…·æ 

**è§£å†³æ–¹æ¡ˆ**:
1. **æ¨èæ–¹æ¡ˆ**: åœ¨å†…å®¹å‡†å¤‡é˜¶æ®µç›´æ¥ç”Ÿæˆ HTML æ ‡ç­¾ï¼Œåœ¨ã€Œæ–‡å­—ã€æ¨¡å¼ä¸‹è´´å…¥
   ```html
   <h2>å°æ ‡é¢˜1</h2>
   <p>æ®µè½å†…å®¹...</p>
   <h2>å°æ ‡é¢˜2</h2>
   ```

2. **å¤‡é€‰æ–¹æ¡ˆ**: ä½¿ç”¨ JavaScript æ³¨å…¥æ¥æ“ä½œ TinyMCE API
   ```javascript
   await page.evaluate((heading) => {
     const editor = tinymce.get('content');
     editor.selection.select(editor.dom.select('p:contains("è¦è®¾ä¸ºæ ‡é¢˜çš„æ–‡å­—")')[0]);
     editor.execCommand('FormatBlock', false, 'h2');
   }, headingText);
   ```

3. **Computer Use æ–¹æ¡ˆ**: å½“ä»¥ä¸Šæ–¹æ¡ˆå¤±æ•ˆæ—¶é™çº§ä½¿ç”¨

### æŒ‘æˆ˜ 2: å›¾ç‰‡è£åˆ‡æ¡†çš„æ‹–æ‹½æ“ä½œ

**é—®é¢˜æè¿°**:
- WordPress å›¾ç‰‡ç¼–è¾‘å™¨ä½¿ç”¨ imgAreaSelect æ’ä»¶ï¼Œéœ€è¦æ‹–æ‹½è£åˆ‡æ¡†
- Playwright éœ€è¦æ¨¡æ‹Ÿé¼ æ ‡æŒ‰ä¸‹ã€ç§»åŠ¨ã€é‡Šæ”¾ï¼Œéœ€ç²¾ç¡®åæ ‡

**è§£å†³æ–¹æ¡ˆ**:
1. **æ¥å—é»˜è®¤è£åˆ‡**: WordPress ä¼šè‡ªåŠ¨å»ºè®®ä¸€ä¸ªè£åˆ‡åŒºåŸŸï¼Œç›´æ¥ç‚¹å‡»ã€Œè£åˆ‡ã€æŒ‰é’®
2. **ä½¿ç”¨ Computer Use**: å¯¹äºéœ€è¦æ‰‹åŠ¨è°ƒæ•´çš„æƒ…å†µï¼Œç”¨ AI è§†è§‰è¯†åˆ«æ›´å¯é 
3. **é¢„å¤„ç†å›¾ç‰‡**: åœ¨ä¸Šä¼ å‰ä½¿ç”¨ Sharp.js ç­‰åº“é¢„å…ˆè£åˆ‡åˆ°ç›®æ ‡å°ºå¯¸

### æŒ‘æˆ˜ 3: é€‰æ‹©å™¨ç¨³å®šæ€§

**é—®é¢˜æè¿°**:
- WordPress ç‰ˆæœ¬æ›´æ–°å¯èƒ½æ”¹å˜ DOM ç»“æ„
- ä¸åŒä¸»é¢˜å’Œæ’ä»¶ä¼šä¿®æ”¹åå°ç•Œé¢
- CSS class åç§°å¯èƒ½æ”¹å˜

**è§£å†³æ–¹æ¡ˆ**:
1. **ä¼˜å…ˆä½¿ç”¨ç¨³å®šçš„é€‰æ‹©å™¨**:
   - `id` å±æ€§ï¼ˆæœ€ç¨³å®šï¼‰
   - `data-*` å±æ€§
   - `name` å±æ€§
   - `aria-label` å±æ€§
   - é¿å…ä½¿ç”¨çº¯ CSS class

2. **å¤šçº§å¤‡é€‰é€‰æ‹©å™¨**:
   ```javascript
   const selectors = [
     '#new-tag-post_tag',
     'input[name="newtag[post_tag]"]',
     '.tagsdiv input.newtag'
   ];

   let element;
   for (const selector of selectors) {
     element = await page.locator(selector).first();
     if (await element.isVisible()) break;
   }
   ```

3. **é€‰æ‹©å™¨éªŒè¯ä¸æ›´æ–°æœºåˆ¶**:
   - å®šæœŸåœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿è¡ŒéªŒè¯è„šæœ¬
   - è®°å½•å¤±è´¥çš„é€‰æ‹©å™¨ï¼Œè§¦å‘å‘Šè­¦
   - ç»´æŠ¤é€‰æ‹©å™¨é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒçƒ­æ›´æ–°

### æŒ‘æˆ˜ 4: å¼‚æ­¥æ“ä½œä¸ç­‰å¾…æ—¶æœº

**é—®é¢˜æè¿°**:
- WordPress ä½¿ç”¨ AJAX ä¿å­˜è‰ç¨¿ã€ä¸Šä¼ å›¾ç‰‡
- æŸäº›æ“ä½œï¼ˆå¦‚å›¾ç‰‡è£åˆ‡ï¼‰éœ€è¦ç­‰å¾…æœåŠ¡å™¨å“åº”
- å›ºå®šå»¶è¿Ÿ (`waitForTimeout`) ä¸å¯é ä¸”æµªè´¹æ—¶é—´

**è§£å†³æ–¹æ¡ˆ**:
1. **ç­‰å¾… DOM å…ƒç´ **:
   ```javascript
   await page.waitForSelector('#message.updated');
   ```

2. **ç­‰å¾…ç½‘ç»œè¯·æ±‚**:
   ```javascript
   await page.waitForResponse(resp =>
     resp.url().includes('admin-ajax.php') &&
     resp.status() === 200
   );
   ```

3. **ç­‰å¾…å…ƒç´ çŠ¶æ€å˜åŒ–**:
   ```javascript
   await expect(page.locator('#publish')).toBeEnabled();
   ```

4. **ç»„åˆç­‰å¾…**:
   ```javascript
   await Promise.all([
     page.waitForNavigation(),
     page.locator('#publish').click()
   ]);
   ```

---

## ä¸¤é˜¶æ®µå®æ–½ç­–ç•¥è¯¦è§£

### Phase 1: Computer Use MVP å®æ–½

#### æ¶æ„è®¾è®¡

```python
class WordPressPublisher:
    """Phase 1: çº¯ Computer Use å®ç°"""

    def __init__(self, api_key: str, instructions: InstructionTemplate):
        self.computer_use_provider = ComputerUseProvider(api_key, instructions)
        self.current_provider = self.computer_use_provider
        self.audit_logger = AuditLogger()

    async def publish_article(
        self,
        article: Article,
        images: List[ImageAsset],
        metadata: ArticleMetadata
    ) -> PublishResult:
        """å‘å¸ƒæ–‡ç« ä¸»å…¥å£ï¼ˆMVPï¼‰"""
        task_id = self._generate_task_id()

        try:
            # åˆå§‹åŒ– Computer Use
            await self.current_provider.initialize(wordpress_url)

            # æ‰§è¡Œ 5 ä¸ªé˜¶æ®µ
            await self._execute_phase("login", ...)
            await self._execute_phase("content", ...)
            await self._execute_phase("images", ...)
            await self._execute_phase("metadata", ...)
            await self._execute_phase("publish", ...)

            return PublishResult(success=True, ...)

        except Exception as e:
            self.audit_logger.log_failure(task_id, str(e))
            raise

    async def _execute_phase(self, phase_name: str, phase_func, context):
        """æ‰§è¡Œé˜¶æ®µï¼ˆMVPï¼šæ— éœ€é™çº§é€»è¾‘ï¼‰"""
        max_retries = 3

        for attempt in range(max_retries):
            try:
                # æ‰§è¡Œ Computer Use æŒ‡ä»¤
                await phase_func(self.current_provider, context)
                self.audit_logger.log_phase_success(context.task_id, phase_name, attempt)
                return
            except Exception as e:
                self.audit_logger.log_phase_failure(context.task_id, phase_name, attempt, str(e))
                if attempt >= max_retries - 1:
                    raise
                await asyncio.sleep(2)
```

#### MVP éªŒæ”¶æ ‡å‡†

**åŠŸèƒ½å®Œæ•´æ€§**:
- âœ… èƒ½ç™»å½• WordPress åå°
- âœ… èƒ½åˆ›å»ºæ–‡ç« å¹¶å¡«å……å†…å®¹
- âœ… èƒ½ä¸Šä¼ å›¾ç‰‡å¹¶è®¾ç½®å…ƒæ•°æ®
- âœ… èƒ½è®¾ç½®ç‰¹è‰²å›¾ç‰‡å¹¶è£åˆ‡
- âœ… èƒ½é…ç½®æ ‡ç­¾ã€åˆ†ç±»ã€SEO
- âœ… èƒ½æˆåŠŸå‘å¸ƒæ–‡ç« 

**æ€§èƒ½è¦æ±‚**:
- å•ç¯‡æ–‡ç« å‘å¸ƒæ—¶é—´ï¼šâ‰¤ 5 åˆ†é’Ÿ
- æˆåŠŸç‡ï¼šâ‰¥ 95%
- å®¡è®¡æ—¥å¿—å®Œæ•´

### Phase 2: Playwright æ··åˆä¼˜åŒ–

#### å‡çº§ç­–ç•¥

```python
class WordPressPublisher:
    """Phase 2: Playwright + Computer Use æ··åˆæ¶æ„"""

    def __init__(
        self,
        playwright_provider: PlaywrightProvider,
        computer_use_provider: ComputerUseProvider,
        config: PublishingConfig
    ):
        # Phase 2: é»˜è®¤ä½¿ç”¨ Playwrightï¼ˆæˆæœ¬ä¼˜åŒ–ï¼‰
        self.primary_provider = playwright_provider
        self.fallback_provider = computer_use_provider
        self.current_provider = playwright_provider
        self.config = config

    async def _execute_phase(self, phase_name: str, phase_func, context):
        """æ‰§è¡Œé˜¶æ®µï¼ˆPhase 2ï¼šå¸¦æ™ºèƒ½é™çº§ï¼‰"""
        max_retries = self.config.max_retries
        retry_count = 0

        while retry_count < max_retries:
            try:
                # ä½¿ç”¨å½“å‰ Provider æ‰§è¡Œ
                await phase_func(self.current_provider, context)
                self.audit_logger.log_phase_success(context.task_id, phase_name, retry_count)
                return

            except (ElementNotFoundError, TimeoutError) as e:
                retry_count += 1
                self.audit_logger.log_phase_failure(context.task_id, phase_name, retry_count, str(e))

                if retry_count >= max_retries:
                    # Playwright å¤±è´¥ï¼Œé™çº§åˆ° Computer Use
                    if self.current_provider == self.primary_provider:
                        logger.warning(f"Playwright å¤±è´¥ï¼Œé™çº§åˆ° Computer Use")
                        await self._fallback_to_computer_use(context)
                        retry_count = 0  # é‡ç½®è®¡æ•°
                    else:
                        raise  # Computer Use ä¹Ÿå¤±è´¥ï¼ŒæŠ›å‡ºå¼‚å¸¸

                await asyncio.sleep(self.config.retry_delay)

    async def _fallback_to_computer_use(self, context):
        """é™çº§åˆ° Computer Useï¼ˆPhase 2ï¼‰"""
        # å…³é—­ Playwright
        await self.current_provider.close()

        # åˆ‡æ¢åˆ° Computer Use
        self.current_provider = self.fallback_provider

        # é‡æ–°åˆå§‹åŒ–ï¼ˆå°è¯•å¤ç”¨ä¼šè¯ï¼‰
        await self.current_provider.initialize(
            context.wordpress_url,
            cookies=context.browser_cookies  # ä¼ é€’ cookies
        )

        self.audit_logger.log_provider_switch(context.task_id, "computer_use")
```

#### æˆæœ¬ä¼˜åŒ–æŒ‡æ ‡

**Phase 1 (Computer Use Only)**:
- é¢„ä¼°æˆæœ¬ï¼š$0.10-0.30 / æ–‡ç« 
- å‘å¸ƒé€Ÿåº¦ï¼š3-5 åˆ†é’Ÿ / æ–‡ç« 
- æˆåŠŸç‡ï¼š95%

**Phase 2 (Playwright + Computer Use)**:
- é¢„ä¼°æˆæœ¬ï¼š$0.01-0.05 / æ–‡ç« ï¼ˆé™ä½ 80-90%ï¼‰
- å‘å¸ƒé€Ÿåº¦ï¼š1.5-3 åˆ†é’Ÿ / æ–‡ç« ï¼ˆæå‡ 40-50%ï¼‰
- æˆåŠŸç‡ï¼š98%ï¼ˆæ··åˆæ¶æ„æ›´å¯é ï¼‰
- Computer Use è°ƒç”¨ç‡ï¼š< 5%ï¼ˆä»…é™çº§æ—¶ä½¿ç”¨ï¼‰

---

## å®¡è®¡ä¸æ—¥å¿—è®°å½•

### å¿…é¡»æˆªå›¾çš„å…³é”®æ­¥éª¤

1. âœ… ç™»å½•æˆåŠŸåçš„ä»ªè¡¨æ¿
2. âœ… æ–‡ç« æ ‡é¢˜å’Œå†…å®¹å¡«å†™å®Œæˆ
3. âœ… æ ‡ç­¾å’Œåˆ†ç±»è®¾ç½®å®Œæˆ
4. âœ… SEO æ’ä»¶é…ç½®å®Œæˆï¼ˆæ˜¾ç¤ºç»¿ç¯/æ©™ç¯çŠ¶æ€ï¼‰
5. âœ… å›¾ç‰‡ä¸Šä¼ å®Œæˆï¼ˆæ˜¾ç¤ºåœ¨åª’ä½“åº“ä¸­ï¼‰
6. âœ… å›¾ç‰‡å…ƒæ•°æ®å¡«å†™å®Œæˆ
7. âœ… å›¾ç‰‡æ’å…¥åˆ°æ–‡ç« å†…å®¹ä¸­
8. âœ… ç‰¹è‰²å›¾ç‰‡è®¾ç½®å®Œæˆï¼ˆæ˜¾ç¤ºåœ¨å³ä¾§æ ï¼‰
9. âœ… å›¾ç‰‡è£åˆ‡å®Œæˆï¼ˆå„å°ºå¯¸çš„é¢„è§ˆï¼‰
10. âœ… ä¿å­˜è‰ç¨¿æˆåŠŸæç¤º
11. âœ… é¢„è§ˆé¡µé¢ï¼ˆå®Œæ•´æ–‡ç« ï¼‰
12. âœ… å‘å¸ƒæˆåŠŸæç¤ºï¼ˆåŒ…å«æ–‡ç«  URLï¼‰

### æ—¥å¿—è®°å½•å†…å®¹

```json
{
  "task_id": "publish-12345",
  "article_id": 67890,
  "start_time": "2025-10-27T10:30:00Z",
  "end_time": "2025-10-27T10:35:00Z",
  "status": "success",
  "provider": "playwright",
  "fallback_used": false,
  "steps": [
    {
      "step_name": "navigate_to_new_post",
      "status": "success",
      "duration_ms": 1200,
      "screenshot": "/logs/task-12345/step-01.png",
      "timestamp": "2025-10-27T10:30:01Z"
    },
    {
      "step_name": "fill_title",
      "status": "success",
      "duration_ms": 300,
      "screenshot": "/logs/task-12345/step-02.png",
      "timestamp": "2025-10-27T10:30:02Z"
    },
    // ... æ›´å¤šæ­¥éª¤
  ],
  "errors": [],
  "warnings": [
    {
      "step_name": "upload_image",
      "message": "Image size exceeds 5MB, consider compression",
      "timestamp": "2025-10-27T10:32:00Z"
    }
  ],
  "published_url": "https://example.com/2025/10/27/article-title/",
  "metadata": {
    "wordpress_version": "6.4.2",
    "theme": "Astra",
    "plugins": ["Yoast SEO", "Classic Editor"]
  }
}
```

---

## éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½æ­£ç¡®æ€§

âœ… **å¿…é¡»æ»¡è¶³**:
1. æ–‡ç« æ ‡é¢˜ã€å†…å®¹å‡†ç¡®æ— è¯¯åœ°å‘å¸ƒåˆ° WordPress
2. æ‰€æœ‰å›¾ç‰‡æˆåŠŸä¸Šä¼ ï¼Œå…ƒæ•°æ®ï¼ˆAltã€Titleã€Captionï¼‰å®Œæ•´
3. ç‰¹è‰²å›¾ç‰‡æ­£ç¡®è®¾ç½®ï¼Œå¹¶å®Œæˆè‡³å°‘ 2 ç§å°ºå¯¸çš„è£åˆ‡ï¼ˆThumbnailã€Facebookï¼‰
4. æ ‡ç­¾å’Œåˆ†ç±»æ­£ç¡®å…³è”
5. SEO æ’ä»¶é…ç½®å®Œæ•´ï¼ˆç„¦ç‚¹å…³é”®å­—ã€Meta Titleã€Meta Descriptionï¼‰
6. å‘å¸ƒåèƒ½è·å–æ­£ç¡®çš„æ–‡ç«  URL

### æ€§èƒ½è¦æ±‚

- **å•ç¯‡æ–‡ç« å‘å¸ƒæ—¶é—´**: â‰¤ 3 åˆ†é’Ÿï¼ˆåŒ…å« 3-5 å¼ å›¾ç‰‡ï¼‰
- **Playwright æ­¥éª¤å¹³å‡è€—æ—¶**: â‰¤ 2 ç§’/æ­¥
- **å›¾ç‰‡ä¸Šä¼ é€Ÿåº¦**: â‰¥ 1MB/ç§’
- **é™çº§åˆ‡æ¢æ—¶é—´**: â‰¤ 10 ç§’

### å¯é æ€§è¦æ±‚

- **æˆåŠŸç‡**: â‰¥ 95%ï¼ˆPlaywrightï¼‰
- **æˆåŠŸç‡ï¼ˆå«é™çº§ï¼‰**: â‰¥ 99%ï¼ˆPlaywright + Computer Useï¼‰
- **é”™è¯¯æ¢å¤**: èƒ½ä»ä»»æ„å¤±è´¥æ­¥éª¤æ¢å¤æ‰§è¡Œ
- **æ•°æ®å®Œæ•´æ€§**: å³ä½¿ä¸­é€”å¤±è´¥ï¼Œå·²ä¿å­˜çš„è‰ç¨¿æ•°æ®ä¸ä¸¢å¤±

### å¯ç»´æŠ¤æ€§è¦æ±‚

- **é€‰æ‹©å™¨æ›´æ–°**: æä¾›é…ç½®æ–‡ä»¶ç»´æŠ¤æ‰€æœ‰é€‰æ‹©å™¨ï¼Œæ”¯æŒç‰ˆæœ¬ç®¡ç†
- **æ—¥å¿—å®Œæ•´æ€§**: æ¯ä¸ªæ­¥éª¤éƒ½æœ‰è¯¦ç»†æ—¥å¿—å’Œæˆªå›¾
- **è°ƒè¯•å‹å¥½**: æ”¯æŒå•æ­¥è°ƒè¯•æ¨¡å¼ï¼Œé€æ­¥éªŒè¯æ¯ä¸ªæ“ä½œ

---

## é£é™©ä¸é™åˆ¶

### å·²çŸ¥é™åˆ¶

1. **WordPress ç‰ˆæœ¬å…¼å®¹æ€§**:
   - æœ¬æ–¹æ¡ˆåŸºäº WordPress **ç»å…¸ç¼–è¾‘å™¨**
   - **Gutenbergï¼ˆåŒºå—ç¼–è¾‘å™¨ï¼‰éœ€è¦å•ç‹¬é€‚é…**ï¼ˆä¼˜å…ˆçº§ P2ï¼‰
   - å»ºè®®åœ¨æµ‹è¯•ç¯å¢ƒä¸­éªŒè¯å…·ä½“ç‰ˆæœ¬

2. **ä¸»é¢˜ä¸æ’ä»¶ä¾èµ–**:
   - ä¸åŒä¸»é¢˜å¯èƒ½ä¿®æ”¹åå°ç•Œé¢å¸ƒå±€
   - æŸäº›æ’ä»¶ä¼šæ·»åŠ é¢å¤–å­—æ®µæˆ–å¼¹çª—
   - éœ€è¦é’ˆå¯¹å¸¸ç”¨ä¸»é¢˜ï¼ˆAstraã€GeneratePressï¼‰å’Œæ’ä»¶ï¼ˆYoastã€Rank Mathï¼‰è¿›è¡Œæµ‹è¯•

3. **ç½‘ç»œä¾èµ–**:
   - ä¸Šä¼ å¤§å›¾ç‰‡æ—¶å¯¹ç½‘ç»œé€Ÿåº¦æ•æ„Ÿ
   - å»ºè®®åœ¨æœåŠ¡å™¨ç«¯è¿è¡Œï¼Œé¿å…å…¬å…±ç½‘ç»œä¸ç¨³å®š

4. **æµè§ˆå™¨ç¯å¢ƒ**:
   - Playwright éœ€è¦åœ¨ Headless Chrome ä¸­è¿è¡Œ
   - æŸäº› WordPress æ’ä»¶å¯èƒ½æ£€æµ‹æ— å¤´æµè§ˆå™¨å¹¶é˜»æ­¢æ“ä½œï¼ˆç½•è§ï¼‰

### æœªæ¥æ”¹è¿›æ–¹å‘

1. **æ”¯æŒ Gutenberg ç¼–è¾‘å™¨**ï¼ˆP2ï¼‰
2. **æ”¯æŒæ›´å¤š SEO æ’ä»¶**ï¼ˆå¦‚ All in One SEOï¼‰
3. **AI è¾…åŠ©å›¾ç‰‡è£åˆ‡**ï¼šè‡ªåŠ¨è¯†åˆ«ä¸»ä½“å¹¶æ™ºèƒ½è£åˆ‡
4. **æ‰¹é‡å‘å¸ƒä¼˜åŒ–**ï¼šå¹¶è¡Œå¤„ç†å¤šç¯‡æ–‡ç« 
5. **å¤šè¯­è¨€æ”¯æŒ**ï¼šè‡ªåŠ¨æ£€æµ‹ WordPress åå°è¯­è¨€å¹¶é€‚é…

---

## æˆåŠŸæŒ‡æ ‡

### Phase 1 (MVP) æŒ‡æ ‡

#### ä¸šåŠ¡æŒ‡æ ‡
- **åŠŸèƒ½å®Œæ•´æ€§**: 100%ï¼ˆæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å¯ç”¨ï¼‰
- **å‘å¸ƒæˆåŠŸç‡**: â‰¥ 95%
- **å‘å¸ƒé€Ÿåº¦**: â‰¤ 5 åˆ†é’Ÿ / æ–‡ç« 
- **äººå·¥æˆæœ¬é™ä½**: æ¯ç¯‡æ–‡ç« èŠ‚çœ **25 åˆ†é’Ÿäººå·¥æ—¶é—´**

#### æŠ€æœ¯æŒ‡æ ‡
- **API è°ƒç”¨æˆåŠŸç‡**: â‰¥ 95%
- **å®¡è®¡æ—¥å¿—å®Œæ•´æ€§**: 100%ï¼ˆæ‰€æœ‰å…³é”®æ­¥éª¤æœ‰æˆªå›¾ï¼‰
- **ä»£ç è¦†ç›–ç‡**: â‰¥ 75%
- **éƒ¨ç½²æˆåŠŸ**: èƒ½åœ¨ç”Ÿäº§ç¯å¢ƒç¨³å®šè¿è¡Œ 1 å‘¨

### Phase 2 (ä¼˜åŒ–) æŒ‡æ ‡

#### ä¸šåŠ¡æŒ‡æ ‡
- **æˆæœ¬é™ä½**: 80-90%ï¼ˆ$0.20 â†’ $0.02 / æ–‡ç« ï¼‰
- **å‘å¸ƒé€Ÿåº¦æå‡**: 40-50%ï¼ˆ5åˆ†é’Ÿ â†’ 2-3åˆ†é’Ÿï¼‰
- **å‘å¸ƒæˆåŠŸç‡**: â‰¥ 98%ï¼ˆæ··åˆæ¶æ„æ›´å¯é ï¼‰
- **é”™è¯¯ç‡é™ä½**: SEO å…ƒæ•°æ®é—æ¼ç‡ < 1%

#### æŠ€æœ¯æŒ‡æ ‡
- **ä»£ç è¦†ç›–ç‡**: â‰¥ 85%
- **é€‰æ‹©å™¨å‡†ç¡®ç‡**: â‰¥ 95%
- **é™çº§è§¦å‘ç‡**: â‰¤ 5%ï¼ˆå¤§å¤šæ•°æƒ…å†µç”¨ Playwrightï¼‰
- **å¹³å‡æ•…éšœæ¢å¤æ—¶é—´**: â‰¤ 2 åˆ†é’Ÿ
- **Playwright ä½¿ç”¨ç‡**: â‰¥ 95%

### ROI åˆ†æ

**Phase 1 æŠ•å…¥**:
- å¼€å‘æ—¶é—´ï¼š2 å‘¨
- API æˆæœ¬ï¼š$0.20 / æ–‡ç«  Ã— 100 æ–‡ç« /æœˆ = $20/æœˆ

**Phase 2 æŠ•å…¥**:
- å¼€å‘æ—¶é—´ï¼š2 å‘¨ï¼ˆå¢é‡ï¼‰
- API æˆæœ¬ï¼š$0.02 / æ–‡ç«  Ã— 100 æ–‡ç« /æœˆ = $2/æœˆï¼ˆèŠ‚çœ $18/æœˆï¼‰

**é¢„æœŸå›æŠ¥**:
- äººå·¥æˆæœ¬èŠ‚çœï¼š25 åˆ†é’Ÿ Ã— 100 æ–‡ç« /æœˆ = 2500 åˆ†é’Ÿ/æœˆï¼ˆçº¦ 42 å°æ—¶ï¼‰
- è´¨é‡æå‡ï¼šSEO å®Œæ•´æ€§ä» 70% æå‡åˆ° 99%
- Phase 2 é¢å¤–æ”¶ç›Šï¼šè¿è¡Œæˆæœ¬é™ä½ 90%

---

## é™„å½•

### A. å…³é”® DOM é€‰æ‹©å™¨é€ŸæŸ¥è¡¨

| åŠŸèƒ½ | é€‰æ‹©å™¨ (Playwright) | å¤‡é€‰é€‰æ‹©å™¨ | ç¨³å®šæ€§ |
|------|---------------------|------------|--------|
| æ–°å¢æ–‡ç« èœå• | `#menu-posts > a` | `a[href="edit.php"]` | â­â­â­â­â­ |
| æ–°å¢æ–‡ç« é“¾æ¥ | `#menu-posts ul > li > a:has-text("æ–°å¢æ–‡ç« ")` | `a[href="post-new.php"]` | â­â­â­â­â­ |
| æ–‡ç« æ ‡é¢˜ | `#title` | `input[name="post_title"]` | â­â­â­â­â­ |
| å†…å®¹ç¼–è¾‘å™¨ï¼ˆæ–‡å­—æ¨¡å¼ï¼‰ | `#content-html` | `a.wp-switch-editor[data-mode="html"]` | â­â­â­â­ |
| å†…å®¹ç¼–è¾‘å™¨ï¼ˆå¯è§†åŒ–æ¨¡å¼ï¼‰ | `#content-tmce` | `a.wp-switch-editor[data-mode="tmce"]` | â­â­â­â­ |
| å†…å®¹æ–‡æœ¬åŒºåŸŸ | `#content` | `textarea[name="content"]` | â­â­â­â­â­ |
| TinyMCE iframe | `#content_ifr` | `iframe.wp-editor-area` | â­â­â­â­ |
| æ–°å¢æ ‡ç­¾è¾“å…¥æ¡† | `#new-tag-post_tag` | `input.newtag` | â­â­â­â­ |
| æ ‡ç­¾æ–°å¢æŒ‰é’® | `input.button[value="æ–°å¢"]` | `.tagsdiv input.button` | â­â­â­ |
| åˆ†ç±»å¤é€‰æ¡† | `label:has-text("åˆ†ç±»å") input[type="checkbox"]` | `.categorychecklist input` | â­â­â­ |
| æ–°å¢åª’ä½“æŒ‰é’® | `#insert-media-button` | `button.insert-media` | â­â­â­â­â­ |
| åª’ä½“å¼¹çª— | `.media-modal` | `.media-frame` | â­â­â­â­ |
| ä¸Šä¼ æ–‡ä»¶æŒ‰é’® | `button:has-text("é¸æ“‡æª”æ¡ˆ")` | `.media-toolbar-primary button` | â­â­â­ |
| å›¾ç‰‡æ›¿ä»£æ–‡å­— | `.media-modal .setting[data-setting="alt"] input` | `input[id*="alt-text"]` | â­â­â­â­ |
| æ’å…¥è‡³æ–‡ç« æŒ‰é’® | `.media-modal button.media-button-insert` | `button:has-text("æ’å…¥è‡³æ–‡ç« ")` | â­â­â­â­ |
| è®¾ç½®ç‰¹è‰²å›¾ç‰‡ | `#set-post-thumbnail` | `a[href="#set-post-thumbnail"]` | â­â­â­â­â­ |
| ç‰¹è‰²å›¾ç‰‡åŒºåŸŸ | `#postimagediv` | `.inside #set-post-thumbnail` | â­â­â­â­â­ |
| ç¼–è¾‘å›¾ç‰‡é“¾æ¥ | `.media-modal a.edit-attachment` | `button:has-text("ç·¨è¼¯åœ–ç‰‡")` | â­â­â­ |
| è£åˆ‡å°ºå¯¸é€‰æ‹© | `input[value="thumbnail"]` | `.imgedit-group input[type="radio"]` | â­â­â­ |
| ä¿å­˜è‰ç¨¿ | `#save-post` | `input[name="save"]` | â­â­â­â­â­ |
| é¢„è§ˆæŒ‰é’® | `#post-preview` | `a#preview-action` | â­â­â­â­ |
| å‘å¸ƒæŒ‰é’® | `#publish` | `input[name="publish"]` | â­â­â­â­â­ |
| æˆåŠŸæ¶ˆæ¯ | `#message.updated` | `.notice.notice-success` | â­â­â­â­ |

### B. Computer Use æŒ‡ä»¤æ¨¡æ¿åº“

#### 1. å¯¼èˆªç±»æŒ‡ä»¤
```
æ‰¾åˆ°å·¦å´é¸å–®ä¸­å¸¶æœ‰åœ–é‡˜åœ–ç¤ºä¸”æ¨™ç±¤ç‚ºã€æ–‡ç« ã€çš„é …ç›®ï¼Œé»æ“Šå®ƒã€‚
åœ¨å±•é–‹çš„å­é¸å–®ä¸­ï¼Œæ‰¾åˆ°ä¸¦é»æ“Šæ¨™ç±¤ç‚ºã€æ–°å¢æ–‡ç« ã€çš„é€£çµã€‚
ç­‰å¾…é é¢è¼‰å…¥å®Œæˆï¼Œç¢ºèªé é¢é ‚éƒ¨å‡ºç¾æ–‡å­—ã€æ–°å¢æ–‡ç« ã€ã€‚
```

#### 2. è¾“å…¥ç±»æŒ‡ä»¤
```
æ‰¾åˆ°æ¨™ç±¤ç‚ºã€æ–°å¢æ¨™é¡Œã€æˆ– ID ç‚º 'title' çš„å¤§å‹æ–‡å­—è¼¸å…¥æ¡†ã€‚
åœ¨æ­¤è¼¸å…¥æ¡†ä¸­è¼¸å…¥ä»¥ä¸‹æ–‡å­—ï¼šã€{article_title}ã€ã€‚
ç¢ºèªè¼¸å…¥æ¡†ä¸­å·²é¡¯ç¤ºè¼¸å…¥çš„æ¨™é¡Œæ–‡å­—ã€‚
```

#### 3. å›¾ç‰‡ä¸Šä¼ æŒ‡ä»¤
```
æ‰¾åˆ°æ¨™ç±¤ç‚ºã€æ–°å¢åª’é«”ã€çš„æŒ‰éˆ•ï¼Œé»æ“Šå®ƒã€‚
ç­‰å¾…ä¸€å€‹æ¨™é¡Œç‚ºã€æ’å…¥åª’é«”ã€çš„å½ˆå‡ºè¦–çª—å‡ºç¾ã€‚
é»æ“Šæ¨™ç±¤ç‚ºã€ä¸Šå‚³æª”æ¡ˆã€çš„åˆ†é ã€‚
å°‡åœ–ç‰‡æª”æ¡ˆã€{image_path}ã€æ‹–æ›³åˆ°æ¨™æœ‰ã€è«‹å°‡æª”æ¡ˆæ‹–æ›³åˆ°é€™è£¡ä¸Šå‚³ã€çš„å€åŸŸã€‚
ç­‰å¾…åœ–ç‰‡ä¸Šå‚³å®Œæˆï¼ˆæœƒçœ‹åˆ°åœ–ç‰‡ç¸®åœ–å’Œé€²åº¦æ¢ï¼‰ã€‚
```

#### 4. å›¾ç‰‡è£åˆ‡æŒ‡ä»¤ï¼ˆé«˜ä»·å€¼ï¼‰
```
åœ¨åœ–ç‰‡é è¦½ä¸‹æ–¹ï¼Œæ‰¾åˆ°ä¸¦é»æ“Šæ¨™ç±¤ç‚ºã€ç·¨è¼¯åœ–ç‰‡ã€çš„é€£çµã€‚
ç­‰å¾…é€²å…¥åœ–ç‰‡ç·¨è¼¯ä»‹é¢ã€‚
åœ¨å³å´æ‰¾åˆ°æ¨™ç±¤ç‚ºã€ç¸®åœ–è¨­å®šã€æˆ–é¡ä¼¼åç¨±çš„å€å¡Šã€‚
æ‰¾åˆ°æ¨™ç±¤ç‚ºã€Thumbnailã€(æˆ–ã€ç¸®åœ–ã€) çš„é¸é …ï¼Œé»æ“Šå®ƒã€‚
èª¿æ•´åœ–ç‰‡ä¸Šå‡ºç¾çš„è£åˆ‡æ¡†ï¼Œç¢ºä¿ä¸»è¦å…§å®¹ï¼ˆä¾‹å¦‚äººç‰©é¢éƒ¨ï¼‰åœ¨æ¡†å…§ã€‚
é»æ“Šè£åˆ‡æŒ‰éˆ•ï¼ˆé€šå¸¸æ˜¯ä¸€å€‹æ–¹å½¢åœ–ç¤ºï¼‰ã€‚
é»æ“Šã€å„²å­˜ã€æˆ–ã€æ›´æ–°ã€æŒ‰éˆ•ã€‚
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**ä½œè€…**: AI Architect
**å®¡æ ¸**: Pending
**ä¸‹ä¸€æ­¥**: åˆ›å»ºå®æ–½è®¡åˆ’ (plan.md) å’Œä»»åŠ¡æ¸…å• (tasks.md)
