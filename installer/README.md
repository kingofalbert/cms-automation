# CMSè‡ªåŠ¨åŒ–ç³»ç»Ÿ - Windowsä¸€é”®å®‰è£…åŒ…

## ğŸ“¦ ç³»ç»Ÿç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªæ™ºèƒ½çš„å†…å®¹ç®¡ç†ç³»ç»Ÿ(CMS)è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š

- âœ… AIé©±åŠ¨çš„æ–‡ç« ç”Ÿæˆ
- âœ… è‡ªåŠ¨å‘å¸ƒåˆ°WordPress
- âœ… Google Driveå›¾ç‰‡å­˜å‚¨
- âœ… SEOä¼˜åŒ–
- âœ… ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†
- âœ… Computer Useæ™ºèƒ½å‘å¸ƒï¼ˆæ”¯æŒAnthropic APIå’ŒPlaywrightå…è´¹æ–¹æ¡ˆï¼‰

---

## ğŸ’» ç³»ç»Ÿè¦æ±‚

### å¿…éœ€æ¡ä»¶ï¼š
- Windows 10/11 (ä¸“ä¸šç‰ˆ/ä¼ä¸šç‰ˆ/å®¶åº­ç‰ˆå‡å¯)
- è‡³å°‘ 8GB RAM
- è‡³å°‘ 20GB å¯ç”¨ç£ç›˜ç©ºé—´
- ç¨³å®šçš„ç½‘ç»œè¿æ¥

### éœ€è¦å®‰è£…çš„è½¯ä»¶ï¼š
- **Docker Desktop** (å¿…éœ€)
  - ä¸‹è½½åœ°å€ï¼šhttps://www.docker.com/products/docker-desktop/
  - Windows 10/11 ä¸“ä¸šç‰ˆ/ä¼ä¸šç‰ˆï¼šä½¿ç”¨Hyper-V
  - Windows 10/11 å®¶åº­ç‰ˆï¼šä½¿ç”¨WSL2

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ5æ­¥å®Œæˆï¼‰

### æ­¥éª¤ 1ï¼šå®‰è£…Docker Desktop

1. è®¿é—® https://www.docker.com/products/docker-desktop/
2. ä¸‹è½½Windowsç‰ˆæœ¬
3. åŒå‡»å®‰è£…åŒ…å®‰è£…
4. å®‰è£…å®Œæˆå**é‡å¯ç”µè„‘**
5. å¯åŠ¨Docker Desktop

**éªŒè¯å®‰è£…ï¼š**
```cmd
æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆCMDï¼‰æˆ–PowerShell
è¿è¡Œï¼šdocker --version
åº”è¯¥çœ‹åˆ°ï¼šDocker version 24.x.x
```

---

### æ­¥éª¤ 2ï¼šè§£å‹å®‰è£…åŒ…

1. å°† `cms-automation-installer.zip` è§£å‹åˆ°ä»»æ„æ–‡ä»¶å¤¹
   - æ¨èè·¯å¾„ï¼š`C:\cms-automation\`
   - é¿å…è·¯å¾„åŒ…å«ä¸­æ–‡æˆ–ç©ºæ ¼

2. è§£å‹ååº”è¯¥çœ‹åˆ°è¿™äº›æ–‡ä»¶ï¼š
   ```
   cms-automation/
   â”œâ”€â”€ install.bat          # å®‰è£…é…ç½®è„šæœ¬
   â”œâ”€â”€ start.bat           # å¯åŠ¨ç³»ç»Ÿ
   â”œâ”€â”€ stop.bat            # åœæ­¢ç³»ç»Ÿ
   â”œâ”€â”€ restart.bat         # é‡å¯ç³»ç»Ÿ
   â”œâ”€â”€ status.bat          # æŸ¥çœ‹çŠ¶æ€
   â”œâ”€â”€ logs.bat            # æŸ¥çœ‹æ—¥å¿—
   â”œâ”€â”€ README.md           # æœ¬æ–‡æ¡£
   â”œâ”€â”€ docker-compose.yml  # Dockeré…ç½®
   â””â”€â”€ backend/
       â”œâ”€â”€ credentials/    # å‡­è¯æ–‡ä»¶ç›®å½•
       â””â”€â”€ config/         # é…ç½®æ–‡ä»¶ç›®å½•
   ```

---

### æ­¥éª¤ 3ï¼šå‡†å¤‡é…ç½®ä¿¡æ¯

åœ¨è¿è¡Œå®‰è£…è„šæœ¬å‰ï¼Œè¯·å‡†å¤‡å¥½ä»¥ä¸‹ä¿¡æ¯ï¼š

#### 3.1 Anthropic API Key
- è®¿é—®ï¼šhttps://console.anthropic.com/
- ç™»å½•å¹¶åˆ›å»ºAPI Key
- å¤åˆ¶ä¿å­˜ï¼ˆæ ¼å¼ï¼šsk-ant-api03-...ï¼‰

#### 3.2 WordPressä¿¡æ¯
- WordPressç½‘ç«™URLï¼ˆå¦‚ï¼šhttps://your-site.comï¼‰
- WordPressç®¡ç†å‘˜ç”¨æˆ·å
- WordPressåº”ç”¨å¯†ç ï¼ˆApplication Passwordï¼‰
  - åœ¨WordPressåå°ï¼šç”¨æˆ· â†’ ä¸ªäººèµ„æ–™ â†’ åº”ç”¨å¯†ç 

#### 3.3 Google Driveé…ç½®
- Google DriveæœåŠ¡è´¦å·å‡­è¯æ–‡ä»¶ï¼ˆJSONï¼‰
- Google Drive Shared Driveæ–‡ä»¶å¤¹ID

**å¦‚ä½•è·å–Shared Driveæ–‡ä»¶å¤¹IDï¼š**
1. åœ¨Google Driveåˆ›å»ºShared Drive
2. æ·»åŠ æœåŠ¡è´¦å·ä¸ºæˆå‘˜
3. æ‰“å¼€Shared Driveï¼ŒURLä¸­çš„IDå³ä¸ºæ–‡ä»¶å¤¹ID
   - ç¤ºä¾‹ï¼š`https://drive.google.com/drive/folders/1ABC...XYZ`
   - æ–‡ä»¶å¤¹IDï¼š`1ABC...XYZ`

---

### æ­¥éª¤ 4ï¼šè¿è¡Œå®‰è£…é…ç½®

1. å³é”®ç‚¹å‡» `install.bat`
2. é€‰æ‹©"ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"ï¼ˆæ¨èï¼‰

3. æŒ‰ç…§æç¤ºè¾“å…¥é…ç½®ä¿¡æ¯ï¼š
   ```
   è¯·è¾“å…¥Anthropic API Key: sk-ant-api03-...
   WordPressç½‘ç«™URL: https://your-site.com
   WordPressç”¨æˆ·å: admin
   WordPressåº”ç”¨å¯†ç : xxxx xxxx xxxx xxxx
   Google Drive Shared Driveæ–‡ä»¶å¤¹ID: 1ABC...XYZ
   ```

4. é…ç½®å®Œæˆåä¼šç”Ÿæˆ `.env` æ–‡ä»¶

5. **é‡è¦ï¼š** å¤åˆ¶Google Driveå‡­è¯æ–‡ä»¶
   - å°† `google-drive-credentials.json` å¤åˆ¶åˆ°ï¼š
   - `backend\credentials\google-drive-credentials.json`

---

### æ­¥éª¤ 5ï¼šå¯åŠ¨ç³»ç»Ÿ

1. åŒå‡» `start.bat`
2. ç­‰å¾…1-2åˆ†é’Ÿï¼Œç³»ç»Ÿå°†è‡ªåŠ¨ï¼š
   - æ‹‰å–Dockeré•œåƒ
   - å¯åŠ¨æ‰€æœ‰æœåŠ¡
   - åˆå§‹åŒ–æ•°æ®åº“

3. çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š
   ```
   ========================================
     ç³»ç»Ÿå·²å¯åŠ¨ï¼
   ========================================

   è®¿é—®åœ°å€ï¼š
     å‰ç«¯ç•Œé¢:  http://localhost:3000
     APIæ–‡æ¡£:   http://localhost:8000/docs
     ä»»åŠ¡ç›‘æ§:  http://localhost:5555
   ```

4. åœ¨æµè§ˆå™¨è®¿é—®ï¼š
   - http://localhost:3000 ï¼ˆå‰ç«¯ç•Œé¢ï¼‰
   - http://localhost:8000/docs ï¼ˆAPIæ–‡æ¡£ï¼‰

---

## ğŸ® æ—¥å¸¸ä½¿ç”¨

### å¯åŠ¨ç³»ç»Ÿ
```cmd
åŒå‡»ï¼šstart.bat
```

### åœæ­¢ç³»ç»Ÿ
```cmd
åŒå‡»ï¼šstop.bat
```

### é‡å¯ç³»ç»Ÿ
```cmd
åŒå‡»ï¼šrestart.bat
```

### æŸ¥çœ‹çŠ¶æ€
```cmd
åŒå‡»ï¼šstatus.bat
```

### æŸ¥çœ‹æ—¥å¿—
```cmd
åŒå‡»ï¼šlogs.bat
ç„¶åé€‰æ‹©è¦æŸ¥çœ‹çš„æœåŠ¡æ—¥å¿—
```

---

## ğŸ”§ é«˜çº§é…ç½®

### é…ç½®Playwrightå…è´¹å‘å¸ƒæ–¹æ¡ˆï¼ˆå¯é€‰ï¼‰

å¦‚æœæƒ³ä½¿ç”¨å®Œå…¨å…è´¹çš„Playwrightå‘å¸ƒæ–¹æ¡ˆï¼š

1. ç™»å½•WordPressåå°
2. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åˆ‡æ¢åˆ° Console æ ‡ç­¾
4. å¤åˆ¶ç²˜è´´ `backend\tools\extract_wordpress_selectors.js` çš„å†…å®¹
5. è¿è¡Œ `autoDetect()` æˆ–åˆ†æ­¥æå–
6. å¤åˆ¶è¾“å‡ºçš„JSONé…ç½®
7. ä¿å­˜ä¸º `backend\config\wordpress_selectors.json`
8. é‡å¯ç³»ç»Ÿ

é…ç½®å®Œæˆåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨Playwrightå…è´¹æ–¹æ¡ˆå‘å¸ƒç®€å•æ–‡ç« ã€‚

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢                      â”‚
â”‚          http://localhost:3000                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FastAPI åç«¯                        â”‚
â”‚          http://localhost:8000                  â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  æ–‡ç« ç”Ÿæˆ    â”‚  â”‚  SEOä¼˜åŒ–     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  å›¾ç‰‡ç®¡ç†    â”‚  â”‚  å‘å¸ƒç®¡ç†    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Celery ä»»åŠ¡é˜Ÿåˆ—                     â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  Worker      â”‚  â”‚  Beat        â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ•°æ®å­˜å‚¨                            â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  PostgreSQL  â”‚  â”‚  Redis       â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Google Drive â”‚  â”‚  WordPress   â”‚
         â”‚    å­˜å‚¨      â”‚  â”‚    CMS       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ ç«¯å£ä½¿ç”¨

| æœåŠ¡ | ç«¯å£ | è®¿é—®åœ°å€ |
|------|------|---------|
| å‰ç«¯ | 3000 | http://localhost:3000 |
| API | 8000 | http://localhost:8000 |
| Flowerç›‘æ§ | 5555 | http://localhost:5555 |
| PostgreSQL | 5432 | localhost:5432 |
| Redis | 6379 | localhost:6379 |

---

## â“ å¸¸è§é—®é¢˜

### Q1: Dockeræ— æ³•å¯åŠ¨
**A:**
- ç¡®ä¿å·²é‡å¯ç”µè„‘
- æ£€æŸ¥Hyper-Væˆ–WSL2æ˜¯å¦å¯ç”¨
- æŸ¥çœ‹Docker Desktopè®¾ç½®

### Q2: ç«¯å£è¢«å ç”¨
**A:**
```cmd
# ä¿®æ”¹ docker-compose.yml ä¸­çš„ç«¯å£æ˜ å°„
# ä¾‹å¦‚å°†3000æ”¹ä¸º3001ï¼š
ports:
  - "3001:3000"
```

### Q3: æ— æ³•è¿æ¥WordPress
**A:**
- æ£€æŸ¥WordPress URLæ˜¯å¦æ­£ç¡®
- ç¡®è®¤åº”ç”¨å¯†ç æ˜¯å¦æœ‰æ•ˆ
- æŸ¥çœ‹é˜²ç«å¢™è®¾ç½®

### Q4: Google Driveä¸Šä¼ å¤±è´¥
**A:**
- ç¡®è®¤å‡­è¯æ–‡ä»¶è·¯å¾„æ­£ç¡®
- æ£€æŸ¥æœåŠ¡è´¦å·æ˜¯å¦å·²æ·»åŠ åˆ°Shared Drive
- éªŒè¯Shared Driveæ–‡ä»¶å¤¹ID

### Q5: ç³»ç»Ÿè¿è¡Œç¼“æ…¢
**A:**
- ç»™Dockeråˆ†é…æ›´å¤šèµ„æº
  - Docker Desktop â†’ Settings â†’ Resources
  - å¢åŠ CPUå’Œå†…å­˜é™åˆ¶

### Q6: å¦‚ä½•æ›´æ–°ç³»ç»Ÿ
**A:**
```cmd
1. åœæ­¢ç³»ç»Ÿ: stop.bat
2. æ‹‰å–æœ€æ–°ä»£ç /é•œåƒ
3. è¿è¡Œ: start.bat
```

---

## ğŸ“ é…ç½®æ–‡ä»¶è¯´æ˜

### .env æ–‡ä»¶
æ‰€æœ‰ç¯å¢ƒé…ç½®éƒ½åœ¨æ­¤æ–‡ä»¶ä¸­ï¼Œå¯æ‰‹åŠ¨ç¼–è¾‘ï¼š

```bash
# æ‰“å¼€æ–¹å¼
notepad .env
```

ä¸»è¦é…ç½®é¡¹ï¼š
- `ANTHROPIC_API_KEY` - Anthropic APIå¯†é’¥
- `CMS_BASE_URL` - WordPressç½‘å€
- `GOOGLE_DRIVE_FOLDER_ID` - Google Driveæ–‡ä»¶å¤¹ID

### docker-compose.yml
DockeræœåŠ¡ç¼–æ’é…ç½®ï¼Œä¸€èˆ¬æ— éœ€ä¿®æ”¹ã€‚

---

## ğŸ›¡ï¸ å®‰å…¨å»ºè®®

1. **ä¸è¦**å°† `.env` æ–‡ä»¶æäº¤åˆ°ä»£ç ä»“åº“
2. **ä¸è¦**åˆ†äº«ä½ çš„APIå¯†é’¥
3. å®šæœŸæ›´æ¢WordPressåº”ç”¨å¯†ç 
4. ä½¿ç”¨å¼ºå¯†ç 
5. å®šæœŸå¤‡ä»½æ•°æ®åº“

---

## ğŸ’¾ æ•°æ®å¤‡ä»½

### å¤‡ä»½æ•°æ®åº“
```cmd
docker exec cms_automation_postgres pg_dump -U cms_user cms_automation > backup.sql
```

### æ¢å¤æ•°æ®åº“
```cmd
docker exec -i cms_automation_postgres psql -U cms_user cms_automation < backup.sql
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ç»™Dockeråˆ†é…æ›´å¤šèµ„æº
1. æ‰“å¼€ Docker Desktop
2. Settings â†’ Resources
3. è°ƒæ•´ CPU å’Œ Memory
   - æ¨èï¼šCPU 4æ ¸ï¼ŒMemory 4GB+

### æ¸…ç†Dockerç¼“å­˜
```cmd
docker system prune -a
```

---

## ğŸ†˜ è·å–å¸®åŠ©

### æŸ¥çœ‹æ—¥å¿—æ’æŸ¥é—®é¢˜
```cmd
è¿è¡Œï¼šlogs.bat
é€‰æ‹©ç›¸åº”æœåŠ¡æŸ¥çœ‹æ—¥å¿—
```

### å¸¸ç”¨Dockerå‘½ä»¤
```cmd
# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨
docker ps -a

# è¿›å…¥backendå®¹å™¨
docker exec -it cms_automation_backend bash

# é‡å¯ç‰¹å®šæœåŠ¡
docker-compose restart backend

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs cms_automation_backend
```

---

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯

---

## ğŸ‰ äº«å—ä½¿ç”¨ï¼

å®‰è£…å®Œæˆåï¼Œä½ å°†æ‹¥æœ‰ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„CMSè‡ªåŠ¨åŒ–ç³»ç»Ÿï¼š

- ğŸ¤– AIé©±åŠ¨çš„å†…å®¹ç”Ÿæˆ
- ğŸš€ ä¸€é”®å‘å¸ƒåˆ°WordPress
- ğŸ’¾ æ™ºèƒ½å›¾ç‰‡ç®¡ç†
- ğŸ“Š å®æ—¶ä»»åŠ¡ç›‘æ§
- ğŸ¯ SEOä¼˜åŒ–
- ğŸ’° å¯é€‰å…è´¹å‘å¸ƒæ–¹æ¡ˆ

ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼
