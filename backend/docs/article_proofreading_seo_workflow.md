# CMSè‡ªåŠ¨åŒ–ç³»ç»Ÿ - æ–‡ç« æ ¡å¯¹+SEOä¼˜åŒ–å®Œæ•´å·¥ä½œæµéœ€æ±‚æ–‡æ¡£

**ç‰ˆæœ¬:** 2.0.0
**åˆ›å»ºæ—¥æœŸ:** 2025-10-26
**æœ€åæ›´æ–°:** 2025-10-27
**çŠ¶æ€:** éœ€æ±‚è®¾è®¡é˜¶æ®µ
**ä¼˜å…ˆçº§:** é«˜ï¼ˆä¸Šç¨¿å‰å¿…ç»æµç¨‹ï¼‰
**é‡å¤§å˜æ›´:** v2.0.0 é‡‡ç”¨å•ä¸€ Prompt ç»¼åˆåˆ†ææ¶æ„ï¼Œè¯¦è§ `single_prompt_design.md`

---

## ğŸ“‹ ç›®å½•

1. [æ¦‚è¿°](#1-æ¦‚è¿°)
2. [ä¸šåŠ¡åœºæ™¯ä¸ç›®æ ‡](#2-ä¸šåŠ¡åœºæ™¯ä¸ç›®æ ‡)
3. [æ–‡ç¨¿æ ¼å¼è§„èŒƒ](#3-æ–‡ç¨¿æ ¼å¼è§„èŒƒ)
4. [ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ](#4-ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ)
5. [å®Œæ•´å·¥ä½œæµç¨‹](#5-å®Œæ•´å·¥ä½œæµç¨‹)
6. [åŠŸèƒ½æ¨¡å—è¯¦ç»†è®¾è®¡](#6-åŠŸèƒ½æ¨¡å—è¯¦ç»†è®¾è®¡)
7. [æ•°æ®åº“æ¨¡å‹è®¾è®¡](#7-æ•°æ®åº“æ¨¡å‹è®¾è®¡)
8. [APIæ¥å£è®¾è®¡](#8-apiæ¥å£è®¾è®¡)
9. [å‰ç«¯UIéœ€æ±‚](#9-å‰ç«¯uiéœ€æ±‚)
10. [AIæœåŠ¡é›†æˆ](#10-aiæœåŠ¡é›†æˆ)
11. [å®ç°ä¼˜å…ˆçº§ä¸é‡Œç¨‹ç¢‘](#11-å®ç°ä¼˜å…ˆçº§ä¸é‡Œç¨‹ç¢‘)
12. [æµ‹è¯•ä¸éªŒè¯](#12-æµ‹è¯•ä¸éªŒè¯)

---

## 1. æ¦‚è¿°

### 1.1 æ–‡æ¡£ç›®çš„

æœ¬æ–‡æ¡£å®šä¹‰äº†CMSè‡ªåŠ¨åŒ–ç³»ç»Ÿä¸­**æ–‡ç« ä¸Šç¨¿å‰çš„å®Œæ•´å¤„ç†æµç¨‹**ï¼ŒåŒ…æ‹¬ï¼š
- æ–‡ç¨¿æ ¼å¼è§£æ
- å¤šç‰ˆæœ¬ç®¡ç†ï¼ˆåŸå§‹/å»ºè®®/æœ€ç»ˆï¼‰
- å…¨é¢æ ¡å¯¹ï¼ˆA-Fç±»è§„åˆ™ï¼‰
- AIé©±åŠ¨çš„å†…å®¹ä¼˜åŒ–
- SEOå…ƒæ•°æ®ä¼˜åŒ–
- FAQ Schemaç»“æ„åŒ–æ•°æ®ç”Ÿæˆ
- ç”¨æˆ·å®¡æ ¸ä¸ç¡®è®¤

### 1.2 æ ¸å¿ƒä»·å€¼

| ä»·å€¼ç»´åº¦ | è¯´æ˜ |
|---------|------|
| **è´¨é‡ä¿è¯** | é€šè¿‡A-Fç±»è§„åˆ™å…¨é¢æ ¡å¯¹ï¼Œç¡®ä¿å†…å®¹ç¬¦åˆã€Šå¤§çºªå…ƒã€æ–°å”äººæ€»éƒ¨å†™ä½œé£æ ¼æŒ‡å—ã€‹|
| **SEOä¼˜åŒ–** | è‡ªåŠ¨ç”Ÿæˆå¹¶ä¼˜åŒ–Meta Descriptionã€SEOå…³é”®è¯ã€FAQ Schema |
| **æ•ˆç‡æå‡** | AIé©±åŠ¨çš„æ™ºèƒ½å»ºè®®ï¼Œå‡å°‘äººå·¥ä¿®æ”¹æ—¶é—´ |
| **ç‰ˆæœ¬è¿½æº¯** | å®Œæ•´è®°å½•åŸå§‹â†’å»ºè®®â†’æœ€ç»ˆä¸‰ä¸ªç‰ˆæœ¬ï¼Œæ”¯æŒå›æº¯ |
| **åˆè§„ä¿éšœ** | Fç±»è§„åˆ™å¼ºåˆ¶éªŒè¯ï¼Œé˜»æ­¢ä¸åˆè§„å†…å®¹å‘å¸ƒ |
| **æœ¯è¯­ä¸€è‡´æ€§** | å•ä¸€Promptæ¶æ„ç¡®ä¿æ­£æ–‡ã€Metaã€å…³é”®è¯ã€FAQæœ¯è¯­è‡ªåŠ¨ä¿æŒä¸€è‡´ |
| **æˆæœ¬ä¼˜åŒ–** | å•æ¬¡AIè°ƒç”¨èŠ‚çœ34% tokensï¼Œé™ä½13%æˆæœ¬ |

### 1.3 é€‚ç”¨èŒƒå›´

**é€‚ç”¨äºä»¥ä¸‹æ–‡ç« ç±»å‹ï¼š**
- æ–°é—»æŠ¥é“
- è¯„è®ºæ–‡ç« 
- ä¸“é¢˜æŠ¥é“
- æ‰€æœ‰éœ€è¦ä¸Šç¨¿åˆ°WordPressçš„å†…å®¹

**ä¸é€‚ç”¨äºï¼š**
- ç´§æ€¥å¿«è®¯ï¼ˆå¯èƒ½éœ€è¦å¿«é€Ÿé€šé“ï¼‰
- å·²å‘å¸ƒæ–‡ç« çš„å°ä¿®æ”¹ï¼ˆé™¤ééœ€è¦é‡æ–°æ ¡å¯¹ï¼‰

---

## 2. ä¸šåŠ¡åœºæ™¯ä¸ç›®æ ‡

### 2.1 å…¸å‹ä¸šåŠ¡åœºæ™¯

#### åœºæ™¯1ï¼šè®°è€…æäº¤æ–°æ–‡ç¨¿
```
è®°è€…æ’°å†™æ–‡ç«  â†’ å¤åˆ¶åˆ°ç³»ç»Ÿ â†’ ç³»ç»Ÿè‡ªåŠ¨è§£æä¸‰éƒ¨åˆ† â†’
æ ¡å¯¹åˆ†æ â†’ ç”Ÿæˆå»ºè®®ç‰ˆæœ¬ â†’ è®°è€…å®¡æ ¸ä¿®æ”¹ â†’
ç¡®è®¤æœ€ç»ˆç‰ˆæœ¬ â†’ ä¸Šç¨¿å‘å¸ƒ
```

#### åœºæ™¯2ï¼šç¼–è¾‘å®¡æ ¸æ–‡ç¨¿
```
è®°è€…æäº¤åˆç¨¿ â†’ ç³»ç»Ÿæ ¡å¯¹åˆ†æ â†’ ç¼–è¾‘æŸ¥çœ‹å»ºè®® â†’
ç¼–è¾‘æ‰‹åŠ¨è°ƒæ•´ â†’ ç³»ç»Ÿé‡æ–°åˆ†æ â†’ ç¡®è®¤å‘å¸ƒ
```

#### åœºæ™¯3ï¼šæ‰¹é‡å¯¼å…¥æ–‡ç« 
```
CSV/JSONæ‰¹é‡å¯¼å…¥ â†’ é€ç¯‡è§£ææ ¡å¯¹ â†’ ç”Ÿæˆæ‰¹é‡å»ºè®® â†’
äººå·¥æ‰¹é‡å®¡æ ¸ â†’ æ‰¹é‡ç¡®è®¤å‘å¸ƒ
```

### 2.2 ä¸šåŠ¡ç›®æ ‡

| ç›®æ ‡ | è¡¡é‡æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|---------|--------|
| æ ¡å¯¹å‡†ç¡®ç‡ | Fç±»è§„åˆ™æ£€æµ‹å‡†ç¡®ç‡ | â‰¥ 95% |
| å¤„ç†æ•ˆç‡ | å•ç¯‡æ–‡ç« AIå¤„ç†æ—¶é—´ | â‰¤ 3ç§’ï¼ˆå•ä¸€Promptæ¶æ„ï¼‰ |
| SEOä¼˜åŒ–ç‡ | Meta Descriptionä¼˜åŒ–æ¥å—ç‡ | â‰¥ 70% |
| ç”¨æˆ·æ»¡æ„åº¦ | å»ºè®®é‡‡çº³ç‡ | â‰¥ 60% |
| å‘å¸ƒåˆè§„æ€§ | Fç±»è§„åˆ™æ‹¦æˆªç‡ | 100% |
| æœ¯è¯­ä¸€è‡´æ€§ | Meta/å…³é”®è¯/FAQæœ¯è¯­ä¸€è‡´ç‡ | 100%ï¼ˆè‡ªåŠ¨ä¿è¯ï¼‰ |
| æˆæœ¬æ§åˆ¶ | å•ç¯‡æ–‡ç« AIæˆæœ¬ | â‰¤ $0.053 |

---

## 3. æ–‡ç¨¿æ ¼å¼è§„èŒƒ

### 3.1 æ ‡å‡†ä¸‰éƒ¨åˆ†ç»“æ„

#### æ ¼å¼è¯´æ˜

```
æ­£æ–‡å†…å®¹å¼€å§‹...
è¿™é‡Œæ˜¯æ–‡ç« çš„ä¸»ä½“éƒ¨åˆ†ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªæ®µè½ã€‚
æ®µè½ä¹‹é—´ç”¨æ¢è¡Œç¬¦åˆ†éš”ã€‚

æ­£æ–‡å¯ä»¥å¾ˆé•¿ï¼ŒåŒ…å«å¤šä¸ªæ®µè½ã€‚

Metaæè¿°:
è¿™é‡Œæ˜¯Meta Descriptionçš„å†…å®¹ï¼Œç”¨äºæœç´¢å¼•æ“æ˜¾ç¤ºã€‚å»ºè®®é•¿åº¦150-160å­—ç¬¦ã€‚

SEOå…³é”®è¯:
å…³é”®è¯1, å…³é”®è¯2, å…³é”®è¯3, å…³é”®è¯4
```

#### å›ºå®šæ ‡è®°è§„èŒƒ

| æ ‡è®° | è§„åˆ™ | ç¤ºä¾‹ |
|------|------|------|
| **Metaæè¿°æ ‡è®°** | å›ºå®šä½¿ç”¨"Metaæè¿°:" | `Metaæè¿°:` |
| **SEOå…³é”®è¯æ ‡è®°** | å›ºå®šä½¿ç”¨"SEOå…³é”®è¯:" | `SEOå…³é”®è¯:` |
| **æ ‡è®°ä½ç½®** | å¿…é¡»åœ¨ç‹¬ç«‹è¡Œå¼€å¤´ | ä¸èƒ½åœ¨è¡Œä¸­é—´ |
| **å¤§å°å†™** | ä¸¥æ ¼åŒ¹é…ï¼ˆå†’å·å¿…é¡»æ˜¯ä¸­æ–‡å…¨è§’ï¼‰ | `Metaæè¿°ï¼š` âŒ `Metaæè¿°:` âœ… |

### 3.2 ä¸‰ä¸ªéƒ¨åˆ†è¯¦ç»†å®šä¹‰

#### 3.2.1 æ­£æ–‡ (Main Body)

**å®šä¹‰ï¼š** ä»æ–‡ç¨¿å¼€å§‹åˆ°ç¬¬ä¸€ä¸ªå›ºå®šæ ‡è®°ä¹‹é—´çš„æ‰€æœ‰å†…å®¹

**ç‰¹å¾ï¼š**
- é€šå¸¸åŒ…å«å¤šä¸ªæ®µè½
- å¯èƒ½åŒ…å«æ ‡é¢˜ã€å°æ ‡é¢˜
- å¯èƒ½åŒ…å«åˆ—è¡¨ã€å¼•ç”¨ç­‰æ ¼å¼

**è§£æè§„åˆ™ï¼š**
```python
# ä¼ªä»£ç 
content_end = min(
    position_of("Metaæè¿°:") if exists else len(text),
    position_of("SEOå…³é”®è¯:") if exists else len(text)
)
main_body = text[0:content_end].strip()
```

#### 3.2.2 Metaæè¿° (Meta Description)

**å®šä¹‰ï¼š** "Metaæè¿°:" æ ‡è®°ååˆ°ä¸‹ä¸€ä¸ªæ ‡è®°æˆ–æ–‡æœ«çš„å†…å®¹

**ç‰¹å¾ï¼š**
- å•æ®µè½æ–‡æœ¬
- å»ºè®®é•¿åº¦ï¼š150-160å­—ç¬¦ï¼ˆä¸­æ–‡çº¦75-80å­—ï¼‰
- ç”¨äºæœç´¢å¼•æ“ç»“æœé¡µæ˜¾ç¤º

**è§£æè§„åˆ™ï¼š**
```python
# ä¼ªä»£ç 
meta_start = position_of("Metaæè¿°:") + len("Metaæè¿°:")
meta_end = position_of("SEOå…³é”®è¯:") if exists else len(text)
meta_description = text[meta_start:meta_end].strip()
```

**éªŒè¯è§„åˆ™ï¼š**
- é•¿åº¦éªŒè¯ï¼šè­¦å‘Šè¿‡çŸ­ï¼ˆ<100å­—ç¬¦ï¼‰æˆ–è¿‡é•¿ï¼ˆ>200å­—ç¬¦ï¼‰
- å†…å®¹éªŒè¯ï¼šä¸åº”åŒ…å«ç‰¹æ®Šå­—ç¬¦ã€HTMLæ ‡ç­¾
- è¯­ä¹‰éªŒè¯ï¼šåº”ä¸æ­£æ–‡å†…å®¹ç›¸å…³ï¼ˆAIæ£€æµ‹ï¼‰

#### 3.2.3 SEOå…³é”®è¯ (SEO Keywords)

**å®šä¹‰ï¼š** "SEOå…³é”®è¯:" æ ‡è®°ååˆ°æ–‡æœ«çš„å†…å®¹

**ç‰¹å¾ï¼š**
- é€—å·åˆ†éš”çš„å…³é”®è¯åˆ—è¡¨
- å»ºè®®æ•°é‡ï¼š3-8ä¸ªå…³é”®è¯
- æ¯ä¸ªå…³é”®è¯2-5ä¸ªå­—ä¸ºä½³

**è§£æè§„åˆ™ï¼š**
```python
# ä¼ªä»£ç 
keywords_start = position_of("SEOå…³é”®è¯:") + len("SEOå…³é”®è¯:")
keywords_text = text[keywords_start:].strip()
keywords_list = [kw.strip() for kw in keywords_text.split(",")]
```

**éªŒè¯è§„åˆ™ï¼š**
- æ•°é‡éªŒè¯ï¼šè­¦å‘Šè¿‡å°‘ï¼ˆ<2ä¸ªï¼‰æˆ–è¿‡å¤šï¼ˆ>10ä¸ªï¼‰
- æ ¼å¼éªŒè¯ï¼šå»é™¤ç©ºç™½ã€éªŒè¯åˆ†éš”ç¬¦
- é‡å¤éªŒè¯ï¼šæ£€æµ‹å¹¶è­¦å‘Šé‡å¤å…³é”®è¯
- ç›¸å…³æ€§éªŒè¯ï¼šå…³é”®è¯åº”åœ¨æ­£æ–‡ä¸­å‡ºç°ï¼ˆAIæ£€æµ‹ï¼‰

### 3.3 ä¸å®Œæ•´æ–‡ç¨¿å¤„ç†

#### æƒ…å†µ1ï¼šä»…æœ‰æ­£æ–‡
```
æ­£æ–‡å†…å®¹...
ï¼ˆæ— Metaæè¿°å’ŒSEOå…³é”®è¯ï¼‰
```
**å¤„ç†æ–¹å¼ï¼š**
- æ­£å¸¸è§£ææ­£æ–‡
- `meta_description = None`
- `seo_keywords = []`
- ç³»ç»Ÿç”Ÿæˆå»ºè®®çš„Metaå’Œå…³é”®è¯

#### æƒ…å†µ2ï¼šæœ‰æ­£æ–‡å’ŒMetaï¼Œæ— å…³é”®è¯
```
æ­£æ–‡å†…å®¹...

Metaæè¿°:
è¿™æ˜¯æè¿°å†…å®¹
ï¼ˆæ— SEOå…³é”®è¯ï¼‰
```
**å¤„ç†æ–¹å¼ï¼š**
- è§£ææ­£æ–‡å’ŒMeta
- `seo_keywords = []`
- ç³»ç»Ÿç”Ÿæˆå»ºè®®çš„å…³é”®è¯

#### æƒ…å†µ3ï¼šæœ‰æ­£æ–‡å’Œå…³é”®è¯ï¼Œæ— Meta
```
æ­£æ–‡å†…å®¹...

SEOå…³é”®è¯:
å…³é”®è¯1, å…³é”®è¯2
ï¼ˆæ— Metaæè¿°ï¼‰
```
**å¤„ç†æ–¹å¼ï¼š**
- è§£ææ­£æ–‡å’Œå…³é”®è¯
- `meta_description = None`
- ç³»ç»Ÿç”Ÿæˆå»ºè®®çš„Meta

### 3.4 ç‰¹æ®Šæƒ…å†µå¤„ç†

#### æƒ…å†µAï¼šæ ‡è®°é¡ºåºé”™è¯¯
```
æ­£æ–‡å†…å®¹...

SEOå…³é”®è¯:
å…³é”®è¯åˆ—è¡¨

Metaæè¿°:
æè¿°å†…å®¹
```
**å¤„ç†æ–¹å¼ï¼š**
- æ™ºèƒ½è¯†åˆ«ï¼Œä¸å¼ºåˆ¶é¡ºåº
- æŒ‰æ ‡è®°ç±»å‹æ­£ç¡®å½’ç±»
- è®°å½•è­¦å‘Šæ—¥å¿—

#### æƒ…å†µBï¼šé‡å¤æ ‡è®°
```
æ­£æ–‡å†…å®¹...

Metaæè¿°:
ç¬¬ä¸€ä¸ªæè¿°

Metaæè¿°:
ç¬¬äºŒä¸ªæè¿°
```
**å¤„ç†æ–¹å¼ï¼š**
- é‡‡ç”¨ç¬¬ä¸€æ¬¡å‡ºç°çš„æ ‡è®°
- åç»­åŒåæ ‡è®°å†…å®¹å½’å…¥æ­£æ–‡
- è®°å½•è­¦å‘Š

#### æƒ…å†µCï¼šæ ‡è®°åœ¨æ­£æ–‡ä¸­é—´
```
æ­£æ–‡ç¬¬ä¸€æ®µ...

Metaæè¿°:
è¿™æ˜¯æè¿°

æ­£æ–‡ç¬¬äºŒæ®µ...ï¼ˆæ­¤æ®µå¦‚ä½•å¤„ç†ï¼Ÿï¼‰
```
**å¤„ç†æ–¹å¼ï¼š**
- æ ‡è®°åçš„å†…å®¹ä¸å†è§†ä¸ºæ­£æ–‡
- è®°å½•è­¦å‘Šï¼šæ£€æµ‹åˆ°æ­£æ–‡è¢«æˆªæ–­
- å»ºè®®ç”¨æˆ·è°ƒæ•´æ ¼å¼

---

## 4. ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ

### 4.1 ä¸‰ç‰ˆæœ¬æ¶æ„

#### ç‰ˆæœ¬å®šä¹‰

| ç‰ˆæœ¬åç§° | è‹±æ–‡å | ç”¨é€” | å¯ç¼–è¾‘ | æ¥æº |
|---------|-------|------|--------|------|
| **åŸå§‹ç‰ˆæœ¬** | Original | ä¿å­˜åŸå§‹è¾“å…¥ï¼Œè¿½æº¯æ¥æº | âŒ å¦ | ç”¨æˆ·è¾“å…¥ |
| **å»ºè®®ç‰ˆæœ¬** | Suggested | AIåˆ†æåçš„ä¼˜åŒ–å»ºè®® | âŒ å¦ | AIç”Ÿæˆ |
| **æœ€ç»ˆç‰ˆæœ¬** | Final | ç”¨æˆ·ç¡®è®¤çš„å‘å¸ƒç‰ˆæœ¬ | âœ… æ˜¯ | ç”¨æˆ·ç¡®è®¤ |

#### ç‰ˆæœ¬æµè½¬å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·è¾“å…¥    â”‚
â”‚  åŸå§‹æ–‡ç¨¿    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŸå§‹ç‰ˆæœ¬     â”‚ â—„â”€â”€â”€ æ°¸ä¹…ä¿å­˜ï¼Œä¸å¯ä¿®æ”¹
â”‚ (Original)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ AIåˆ†æ
       â”‚ æ ¡å¯¹+ä¼˜åŒ–
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å»ºè®®ç‰ˆæœ¬     â”‚ â—„â”€â”€â”€ AIç”Ÿæˆï¼Œä¸å¯ä¿®æ”¹
â”‚ (Suggested) â”‚      ï¼ˆå¯é‡æ–°ç”Ÿæˆï¼‰
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ ç”¨æˆ·å®¡æ ¸
       â”‚ æ¥å—/æ‹’ç»/ä¿®æ”¹
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœ€ç»ˆç‰ˆæœ¬     â”‚ â—„â”€â”€â”€ ç”¨æˆ·å¯ç¼–è¾‘
â”‚ (Final)     â”‚      ç¡®è®¤åå‘å¸ƒ
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ ç¡®è®¤å‘å¸ƒ
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸Šç¨¿å‘å¸ƒ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ç‰ˆæœ¬å­—æ®µè¯¦ç»†è®¾è®¡

#### åŸå§‹ç‰ˆæœ¬å­—æ®µ (Original Version)

```python
class ArticleOriginalVersion:
    # æ­£æ–‡
    original_content: Text
    original_content_word_count: Integer

    # Metaæè¿°
    original_meta_description: Optional[Text]
    original_meta_char_count: Optional[Integer]

    # SEOå…³é”®è¯
    original_seo_keywords: Optional[JSONB]  # ["å…³é”®è¯1", "å…³é”®è¯2", ...]
    original_keyword_count: Optional[Integer]

    # å…ƒæ•°æ®
    original_received_at: DateTime
    original_format_valid: Boolean
    original_parse_warnings: Optional[JSONB]  # è§£æè­¦å‘Šåˆ—è¡¨
```

#### å»ºè®®ç‰ˆæœ¬å­—æ®µ (Suggested Version)

```python
class ArticleSuggestedVersion:
    # æ­£æ–‡å»ºè®®
    suggested_content: Text
    suggested_content_changes: JSONB  # ä¿®æ”¹è¯¦æƒ…ï¼ˆdiffæ•°æ®ï¼‰

    # Metaæè¿°å»ºè®®
    suggested_meta_description: Text
    suggested_meta_reasoning: Text  # AIç”Ÿæˆç†ç”±
    suggested_meta_score: Float  # è¯„åˆ† 0-1

    # SEOå…³é”®è¯å»ºè®®
    suggested_seo_keywords: JSONB
    suggested_keywords_reasoning: Text
    suggested_keywords_score: Float

    # æ®µè½å»ºè®®
    paragraph_suggestions: JSONB  # æ®µè½ä¼˜åŒ–å»ºè®®
    paragraph_split_suggestions: JSONB  # åˆ†æ®µå»ºè®®

    # FAQ Schemaå»ºè®®
    faq_schema_proposals: JSONB  # å¤šå¥—FAQæ–¹æ¡ˆ

    # æ ¡å¯¹é—®é¢˜
    proofreading_issues: JSONB  # A-Fç±»è§„åˆ™æ£€æµ‹é—®é¢˜
    critical_issues_count: Integer  # Fç±»å…³é”®é—®é¢˜æ•°

    # ç”Ÿæˆå…ƒæ•°æ®
    suggested_generated_at: DateTime
    ai_model_used: String  # ä½¿ç”¨çš„AIæ¨¡å‹
    generation_cost: Decimal  # ç”Ÿæˆæˆæœ¬ï¼ˆAPIè´¹ç”¨ï¼‰
```

#### æœ€ç»ˆç‰ˆæœ¬å­—æ®µ (Final Version)

```python
class ArticleFinalVersion:
    # æ­£æ–‡
    final_content: Text
    final_content_word_count: Integer

    # Metaæè¿°
    final_meta_description: Text
    final_meta_char_count: Integer

    # SEOå…³é”®è¯
    final_seo_keywords: JSONB
    final_keyword_count: Integer

    # FAQ Schema
    final_faq_schema: Optional[JSONB]  # æœ€ç»ˆé€‰å®šçš„FAQ Schema

    # ç”¨æˆ·é€‰æ‹©è®°å½•
    user_accepted_suggestions: JSONB  # ç”¨æˆ·æ¥å—çš„å»ºè®®é¡¹
    user_rejected_suggestions: JSONB  # ç”¨æˆ·æ‹’ç»çš„å»ºè®®é¡¹
    user_manual_edits: JSONB  # ç”¨æˆ·æ‰‹åŠ¨ç¼–è¾‘å†…å®¹

    # ç¡®è®¤å…ƒæ•°æ®
    final_confirmed_at: DateTime
    final_confirmed_by: Integer  # user_id
    final_version_number: Integer  # ç‰ˆæœ¬å·ï¼ˆæ”¯æŒå¤šæ¬¡ä¿®æ”¹ï¼‰
```

### 4.2 ç”¨æˆ·å†³ç­–ä¸è°ƒä¼˜è¿½è¸ª â­æ–°å¢

```python
class ProofreadingDecisionRecord:
    decision_id: UUID
    history_id: Integer
    suggestion_id: UUID
    suggestion_type: String  # proofreading / seo / tag / segmentation / other
    rule_id: Optional[String]
    original_text: Text
    suggested_text: Optional[Text]
    final_text: Optional[Text]
    decision: String  # accepted / rejected / modified
    feedback_option_id: Optional[Integer]
    feedback_text: Optional[Text]
    decided_by: Integer
    decided_at: DateTime
    feedback_status: String  # pending / in_progress / completed / failed
    feedback_processed_at: Optional[DateTime]
    tuning_batch_id: Optional[UUID]
    prompt_or_rule_version: Optional[String]
```

> æ³¨ï¼šæ­¤å¤„â€œè°ƒä¼˜â€æŒ‡è¯­è¨€è´¨é‡å›¢é˜Ÿæ ¹æ®ç”¨æˆ·åé¦ˆæ‰‹åŠ¨å¤ç›˜å¹¶è°ƒæ•´ deterministic è§„åˆ™æˆ– AI Promptï¼Œè€Œéè‡ªåŠ¨åŒ–æ¨¡å‹è®­ç»ƒã€‚

**æµç¨‹è¯´æ˜ï¼š**
1. UI å¯¹æ¯æ¡å»ºè®®æä¾›ã€Œæ¥å—ã€ã€Œä¿ç•™åŸæ–‡ã€ã€Œéƒ¨åˆ†é‡‡ç”¨ã€æ“ä½œã€‚  
2. å½“ç”¨æˆ·é€‰æ‹©éæ¥å—è·¯å¾„æ—¶ï¼Œå¼¹å‡ºå¯é€‰åé¦ˆï¼ˆå¤šé€‰é¡¹ + è‡ªå®šä¹‰æ–‡æœ¬ï¼‰ã€‚  
3. å‰ç«¯ä»¥æ‰¹é‡æ–¹å¼è°ƒç”¨ `POST /proofreading/decisions` å°†å†³ç­–å†™å…¥ `proofreading_decisions`ã€‚  
4. åç«¯åœ¨ä¿å­˜æ—¶åŒæ­¥æ›´æ–° `proofreading_history` çš„ `accepted_count` / `rejected_count` / `modified_count` ä¸ `pending_feedback_count`ã€‚  
5. è°ƒä¼˜å¯¼å‡ºä»»åŠ¡ä¾æ® `feedback_status='pending'` æ‹‰å–æ•°æ®ï¼Œæ ‡è®°ä¸º `in_progress`ï¼ŒæˆåŠŸå®Œæˆäººå·¥å¤ç›˜å¹¶ç”¨äºè„šæœ¬/Prompt è°ƒä¼˜åæ›´æ–°ä¸º `completed`ï¼ŒåŒæ—¶è®°å½• `tuning_batch_id` / `prompt_or_rule_version` / `feedback_processed_at`ã€‚  
6. è‹¥è°ƒä¼˜å¤±è´¥æˆ–æš‚æœªå¤„ç†ï¼Œæ ‡è®° `failed` å¹¶è®°å½•åŸå› ï¼Œå…è®¸è¿è¥é‡ç½®ä¸º `pending` é‡æ–°çº³å…¥å¤ç›˜é˜Ÿåˆ—ã€‚  
7. ç»Ÿè®¡æŠ¥è¡¨å¯é€šè¿‡ `pending_feedback_count`ã€`feedback_completed_count` è¿½è¸ªæœªå¤„ç†/å·²å¸æ”¶çš„åé¦ˆæ¯”ä¾‹ã€‚

**è°ƒä¼˜æ‰¹æ¬¡ç®¡ç†ï¼ˆå¯é€‰ï¼‰**
- `feedback_tuning_jobs` è¡¨è®°å½•æ¯æ¬¡ prompt æˆ–è„šæœ¬è°ƒæ•´æ‰€ä½¿ç”¨çš„åé¦ˆé›†åˆï¼Œæ”¯æŒæº¯æºã€‚  
- å¯¼å‡º/å¤ç›˜å®Œæˆåï¼Œå°†ç›¸å…³å†³ç­–å…³è”åˆ°å¯¹åº”æ‰¹æ¬¡ï¼Œä¾¿äºå›é¡¾æ˜¯è°åœ¨ä½•æ—¶åŸºäºå“ªäº›åé¦ˆåšäº†å“ªäº›è°ƒæ•´ã€‚  
- ç›‘æ§é¢æ¿å±•ç¤ºå„æ‰¹æ¬¡è¿›åº¦ã€å¤±è´¥ç‡ã€æ¶‰åŠçš„ Prompt/è§„åˆ™ç‰ˆæœ¬ã€‚

### 4.3 ç‰ˆæœ¬çŠ¶æ€æœº

#### çŠ¶æ€å®šä¹‰

```python
class ProofreadingStatus(Enum):
    PENDING = "pending"              # å¾…å¤„ç†
    PARSING = "parsing"              # è§£æä¸­
    ANALYZING = "analyzing"          # æ ¡å¯¹åˆ†æä¸­
    SUGGESTED = "suggested"          # å·²ç”Ÿæˆå»ºè®®
    USER_REVIEWING = "user_reviewing" # ç”¨æˆ·å®¡æ ¸ä¸­
    USER_EDITING = "user_editing"    # ç”¨æˆ·ç¼–è¾‘ä¸­
    CONFIRMED = "confirmed"          # å·²ç¡®è®¤
    PUBLISHING = "publishing"        # å‘å¸ƒä¸­
    PUBLISHED = "published"          # å·²å‘å¸ƒ
    FAILED = "failed"                # å¤„ç†å¤±è´¥
```

#### çŠ¶æ€è½¬æ¢è§„åˆ™

```
PENDING â†’ PARSING â†’ ANALYZING â†’ SUGGESTED
                                    â†“
                          USER_REVIEWING â†” USER_EDITING
                                    â†“
                              CONFIRMED â†’ PUBLISHING â†’ PUBLISHED

ä»»æ„çŠ¶æ€ â†’ FAILEDï¼ˆå‘ç”Ÿé”™è¯¯æ—¶ï¼‰
```

#### çŠ¶æ€è½¬æ¢æ¡ä»¶

| ä»çŠ¶æ€ | åˆ°çŠ¶æ€ | è§¦å‘æ¡ä»¶ | å›æ»šæ¡ä»¶ |
|-------|--------|---------|---------|
| PENDING | PARSING | æ–‡ç« åˆ›å»º/å¯¼å…¥ | - |
| PARSING | ANALYZING | è§£ææˆåŠŸ | è§£æå¤±è´¥â†’FAILED |
| ANALYZING | SUGGESTED | AIåˆ†æå®Œæˆ | AIå¤±è´¥â†’FAILED |
| SUGGESTED | USER_REVIEWING | ç”¨æˆ·æ‰“å¼€å®¡æ ¸é¡µé¢ | - |
| USER_REVIEWING | USER_EDITING | ç”¨æˆ·ç‚¹å‡»ç¼–è¾‘ | - |
| USER_EDITING | USER_REVIEWING | ç”¨æˆ·ä¿å­˜ç¼–è¾‘ | - |
| USER_REVIEWING | CONFIRMED | ç”¨æˆ·ç‚¹å‡»ç¡®è®¤ | Fç±»å…³é”®é—®é¢˜â†’é˜»æ­¢ |
| CONFIRMED | PUBLISHING | ç”¨æˆ·ç‚¹å‡»å‘å¸ƒ | - |
| PUBLISHING | PUBLISHED | å‘å¸ƒæˆåŠŸ | å‘å¸ƒå¤±è´¥â†’CONFIRMED |

---

## 5. å®Œæ•´å·¥ä½œæµç¨‹

### 5.1 æµç¨‹æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ–‡ç« ä¸Šç¨¿å‰å¤„ç†æµç¨‹ (v2.0 å•ä¸€Promptæ¶æ„)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ åŸç¨¿è¾“å…¥  â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æ–‡ç¨¿æ ¼å¼è§£æ       â”‚
  â”‚ (ArticleParser)  â”‚
  â”‚ - è¯†åˆ«ä¸‰éƒ¨åˆ†       â”‚
  â”‚ - éªŒè¯æ ¼å¼         â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ä¿å­˜åŸå§‹ç‰ˆæœ¬       â”‚
  â”‚ (Original)       â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   ProofreadingAnalysisService.analyze_article()        â”‚
  â”‚   å•ä¸€ Prompt + ç¨‹åºåŒ–æ ¡éªŒï¼ˆæ€»è€—æ—¶ ~3.0 ç§’ï¼‰            â”‚
  â”‚                                                       â”‚
  â”‚  Step A: Claude å•æ¬¡è°ƒç”¨ï¼ˆPromptBuilderï¼‰               â”‚
  â”‚  âœ“ A-F ç±»è§„åˆ™é€æ¡å®¡æ ¸ï¼ˆå« rule_coverage åˆ—è¡¨ï¼‰          â”‚
  â”‚  âœ“ æ­£æ–‡ä¼˜åŒ– / Meta / å…³é”®è¯ / FAQ                      â”‚
  â”‚                                                       â”‚
  â”‚  Step B: DeterministicRuleEngine.run()                â”‚
  â”‚  âœ“ B2-002 åŠè§’é€—å·æ£€æµ‹                                 â”‚
  â”‚  âœ“ F1-002 ç‰¹è‰²å›¾æ¨ªå¹…æ ¡éªŒ                               â”‚
  â”‚  âœ“ F2-001 æ ‡é¢˜å±‚çº§æ£€æŸ¥ï¼ˆæŒç»­æ‰©å……å¯ç¨‹åºåŒ–è§„åˆ™ï¼‰          â”‚
  â”‚                                                       â”‚
  â”‚  Step C: ProofreadingResultMerger.merge()             â”‚
  â”‚  âœ“ AI + è„šæœ¬ç»“æœæ¯”å¯¹ä¸å»é‡                              â”‚
  â”‚  âœ“ source_breakdownï¼ˆai/script/mergedï¼‰ç»Ÿè®¡            â”‚
  â”‚  âœ“ F ç±»é˜»æ–­è‡ªåŠ¨å†™å…¥ critical_issues_count             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ ç”Ÿæˆå»ºè®®ç‰ˆæœ¬  â”‚
            â”‚ (Suggested) â”‚
            â”‚ - åº”ç”¨æ ¡å¯¹å»ºè®®â”‚
            â”‚ - ä¼˜åŒ–Meta   â”‚
            â”‚ - ä¼˜åŒ–å…³é”®è¯  â”‚
            â”‚ - ç”ŸæˆFAQ    â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ ç”¨æˆ·å®¡æ ¸ç•Œé¢      â”‚
            â”‚ - å¯¹æ¯”æ˜¾ç¤º       â”‚
            â”‚ - Diffé«˜äº®       â”‚
            â”‚ - é€é¡¹é€‰æ‹©       â”‚
            â”‚ - FAQç‰ˆæœ¬é€‰æ‹©   â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ â”‚ ç”¨æˆ·ç¼–è¾‘ â”‚
                   â”‚ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                   â”‚      â”‚
                   â–¼â—„â”€â”€â”€â”€â”€â”˜
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ ç¡®å®šæœ€ç»ˆç‰ˆæœ¬  â”‚
            â”‚ (Final)     â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Fç±»è§„åˆ™æœ€ç»ˆ  â”‚
            â”‚ åˆè§„æ€§æ£€æŸ¥    â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ é€šè¿‡
                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  ä¸Šç¨¿å‘å¸ƒ    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**å…³é”®æ”¹è¿› (v2.1):**
- âš¡ AI å•æ¬¡è°ƒç”¨ + è„šæœ¬å¹¶è¡Œåˆå¹¶ï¼Œæ€»è€—æ—¶ç¨³å®šåœ¨ ~3 ç§’
- ğŸ” F ç±»å¼ºåˆ¶è§„åˆ™ç”±è„šæœ¬å…œåº•ï¼Œæœç»å¹»è§‰å¯¼è‡´çš„æ¼æ£€
- ğŸ“Š `source_breakdown` æ”¯æ’‘ç›‘æ§ AI / è„šæœ¬å‘½ä¸­ç‡ï¼Œå¿«é€Ÿå‘ç°æ¼‚ç§»
- ğŸ“¦ ProofreadingAnalysisService ç»Ÿä¸€ orchestrateï¼Œåç«¯/å‰ç«¯/CI å…±ç”¨åŒä¸€è¾“å‡º schema
```

### 5.2 é˜¶æ®µè¯¦ç»†è¯´æ˜

#### é˜¶æ®µ1ï¼šåŸç¨¿è¾“å…¥ä¸è§£æ

**è¾“å…¥æ¥æºï¼š**
1. å‰ç«¯Webç¼–è¾‘å™¨æ‰‹åŠ¨è¾“å…¥
2. æ–‡æœ¬æ–‡ä»¶æ‰¹é‡å¯¼å…¥ï¼ˆ.txtï¼‰
3. CSVæ‰¹é‡å¯¼å…¥
4. APIæ¥å£æäº¤

**è§£ææ­¥éª¤ï¼š**
```python
async def parse_article(raw_text: str) -> ParsedArticle:
    """
    è§£ææ–‡ç¨¿ï¼Œè¯†åˆ«ä¸‰éƒ¨åˆ†
    """
    # 1. æ£€æµ‹å›ºå®šæ ‡è®°
    meta_marker = "Metaæè¿°:"
    keywords_marker = "SEOå…³é”®è¯:"

    # 2. åˆ†å‰²æ–‡æœ¬
    parts = split_by_markers(raw_text, [meta_marker, keywords_marker])

    # 3. æå–å„éƒ¨åˆ†
    main_body = parts.get("content", "").strip()
    meta_desc = parts.get("Metaæè¿°", None)
    seo_keywords = parts.get("SEOå…³é”®è¯", None)

    # 4. è§£æå…³é”®è¯åˆ—è¡¨
    if seo_keywords:
        keywords_list = [kw.strip() for kw in seo_keywords.split(",")]
    else:
        keywords_list = []

    # 5. æ ¼å¼éªŒè¯
    warnings = validate_format(parts)

    return ParsedArticle(
        main_body=main_body,
        meta_description=meta_desc,
        seo_keywords=keywords_list,
        parse_warnings=warnings,
        format_valid=len(warnings) == 0
    )
```

**éªŒè¯é¡¹ï¼š**
- âœ… æ­£æ–‡æ˜¯å¦ä¸ºç©º
- âœ… Metaæè¿°é•¿åº¦æ˜¯å¦åˆç†ï¼ˆ100-200å­—ç¬¦ï¼‰
- âœ… å…³é”®è¯æ•°é‡æ˜¯å¦åˆç†ï¼ˆ2-10ä¸ªï¼‰
- âœ… æ˜¯å¦å­˜åœ¨æ ¼å¼å¼‚å¸¸ï¼ˆå¦‚æ ‡è®°é‡å¤ã€é¡ºåºé”™è¯¯ï¼‰

#### é˜¶æ®µ2ï¼šåŸå§‹ç‰ˆæœ¬ä¿å­˜

**ä¿å­˜å†…å®¹ï¼š**
```python
original_version = {
    "original_content": main_body,
    "original_content_word_count": count_words(main_body),
    "original_meta_description": meta_desc,
    "original_meta_char_count": len(meta_desc) if meta_desc else 0,
    "original_seo_keywords": keywords_list,
    "original_keyword_count": len(keywords_list),
    "original_received_at": datetime.now(),
    "original_format_valid": format_valid,
    "original_parse_warnings": warnings
}
```

**ä¿å­˜åŸåˆ™ï¼š**
- ğŸ”’ **ä¸å¯ä¿®æ”¹**ï¼šåŸå§‹ç‰ˆæœ¬ä¸€æ—¦ä¿å­˜ï¼Œä¸å…è®¸ä»»ä½•ä¿®æ”¹
- ğŸ“ **å®Œæ•´è®°å½•**ï¼šåŒ…æ‹¬æ‰€æœ‰è§£æè­¦å‘Šã€å…ƒæ•°æ®
- ğŸ” **å¯è¿½æº¯**ï¼šæ”¯æŒåç»­å¯¹æ¯”å’Œå®¡è®¡

#### é˜¶æ®µ3ï¼šå…¨é¢æ ¡å¯¹åˆ†æ

**æ ¡å¯¹èŒƒå›´ï¼š**

| æ ¡å¯¹å¯¹è±¡ | åº”ç”¨è§„åˆ™ | è§„åˆ™æ•°é‡ |
|---------|---------|---------|
| æ­£æ–‡å†…å®¹ | A-Fç±»å…¨éƒ¨è§„åˆ™ | ~450æ¡ |
| Metaæè¿° | A-Eç±»ï¼ˆè¯­è¨€è§„èŒƒï¼‰+ é•¿åº¦é™åˆ¶ | ~430æ¡ + é•¿åº¦ |
| SEOå…³é”®è¯ | æ ¼å¼éªŒè¯ + ç›¸å…³æ€§æ£€æµ‹ | è‡ªå®šä¹‰è§„åˆ™ |

**æ­£æ–‡æ ¡å¯¹ï¼š**
```python
async def proofread_content(content: str) -> ProofreadingResult:
    """
    å¯¹æ­£æ–‡è¿›è¡ŒA-Fç±»è§„åˆ™æ ¡å¯¹
    """
    issues = []

    # Aç±»ï¼šç”¨å­—ä¸ç”¨è¯
    issues.extend(await check_word_usage(content))

    # Bç±»ï¼šæ ‡ç‚¹ç¬¦å·
    issues.extend(await check_punctuation(content))

    # Cç±»ï¼šæ•°å­—ç”¨æ³•
    issues.extend(await check_number_usage(content))

    # Dç±»ï¼šäººååœ°åè¯‘å
    issues.extend(await check_name_translation(content))

    # Eç±»ï¼šæŠ¥å¯¼ç”¨è¯
    issues.extend(await check_reporting_terms(content))

    # Fç±»ï¼šå‘å¸ƒåˆè§„ï¼ˆå¦‚æ ‡é¢˜å±‚çº§ï¼‰
    issues.extend(await check_publishing_compliance(content))

    return ProofreadingResult(
        issues=issues,
        critical_count=count_critical(issues),
        error_count=count_errors(issues),
        warning_count=count_warnings(issues)
    )
```

**Metaæè¿°æ ¡å¯¹ï¼š**
```python
async def proofread_meta_description(meta: str) -> MetaProofreadingResult:
    """
    æ ¡å¯¹Metaæè¿°
    """
    issues = []

    # åº”ç”¨A-Eç±»è¯­è¨€è§„èŒƒ
    issues.extend(await check_language_rules(meta))

    # é•¿åº¦æ£€æŸ¥
    char_count = len(meta)
    if char_count < 100:
        issues.append(Issue(
            severity="warning",
            message=f"Metaæè¿°è¿‡çŸ­({char_count}å­—ç¬¦)ï¼Œå»ºè®®150-160å­—ç¬¦"
        ))
    elif char_count > 200:
        issues.append(Issue(
            severity="error",
            message=f"Metaæè¿°è¿‡é•¿({char_count}å­—ç¬¦)ï¼Œå¯èƒ½è¢«æœç´¢å¼•æ“æˆªæ–­"
        ))

    # å†…å®¹è´¨é‡æ£€æŸ¥
    if not contains_keywords(meta):
        issues.append(Issue(
            severity="warning",
            message="Metaæè¿°ä¸­æœªåŒ…å«SEOå…³é”®è¯"
        ))

    return MetaProofreadingResult(issues=issues)
```

**å…³é”®è¯æ ¡å¯¹ï¼š**
```python
async def proofread_keywords(keywords: List[str], content: str) -> KeywordProofreadingResult:
    """
    æ ¡å¯¹SEOå…³é”®è¯
    """
    issues = []

    # æ•°é‡æ£€æŸ¥
    if len(keywords) < 2:
        issues.append(Issue(severity="warning", message="å…³é”®è¯æ•°é‡è¿‡å°‘ï¼Œå»ºè®®3-8ä¸ª"))
    elif len(keywords) > 10:
        issues.append(Issue(severity="warning", message="å…³é”®è¯æ•°é‡è¿‡å¤šï¼Œå»ºè®®3-8ä¸ª"))

    # é‡å¤æ£€æŸ¥
    duplicates = find_duplicates(keywords)
    if duplicates:
        issues.append(Issue(
            severity="warning",
            message=f"å‘ç°é‡å¤å…³é”®è¯: {', '.join(duplicates)}"
        ))

    # ç›¸å…³æ€§æ£€æŸ¥ï¼ˆAIï¼‰
    for keyword in keywords:
        if not keyword_appears_in_content(keyword, content):
            issues.append(Issue(
                severity="info",
                message=f"å…³é”®è¯'{keyword}'æœªåœ¨æ­£æ–‡ä¸­å‡ºç°"
            ))

    return KeywordProofreadingResult(issues=issues)
```

#### é˜¶æ®µ4ï¼šAIå†…å®¹ä¼˜åŒ–

**4.1 æ®µè½åˆ†æ**

```python
async def analyze_paragraphs(content: str) -> ParagraphAnalysis:
    """
    AIåˆ†ææ®µè½ç»“æ„ï¼Œæå‡ºä¼˜åŒ–å»ºè®®
    """
    paragraphs = split_into_paragraphs(content)
    suggestions = []

    for idx, para in enumerate(paragraphs):
        word_count = count_words(para)

        # æ£€æµ‹è¿‡é•¿æ®µè½ï¼ˆ>200å­—ï¼‰
        if word_count > 200:
            # è°ƒç”¨AIå»ºè®®åˆ†æ®µä½ç½®
            split_positions = await ai_suggest_split_positions(para)
            suggestions.append({
                "paragraph_index": idx,
                "issue": "paragraph_too_long",
                "current_word_count": word_count,
                "suggested_split_positions": split_positions,
                "reasoning": "æ®µè½è¿‡é•¿å½±å“é˜…è¯»ä½“éªŒï¼Œå»ºè®®åˆ†æ®µ"
            })

        # æ£€æµ‹è¿‡çŸ­æ®µè½ï¼ˆ<20å­—ï¼‰
        elif word_count < 20:
            suggestions.append({
                "paragraph_index": idx,
                "issue": "paragraph_too_short",
                "current_word_count": word_count,
                "suggestion": "consider_merging",
                "reasoning": "æ®µè½è¿‡çŸ­ï¼Œè€ƒè™‘ä¸å‰åæ®µåˆå¹¶"
            })

    return ParagraphAnalysis(suggestions=suggestions)
```

**4.2 å†…å®¹ä¼˜åŒ–**

```python
async def optimize_content(content: str, issues: List[Issue]) -> ContentOptimization:
    """
    æ ¹æ®æ ¡å¯¹é—®é¢˜ï¼ŒAIç”Ÿæˆä¼˜åŒ–å»ºè®®
    """
    optimizations = []

    for issue in issues:
        if issue.severity in ["critical", "error"]:
            # å¯¹äºä¸¥é‡é—®é¢˜ï¼ŒAIæä¾›ä¿®æ­£å»ºè®®
            fix_suggestion = await ai_suggest_fix(content, issue)
            optimizations.append({
                "issue_id": issue.id,
                "original_text": issue.context,
                "suggested_text": fix_suggestion,
                "reasoning": issue.message,
                "confidence": fix_suggestion.confidence
            })

    return ContentOptimization(optimizations=optimizations)
```

#### é˜¶æ®µ5ï¼šMeta & å…³é”®è¯ä¼˜åŒ–

**5.1 Metaæè¿°ä¼˜åŒ–**

```python
async def optimize_meta_description(
    original_meta: Optional[str],
    content: str,
    keywords: List[str]
) -> MetaOptimization:
    """
    ä¼˜åŒ–Metaæè¿°
    """
    if original_meta:
        # æœ‰åŸå§‹Metaï¼Œè¿›è¡Œä¼˜åŒ–
        optimized = await ai_optimize_meta(original_meta, content, keywords)
    else:
        # æ— åŸå§‹Metaï¼ŒAIç”Ÿæˆ
        optimized = await ai_generate_meta(content, keywords)

    # ç¡®ä¿é•¿åº¦åˆè§„
    optimized_text = adjust_length(optimized, target_length=155)

    return MetaOptimization(
        original=original_meta,
        suggested=optimized_text,
        char_count=len(optimized_text),
        includes_keywords=check_keywords_included(optimized_text, keywords),
        reasoning="åŸºäºæ­£æ–‡å†…å®¹å’Œå…³é”®è¯ä¼˜åŒ–",
        score=calculate_seo_score(optimized_text)
    )
```

**AI Promptç¤ºä¾‹ï¼š**
```
ä½ æ˜¯ä¸€ä¸ªSEOä¸“å®¶ã€‚è¯·ä¸ºä»¥ä¸‹æ–‡ç« ç”ŸæˆMeta Descriptionï¼š

æ–‡ç« æ­£æ–‡ï¼š
{content}

SEOå…³é”®è¯ï¼š
{keywords}

è¦æ±‚ï¼š
1. é•¿åº¦ï¼š150-160å­—ç¬¦ï¼ˆä¸­æ–‡çº¦75-80å­—ï¼‰
2. å¿…é¡»åŒ…å«è‡³å°‘2ä¸ªå…³é”®è¯
3. å‡†ç¡®æ¦‚æ‹¬æ–‡ç« æ ¸å¿ƒå†…å®¹
4. è¯­è¨€å¸å¼•äººï¼Œé¼“åŠ±ç‚¹å‡»
5. é¿å…å †ç Œå…³é”®è¯

è¯·ç”ŸæˆMeta Descriptionï¼š
```

**5.2 å…³é”®è¯ä¼˜åŒ–**

```python
async def optimize_keywords(
    original_keywords: List[str],
    content: str,
    meta: str
) -> KeywordOptimization:
    """
    ä¼˜åŒ–SEOå…³é”®è¯
    """
    if original_keywords:
        # æœ‰åŸå§‹å…³é”®è¯ï¼Œè¿›è¡Œä¼˜åŒ–
        optimized = await ai_optimize_keywords(original_keywords, content)
    else:
        # æ— åŸå§‹å…³é”®è¯ï¼ŒAIæå–
        optimized = await ai_extract_keywords(content, meta)

    # å…³é”®è¯æ’åºï¼ˆç›¸å…³æ€§ + é‡è¦æ€§ï¼‰
    optimized_sorted = await rank_keywords(optimized, content)

    # é™åˆ¶æ•°é‡ï¼ˆ3-8ä¸ªï¼‰
    final_keywords = optimized_sorted[:8]

    return KeywordOptimization(
        original=original_keywords,
        suggested=final_keywords,
        keyword_count=len(final_keywords),
        reasoning="åŸºäºå†…å®¹ç›¸å…³æ€§å’ŒSEOä»·å€¼æå–",
        relevance_scores={kw: score for kw, score in zip(final_keywords, scores)}
    )
```

**AI Promptç¤ºä¾‹ï¼š**
```
ä½ æ˜¯ä¸€ä¸ªSEOä¸“å®¶ã€‚è¯·ä¸ºä»¥ä¸‹æ–‡ç« æå–SEOå…³é”®è¯ï¼š

æ–‡ç« æ­£æ–‡ï¼š
{content}

Metaæè¿°ï¼š
{meta}

è¦æ±‚ï¼š
1. æ•°é‡ï¼š3-8ä¸ªå…³é”®è¯
2. æ¯ä¸ªå…³é”®è¯2-5ä¸ªå­—
3. å¿…é¡»åœ¨æ­£æ–‡ä¸­å‡ºç°
4. æŒ‰é‡è¦æ€§æ’åº
5. è€ƒè™‘æœç´¢æ„å›¾å’Œç«äº‰åº¦

è¯·æå–å…³é”®è¯ï¼ˆJSONæ ¼å¼ï¼‰ï¼š
[
  {"keyword": "å…³é”®è¯1", "relevance": 0.95, "reasoning": "åŸå› "},
  ...
]
```

#### é˜¶æ®µ6ï¼šFAQ Schemaç”Ÿæˆ

**ï¼ˆè¯¦è§ `structured_data_faq_schema.md` æ–‡æ¡£ï¼‰**

```python
async def generate_faq_schema(content: str) -> FAQSchemaProposal:
    """
    ç”ŸæˆFAQ Schemaç»“æ„åŒ–æ•°æ®
    """
    # AIæå–3-5ä¸ªå¸¸è§é—®é¢˜
    questions = await ai_extract_questions(content, num_questions=5)

    # ä¸ºæ¯ä¸ªé—®é¢˜ç”Ÿæˆç­”æ¡ˆ
    faq_items = []
    for q in questions:
        answer = await ai_generate_answer(q, content)
        faq_items.append({
            "question": q,
            "answer": answer
        })

    # ç”ŸæˆSchema.orgæ ¼å¼
    schema = generate_schema_org_faq(faq_items)

    return FAQSchemaProposal(
        faq_items=faq_items,
        schema_json_ld=schema,
        item_count=len(faq_items)
    )
```

#### é˜¶æ®µ7ï¼šç”Ÿæˆå»ºè®®ç‰ˆæœ¬

**æ±‡æ€»æ‰€æœ‰ä¼˜åŒ–å»ºè®®ï¼š**
```python
async def generate_suggested_version(
    original: OriginalVersion,
    proofreading: ProofreadingResult,
    content_opt: ContentOptimization,
    meta_opt: MetaOptimization,
    keyword_opt: KeywordOptimization,
    paragraph_analysis: ParagraphAnalysis,
    faq_proposals: List[FAQSchemaProposal]
) -> SuggestedVersion:
    """
    æ±‡æ€»ç”Ÿæˆå»ºè®®ç‰ˆæœ¬
    """
    return SuggestedVersion(
        # æ­£æ–‡å»ºè®®
        suggested_content=apply_optimizations(
            original.content,
            content_opt.optimizations
        ),
        suggested_content_changes=compute_diff(
            original.content,
            suggested_content
        ),

        # Metaå»ºè®®
        suggested_meta_description=meta_opt.suggested,
        suggested_meta_reasoning=meta_opt.reasoning,
        suggested_meta_score=meta_opt.score,

        # å…³é”®è¯å»ºè®®
        suggested_seo_keywords=keyword_opt.suggested,
        suggested_keywords_reasoning=keyword_opt.reasoning,
        suggested_keywords_score=calculate_avg_relevance(keyword_opt),

        # æ®µè½å»ºè®®
        paragraph_suggestions=paragraph_analysis.suggestions,

        # FAQ Schemaå»ºè®®ï¼ˆå¤šå¥—æ–¹æ¡ˆï¼‰
        faq_schema_proposals=faq_proposals,

        # æ ¡å¯¹é—®é¢˜
        proofreading_issues=proofreading.issues,
        critical_issues_count=proofreading.critical_count,

        # å…ƒæ•°æ®
        suggested_generated_at=datetime.now(),
        ai_model_used="claude-3-5-sonnet",
        generation_cost=calculate_cost()
    )
```

#### é˜¶æ®µ8ï¼šç”¨æˆ·å®¡æ ¸ä¸ç¡®è®¤

**ç”¨æˆ·æ“ä½œï¼š**
1. **æŸ¥çœ‹å¯¹æ¯”**ï¼šOriginal vs Suggested å¹¶æ’æ˜¾ç¤º
2. **é€é¡¹å®¡æ ¸**ï¼šæ¯ä¸ªå»ºè®®å¯ç‹¬ç«‹æ¥å—/æ‹’ç»
3. **æ‰‹åŠ¨ç¼–è¾‘**ï¼šå¯ç›´æ¥ä¿®æ”¹ä»»ä½•éƒ¨åˆ†
4. **ç¡®è®¤å‘å¸ƒ**ï¼šç”ŸæˆFinalç‰ˆæœ¬

**ç”¨æˆ·å¯é€‰æ“ä½œï¼š**
```python
class UserReviewAction(Enum):
    ACCEPT_ALL = "accept_all"           # å…¨éƒ¨æ¥å—å»ºè®®
    ACCEPT_PARTIAL = "accept_partial"   # éƒ¨åˆ†æ¥å—
    REJECT_ALL = "reject_all"           # å…¨éƒ¨æ‹’ç»ï¼ˆä½¿ç”¨åŸå§‹ï¼‰
    MANUAL_EDIT = "manual_edit"         # æ‰‹åŠ¨ç¼–è¾‘
```

**ç”Ÿæˆæœ€ç»ˆç‰ˆæœ¬ï¼š**
```python
async def generate_final_version(
    original: OriginalVersion,
    suggested: SuggestedVersion,
    user_choices: UserChoices
) -> FinalVersion:
    """
    æ ¹æ®ç”¨æˆ·é€‰æ‹©ç”Ÿæˆæœ€ç»ˆç‰ˆæœ¬
    """
    final_content = apply_user_choices(
        original.content,
        suggested.content,
        user_choices.content_decisions
    )

    final_meta = (
        user_choices.meta_custom if user_choices.meta_custom
        else suggested.meta if user_choices.accept_meta_suggestion
        else original.meta
    )

    final_keywords = (
        user_choices.keywords_custom if user_choices.keywords_custom
        else suggested.keywords if user_choices.accept_keywords_suggestion
        else original.keywords
    )

    final_faq = (
        user_choices.selected_faq_schema if user_choices.use_faq_schema
        else None
    )

    return FinalVersion(
        final_content=final_content,
        final_meta_description=final_meta,
        final_seo_keywords=final_keywords,
        final_faq_schema=final_faq,
        user_accepted_suggestions=user_choices.accepted,
        user_rejected_suggestions=user_choices.rejected,
        user_manual_edits=user_choices.manual_edits,
        final_confirmed_at=datetime.now(),
        final_confirmed_by=user_choices.user_id,
        final_version_number=1
    )
```

#### é˜¶æ®µ9ï¼šæœ€ç»ˆåˆè§„æ£€æŸ¥

**Fç±»è§„åˆ™å¼ºåˆ¶éªŒè¯ï¼š**
```python
async def final_compliance_check(final: FinalVersion) -> ComplianceCheckResult:
    """
    å‘å¸ƒå‰Fç±»è§„åˆ™æœ€ç»ˆæ£€æŸ¥
    """
    critical_issues = []

    # F1: å›¾ç‰‡è§„æ ¼ï¼ˆå¦‚æœ‰ç‰¹è‰²å›¾ç‰‡ï¼‰
    if final.featured_image:
        image_issues = await validate_featured_image(final.featured_image)
        critical_issues.extend([i for i in image_issues if i.blocks_publish])

    # F2: æ ‡é¢˜å±‚çº§
    heading_issues = await validate_heading_hierarchy(final.content)
    critical_issues.extend([i for i in heading_issues if i.blocks_publish])

    # F3: ç‰ˆæƒåˆè§„
    copyright_issues = await validate_copyright(final.images)
    critical_issues.extend([i for i in copyright_issues if i.blocks_publish])

    if critical_issues:
        return ComplianceCheckResult(
            passed=False,
            blocking_issues=critical_issues,
            message="å­˜åœ¨é˜»æ­¢å‘å¸ƒçš„å…³é”®é—®é¢˜ï¼Œå¿…é¡»ä¿®æ­£åæ‰èƒ½å‘å¸ƒ"
        )

    return ComplianceCheckResult(passed=True)
```

**é˜»æ­¢å‘å¸ƒç¤ºä¾‹ï¼š**
```python
if not compliance_check.passed:
    raise PublishBlockedException(
        message="å‘å¸ƒè¢«é˜»æ­¢ï¼šå­˜åœ¨Fç±»å…³é”®é—®é¢˜",
        blocking_issues=compliance_check.blocking_issues,
        article_id=article.id
    )
```

#### é˜¶æ®µ10ï¼šä¸Šç¨¿å‘å¸ƒ

**å‘å¸ƒæµç¨‹ï¼š**
```python
async def publish_article(article_id: int) -> PublishResult:
    """
    å‘å¸ƒæ–‡ç« åˆ°WordPress
    """
    article = await get_article(article_id)

    # 1. è·å–æœ€ç»ˆç‰ˆæœ¬
    final = article.final_version

    # 2. æœ€ç»ˆåˆè§„æ£€æŸ¥
    compliance = await final_compliance_check(final)
    if not compliance.passed:
        raise PublishBlockedException(compliance.blocking_issues)

    # 3. å‡†å¤‡å‘å¸ƒæ•°æ®
    wordpress_data = {
        "title": article.title,
        "content": final.final_content,
        "excerpt": final.final_meta_description,
        "tags": final.final_seo_keywords,
        "status": "publish"
    }

    # 4. å¦‚æœ‰FAQ Schemaï¼Œæ³¨å…¥åˆ°æ–‡ç« 
    if final.final_faq_schema:
        wordpress_data["meta"] = {
            "faq_schema": json.dumps(final.final_faq_schema)
        }

    # 5. å‘å¸ƒåˆ°WordPress
    wp_response = await wordpress_client.create_post(wordpress_data)

    # 6. æ›´æ–°æ–‡ç« çŠ¶æ€
    article.proofreading_status = ProofreadingStatus.PUBLISHED
    article.published_at = datetime.now()
    article.wordpress_post_id = wp_response["id"]

    await save_article(article)

    return PublishResult(
        success=True,
        wordpress_post_id=wp_response["id"],
        wordpress_url=wp_response["link"]
    )
```

---

## 6. åŠŸèƒ½æ¨¡å—è¯¦ç»†è®¾è®¡

### 6.1 æ–‡ç¨¿è§£æå™¨ (ArticleParser)

#### æ¨¡å—èŒè´£
- è§£æåŸå§‹æ–‡ç¨¿ï¼Œè¯†åˆ«ä¸‰éƒ¨åˆ†ç»“æ„
- éªŒè¯æ ¼å¼å®Œæ•´æ€§
- å¤„ç†ç‰¹æ®Šæƒ…å†µå’Œå¼‚å¸¸æ ¼å¼

#### æ ¸å¿ƒæ–¹æ³•

```python
class ArticleParser:
    """æ–‡ç¨¿è§£æå™¨"""

    def __init__(self):
        self.meta_marker = "Metaæè¿°:"
        self.keywords_marker = "SEOå…³é”®è¯:"

    async def parse(self, raw_text: str) -> ParsedArticle:
        """ä¸»è§£ææ–¹æ³•"""
        # æ£€æµ‹æ ‡è®°ä½ç½®
        markers = self._detect_markers(raw_text)

        # åˆ†å‰²æ–‡æœ¬
        parts = self._split_by_markers(raw_text, markers)

        # æå–å„éƒ¨åˆ†
        main_body = self._extract_main_body(parts)
        meta_desc = self._extract_meta_description(parts)
        keywords = self._extract_keywords(parts)

        # éªŒè¯æ ¼å¼
        warnings = self._validate_format(parts, markers)

        return ParsedArticle(
            main_body=main_body,
            meta_description=meta_desc,
            seo_keywords=keywords,
            parse_warnings=warnings,
            format_valid=len(warnings) == 0
        )

    def _detect_markers(self, text: str) -> Dict[str, int]:
        """æ£€æµ‹æ ‡è®°ä½ç½®"""
        markers = {}

        # æŸ¥æ‰¾Metaæè¿°æ ‡è®°
        meta_pos = text.find(self.meta_marker)
        if meta_pos != -1:
            markers["Metaæè¿°"] = meta_pos

        # æŸ¥æ‰¾SEOå…³é”®è¯æ ‡è®°
        keywords_pos = text.find(self.keywords_marker)
        if keywords_pos != -1:
            markers["SEOå…³é”®è¯"] = keywords_pos

        return markers

    def _split_by_markers(self, text: str, markers: Dict) -> Dict[str, str]:
        """æŒ‰æ ‡è®°åˆ†å‰²æ–‡æœ¬"""
        parts = {}

        # æŒ‰ä½ç½®æ’åºæ ‡è®°
        sorted_markers = sorted(markers.items(), key=lambda x: x[1])

        # æå–æ­£æ–‡ï¼ˆç¬¬ä¸€ä¸ªæ ‡è®°ä¹‹å‰ï¼‰
        if sorted_markers:
            first_pos = sorted_markers[0][1]
            parts["æ­£æ–‡"] = text[:first_pos].strip()
        else:
            parts["æ­£æ–‡"] = text.strip()
            return parts

        # æå–æ ‡è®°å†…å®¹
        for i, (marker_name, marker_pos) in enumerate(sorted_markers):
            # æ ‡è®°å¼€å§‹ä½ç½®ï¼ˆè·³è¿‡æ ‡è®°æœ¬èº«ï¼‰
            marker_text = self.meta_marker if marker_name == "Metaæè¿°" else self.keywords_marker
            start = marker_pos + len(marker_text)

            # æ ‡è®°ç»“æŸä½ç½®ï¼ˆä¸‹ä¸€ä¸ªæ ‡è®°æˆ–æ–‡æœ«ï¼‰
            if i + 1 < len(sorted_markers):
                end = sorted_markers[i + 1][1]
            else:
                end = len(text)

            parts[marker_name] = text[start:end].strip()

        return parts

    def _extract_keywords(self, parts: Dict) -> List[str]:
        """æå–å…³é”®è¯åˆ—è¡¨"""
        keywords_text = parts.get("SEOå…³é”®è¯", "")
        if not keywords_text:
            return []

        # æŒ‰é€—å·åˆ†å‰²
        keywords = [kw.strip() for kw in keywords_text.split(",")]

        # è¿‡æ»¤ç©ºå…³é”®è¯
        keywords = [kw for kw in keywords if kw]

        return keywords

    def _validate_format(self, parts: Dict, markers: Dict) -> List[str]:
        """éªŒè¯æ ¼å¼ï¼Œè¿”å›è­¦å‘Šåˆ—è¡¨"""
        warnings = []

        # æ£€æŸ¥æ­£æ–‡æ˜¯å¦ä¸ºç©º
        if not parts.get("æ­£æ–‡"):
            warnings.append("è­¦å‘Šï¼šæ­£æ–‡å†…å®¹ä¸ºç©º")

        # æ£€æŸ¥Metaæè¿°
        meta = parts.get("Metaæè¿°", "")
        if meta:
            char_count = len(meta)
            if char_count < 100:
                warnings.append(f"è­¦å‘Šï¼šMetaæè¿°è¿‡çŸ­ï¼ˆ{char_count}å­—ç¬¦ï¼‰ï¼Œå»ºè®®150-160å­—ç¬¦")
            elif char_count > 200:
                warnings.append(f"è­¦å‘Šï¼šMetaæè¿°è¿‡é•¿ï¼ˆ{char_count}å­—ç¬¦ï¼‰ï¼Œå¯èƒ½è¢«æˆªæ–­")

        # æ£€æŸ¥å…³é”®è¯
        keywords = self._extract_keywords(parts)
        if keywords:
            if len(keywords) < 2:
                warnings.append(f"è­¦å‘Šï¼šå…³é”®è¯æ•°é‡è¿‡å°‘ï¼ˆ{len(keywords)}ä¸ªï¼‰ï¼Œå»ºè®®3-8ä¸ª")
            elif len(keywords) > 10:
                warnings.append(f"è­¦å‘Šï¼šå…³é”®è¯æ•°é‡è¿‡å¤šï¼ˆ{len(keywords)}ä¸ªï¼‰ï¼Œå»ºè®®3-8ä¸ª")

        # æ£€æŸ¥æ ‡è®°é¡ºåº
        if "Metaæè¿°" in markers and "SEOå…³é”®è¯" in markers:
            if markers["SEOå…³é”®è¯"] < markers["Metaæè¿°"]:
                warnings.append("ä¿¡æ¯ï¼šSEOå…³é”®è¯åœ¨Metaæè¿°ä¹‹å‰ï¼ˆéæ ‡å‡†é¡ºåºï¼Œä½†å·²æ­£ç¡®è§£æï¼‰")

        return warnings
```

### 6.2 æ ¡å¯¹å¼•æ“ (ProofreadingEngine)

#### æ¨¡å—èŒè´£
- åº”ç”¨A-Fç±»è§„åˆ™æ ¡å¯¹æ–‡æœ¬
- æ£€æµ‹è¯­è¨€ã€æ ‡ç‚¹ã€æ ¼å¼é—®é¢˜
- ç”Ÿæˆé—®é¢˜æŠ¥å‘Šå’Œä¿®æ­£å»ºè®®

#### æ ¸å¿ƒæ¶æ„

```python
class ProofreadingEngine:
    """æ ¡å¯¹å¼•æ“ - åº”ç”¨A-Fç±»è§„åˆ™"""

    def __init__(self, rule_repository: RuleRepository):
        self.rules = rule_repository
        self.checkers = {
            "A": WordUsageChecker(self.rules.get_category("A")),
            "B": PunctuationChecker(self.rules.get_category("B")),
            "C": NumberUsageChecker(self.rules.get_category("C")),
            "D": NameTranslationChecker(self.rules.get_category("D")),
            "E": ReportingTermsChecker(self.rules.get_category("E")),
            "F": PublishingComplianceChecker(self.rules.get_category("F"))
        }

    async def proofread_full_article(
        self,
        content: str,
        meta: Optional[str],
        keywords: List[str]
    ) -> FullProofreadingResult:
        """æ ¡å¯¹å®Œæ•´æ–‡ç« ï¼ˆä¸‰éƒ¨åˆ†ï¼‰"""

        # 1. æ ¡å¯¹æ­£æ–‡ï¼ˆA-Få…¨éƒ¨è§„åˆ™ï¼‰
        content_result = await self.proofread_content(content)

        # 2. æ ¡å¯¹Metaæè¿°ï¼ˆA-Eç±»ï¼‰
        meta_result = None
        if meta:
            meta_result = await self.proofread_meta(meta)

        # 3. æ ¡å¯¹å…³é”®è¯ï¼ˆæ ¼å¼+ç›¸å…³æ€§ï¼‰
        keywords_result = await self.proofread_keywords(keywords, content)

        # 4. æ±‡æ€»ç»“æœ
        return FullProofreadingResult(
            content_issues=content_result,
            meta_issues=meta_result,
            keywords_issues=keywords_result,
            total_critical=sum_critical([content_result, meta_result, keywords_result]),
            total_errors=sum_errors([content_result, meta_result, keywords_result]),
            total_warnings=sum_warnings([content_result, meta_result, keywords_result])
        )

    async def proofread_content(self, content: str) -> ProofreadingResult:
        """æ ¡å¯¹æ­£æ–‡å†…å®¹"""
        all_issues = []

        # åº”ç”¨A-Fç±»è§„åˆ™
        for category, checker in self.checkers.items():
            issues = await checker.check(content)
            all_issues.extend(issues)

        return ProofreadingResult(
            issues=all_issues,
            critical_count=count_by_severity(all_issues, "critical"),
            error_count=count_by_severity(all_issues, "error"),
            warning_count=count_by_severity(all_issues, "warning"),
            info_count=count_by_severity(all_issues, "info")
        )

    async def proofread_meta(self, meta: str) -> MetaProofreadingResult:
        """æ ¡å¯¹Metaæè¿°ï¼ˆA-Eç±» + é•¿åº¦ï¼‰"""
        issues = []

        # åº”ç”¨A-Eç±»è¯­è¨€è§„èŒƒ
        for category in ["A", "B", "C", "D", "E"]:
            checker = self.checkers[category]
            category_issues = await checker.check(meta)
            issues.extend(category_issues)

        # é•¿åº¦éªŒè¯
        char_count = len(meta)
        if char_count < 100:
            issues.append(Issue(
                rule_id="META-001",
                severity="warning",
                category="meta",
                message=f"Metaæè¿°è¿‡çŸ­ï¼ˆ{char_count}å­—ç¬¦ï¼‰ï¼Œå»ºè®®150-160å­—ç¬¦",
                context=meta[:50]
            ))
        elif char_count > 200:
            issues.append(Issue(
                rule_id="META-002",
                severity="error",
                category="meta",
                message=f"Metaæè¿°è¿‡é•¿ï¼ˆ{char_count}å­—ç¬¦ï¼‰ï¼Œå°†è¢«æœç´¢å¼•æ“æˆªæ–­",
                context=meta[:50]
            ))

        return MetaProofreadingResult(issues=issues, char_count=char_count)
```

### 6.3 æ®µè½åˆ†æå™¨ (ParagraphAnalyzer)

#### æ¨¡å—èŒè´£
- æ£€æµ‹æ®µè½é•¿åº¦é—®é¢˜
- AIå»ºè®®åˆ†æ®µä½ç½®
- åˆ†ææ®µè½ç»“æ„åˆç†æ€§

```python
class ParagraphAnalyzer:
    """æ®µè½åˆ†æå™¨ - AIé©±åŠ¨"""

    def __init__(self, ai_client: AnthropicClient):
        self.ai = ai_client
        self.max_paragraph_length = 200  # å­—æ•°
        self.min_paragraph_length = 20

    async def analyze(self, content: str) -> ParagraphAnalysis:
        """åˆ†ææ®µè½ç»“æ„"""
        paragraphs = self._split_paragraphs(content)
        suggestions = []

        for idx, para in enumerate(paragraphs):
            word_count = self._count_words(para)

            # è¿‡é•¿æ®µè½
            if word_count > self.max_paragraph_length:
                split_suggestions = await self._ai_suggest_splits(para)
                suggestions.append({
                    "type": "split",
                    "paragraph_index": idx,
                    "paragraph_text": para,
                    "word_count": word_count,
                    "split_positions": split_suggestions,
                    "reasoning": f"æ®µè½è¿‡é•¿ï¼ˆ{word_count}å­—ï¼‰ï¼Œå½±å“é˜…è¯»ä½“éªŒ"
                })

            # è¿‡çŸ­æ®µè½
            elif word_count < self.min_paragraph_length:
                suggestions.append({
                    "type": "merge",
                    "paragraph_index": idx,
                    "paragraph_text": para,
                    "word_count": word_count,
                    "suggestion": "è€ƒè™‘ä¸å‰åæ®µåˆå¹¶",
                    "reasoning": f"æ®µè½è¿‡çŸ­ï¼ˆ{word_count}å­—ï¼‰"
                })

        return ParagraphAnalysis(
            total_paragraphs=len(paragraphs),
            suggestions=suggestions,
            issues_count=len(suggestions)
        )

    async def _ai_suggest_splits(self, paragraph: str) -> List[SplitSuggestion]:
        """AIå»ºè®®åˆ†æ®µä½ç½®"""
        prompt = f"""
        ä»¥ä¸‹æ®µè½è¿‡é•¿ï¼Œè¯·åˆ†æå¹¶å»ºè®®åœ¨å“ªäº›ä½ç½®åˆ†æ®µï¼ˆè¿”å›å­—ç¬¦ä½ç½®ï¼‰ï¼š

        æ®µè½å†…å®¹ï¼š
        {paragraph}

        è¦æ±‚ï¼š
        1. è¯†åˆ«è‡ªç„¶çš„åˆ†æ®µç‚¹ï¼ˆå¦‚è¯é¢˜è½¬æ¢ã€é€»è¾‘æ–­ç‚¹ï¼‰
        2. æ¯æ®µæ§åˆ¶åœ¨100-150å­—å·¦å³
        3. è¿”å›JSONæ ¼å¼ï¼š[{{"position": 120, "reason": "è¯é¢˜è½¬æ¢"}}, ...]
        """

        response = await self.ai.complete(prompt)
        split_positions = json.loads(response)

        return [SplitSuggestion(**sp) for sp in split_positions]

    def _split_paragraphs(self, content: str) -> List[str]:
        """åˆ†å‰²æ®µè½"""
        # æŒ‰åŒæ¢è¡Œç¬¦åˆ†å‰²
        paragraphs = content.split("\n\n")
        # å»é™¤ç©ºæ®µè½
        return [p.strip() for p in paragraphs if p.strip()]

    def _count_words(self, text: str) -> int:
        """ç»Ÿè®¡å­—æ•°ï¼ˆä¸­æ–‡å­—ç¬¦ï¼‰"""
        return len([c for c in text if '\u4e00' <= c <= '\u9fff'])
```

### 6.4 Metaä¼˜åŒ–å™¨ (MetaOptimizer)

```python
class MetaOptimizer:
    """Metaæè¿°ä¼˜åŒ–å™¨"""

    def __init__(self, ai_client: AnthropicClient):
        self.ai = ai_client
        self.target_length = 155  # å­—ç¬¦
        self.length_range = (150, 160)

    async def optimize(
        self,
        original_meta: Optional[str],
        content: str,
        keywords: List[str]
    ) -> MetaOptimization:
        """ä¼˜åŒ–Metaæè¿°"""

        if original_meta:
            # å·²æœ‰Metaï¼Œè¿›è¡Œä¼˜åŒ–
            optimized = await self._optimize_existing(original_meta, content, keywords)
        else:
            # æ— Metaï¼Œç”Ÿæˆæ–°çš„
            optimized = await self._generate_new(content, keywords)

        # è°ƒæ•´é•¿åº¦
        if len(optimized) > self.length_range[1]:
            optimized = self._trim_to_length(optimized, self.target_length)

        # è¯„åˆ†
        score = self._calculate_score(optimized, keywords, content)

        return MetaOptimization(
            original=original_meta,
            suggested=optimized,
            char_count=len(optimized),
            includes_keywords=self._check_keywords(optimized, keywords),
            score=score,
            reasoning=self._generate_reasoning(original_meta, optimized, score)
        )

    async def _generate_new(self, content: str, keywords: List[str]) -> str:
        """ç”Ÿæˆæ–°Metaæè¿°"""
        prompt = f"""
        ä½ æ˜¯SEOä¸“å®¶ã€‚è¯·ä¸ºä»¥ä¸‹æ–‡ç« ç”ŸæˆMeta Descriptionï¼š

        æ–‡ç« æ­£æ–‡ï¼ˆå‰500å­—ï¼‰ï¼š
        {content[:500]}

        SEOå…³é”®è¯ï¼š
        {', '.join(keywords)}

        è¦æ±‚ï¼š
        1. é•¿åº¦ï¼š150-160å­—ç¬¦ï¼ˆä¸­æ–‡çº¦75-80å­—ï¼‰
        2. å¿…é¡»è‡ªç„¶åŒ…å«è‡³å°‘2ä¸ªå…³é”®è¯
        3. å‡†ç¡®æ¦‚æ‹¬æ–‡ç« æ ¸å¿ƒå†…å®¹
        4. è¯­è¨€å¸å¼•äººï¼Œé¼“åŠ±ç”¨æˆ·ç‚¹å‡»
        5. é¿å…å †ç Œå…³é”®è¯
        6. ä½¿ç”¨ç¬¬ä¸‰äººç§°æˆ–å®¢è§‚é™ˆè¿°

        åªè¿”å›Meta Descriptionæ–‡æœ¬ï¼Œä¸è¦å…¶ä»–å†…å®¹ï¼š
        """

        meta = await self.ai.complete(prompt)
        return meta.strip()

    async def _optimize_existing(
        self,
        original: str,
        content: str,
        keywords: List[str]
    ) -> str:
        """ä¼˜åŒ–ç°æœ‰Metaæè¿°"""
        issues = self._analyze_meta_issues(original, keywords)

        if not issues:
            return original  # å·²ç»å¾ˆå¥½ï¼Œä¸éœ€è¦ä¼˜åŒ–

        prompt = f"""
        è¯·ä¼˜åŒ–ä»¥ä¸‹Meta Descriptionï¼š

        åŸå§‹Metaï¼š
        {original}

        æ–‡ç« æ­£æ–‡ï¼ˆå‰500å­—ï¼‰ï¼š
        {content[:500]}

        SEOå…³é”®è¯ï¼š
        {', '.join(keywords)}

        å‘ç°çš„é—®é¢˜ï¼š
        {chr(10).join(f"- {issue}" for issue in issues)}

        ä¼˜åŒ–è¦æ±‚ï¼š
        1. ä¿æŒåŸæ„ï¼Œä½†ä¿®æ­£å‘ç°çš„é—®é¢˜
        2. é•¿åº¦ï¼š150-160å­—ç¬¦
        3. è‡ªç„¶åŒ…å«å…³é”®è¯
        4. æå‡å¸å¼•åŠ›å’Œç‚¹å‡»ç‡

        åªè¿”å›ä¼˜åŒ–åçš„Meta Descriptionï¼š
        """

        optimized = await self.ai.complete(prompt)
        return optimized.strip()

    def _calculate_score(self, meta: str, keywords: List[str], content: str) -> float:
        """è®¡ç®—Metaè´¨é‡è¯„åˆ†ï¼ˆ0-1ï¼‰"""
        score = 0.0

        # é•¿åº¦è¯„åˆ†ï¼ˆ30%ï¼‰
        char_count = len(meta)
        if self.length_range[0] <= char_count <= self.length_range[1]:
            length_score = 1.0
        elif char_count < self.length_range[0]:
            length_score = char_count / self.length_range[0]
        else:
            length_score = self.length_range[1] / char_count
        score += length_score * 0.3

        # å…³é”®è¯åŒ…å«è¯„åˆ†ï¼ˆ40%ï¼‰
        keywords_included = sum(1 for kw in keywords if kw in meta)
        keyword_score = min(keywords_included / max(len(keywords), 2), 1.0)
        score += keyword_score * 0.4

        # å†…å®¹ç›¸å…³æ€§è¯„åˆ†ï¼ˆ30%ï¼‰
        # ç®€å•æ–¹æ³•ï¼šæ£€æŸ¥Metaä¸­çš„è¯æ˜¯å¦åœ¨æ­£æ–‡ä¸­
        meta_words = set(meta)
        content_words = set(content[:1000])
        overlap = len(meta_words & content_words)
        relevance_score = min(overlap / max(len(meta_words), 50), 1.0)
        score += relevance_score * 0.3

        return round(score, 2)
```

### 6.5 å…³é”®è¯ä¼˜åŒ–å™¨ (KeywordOptimizer)

```python
class KeywordOptimizer:
    """SEOå…³é”®è¯ä¼˜åŒ–å™¨"""

    def __init__(self, ai_client: AnthropicClient):
        self.ai = ai_client
        self.target_count = 5
        self.count_range = (3, 8)

    async def optimize(
        self,
        original_keywords: List[str],
        content: str,
        meta: str
    ) -> KeywordOptimization:
        """ä¼˜åŒ–å…³é”®è¯åˆ—è¡¨"""

        if original_keywords:
            # å·²æœ‰å…³é”®è¯ï¼Œè¿›è¡Œä¼˜åŒ–
            optimized = await self._optimize_existing(original_keywords, content, meta)
        else:
            # æ— å…³é”®è¯ï¼Œæå–æ–°çš„
            optimized = await self._extract_new(content, meta)

        # æ’åºå¹¶é™åˆ¶æ•°é‡
        ranked = await self._rank_keywords(optimized, content)
        final = ranked[:self.count_range[1]]

        # è®¡ç®—ç›¸å…³æ€§å¾—åˆ†
        relevance_scores = await self._calculate_relevance(final, content)

        return KeywordOptimization(
            original=original_keywords,
            suggested=final,
            keyword_count=len(final),
            relevance_scores=relevance_scores,
            avg_relevance=sum(relevance_scores.values()) / len(relevance_scores),
            reasoning=self._generate_reasoning(original_keywords, final)
        )

    async def _extract_new(self, content: str, meta: str) -> List[str]:
        """æå–æ–°å…³é”®è¯"""
        prompt = f"""
        ä½ æ˜¯SEOä¸“å®¶ã€‚è¯·ä¸ºä»¥ä¸‹æ–‡ç« æå–SEOå…³é”®è¯ï¼š

        æ–‡ç« æ­£æ–‡ï¼ˆå‰800å­—ï¼‰ï¼š
        {content[:800]}

        Metaæè¿°ï¼š
        {meta}

        è¦æ±‚ï¼š
        1. æå–5-8ä¸ªå…³é”®è¯
        2. æ¯ä¸ªå…³é”®è¯2-5ä¸ªå­—
        3. å…³é”®è¯å¿…é¡»åœ¨æ­£æ–‡ä¸­å‡ºç°
        4. æŒ‰SEOä»·å€¼å’Œç›¸å…³æ€§æ’åº
        5. è€ƒè™‘ç”¨æˆ·æœç´¢æ„å›¾
        6. é¿å…è¿‡äºå®½æ³›æˆ–ç«äº‰è¿‡å¤§çš„è¯

        è¿”å›JSONæ•°ç»„æ ¼å¼ï¼š
        [
          {{"keyword": "å…³é”®è¯1", "relevance": 0.95, "reasoning": "æ ¸å¿ƒä¸»é¢˜"}},
          {{"keyword": "å…³é”®è¯2", "relevance": 0.88, "reasoning": "é‡è¦æ¦‚å¿µ"}},
          ...
        ]
        """

        response = await self.ai.complete(prompt)
        keyword_data = json.loads(response)

        return [item["keyword"] for item in keyword_data]

    async def _rank_keywords(self, keywords: List[str], content: str) -> List[str]:
        """å¯¹å…³é”®è¯æŒ‰é‡è¦æ€§æ’åº"""
        keyword_scores = {}

        for kw in keywords:
            score = 0.0

            # å‡ºç°é¢‘ç‡ï¼ˆæƒé‡40%ï¼‰
            frequency = content.count(kw)
            frequency_score = min(frequency / 5, 1.0)  # 5æ¬¡åŠä»¥ä¸Šæ»¡åˆ†
            score += frequency_score * 0.4

            # ä½ç½®æƒé‡ï¼ˆæƒé‡30%ï¼‰- é å‰çš„å…³é”®è¯æ›´é‡è¦
            first_position = content.find(kw)
            if first_position >= 0:
                position_score = 1.0 - (first_position / len(content))
                score += position_score * 0.3

            # é•¿åº¦é€‚ä¸­æ€§ï¼ˆæƒé‡30%ï¼‰- 2-5å­—æœ€ä½³
            length = len(kw)
            if 2 <= length <= 5:
                length_score = 1.0
            else:
                length_score = max(0, 1.0 - abs(length - 3.5) / 5)
            score += length_score * 0.3

            keyword_scores[kw] = score

        # æŒ‰å¾—åˆ†æ’åº
        return sorted(keywords, key=lambda k: keyword_scores[k], reverse=True)
```

### 6.6 FAQ Schemaç”Ÿæˆå™¨ (FAQSchemaGenerator)

**ï¼ˆè¯¦è§ä¸“é¡¹æ–‡æ¡£ `structured_data_faq_schema.md`ï¼‰**

---

## 7. æ•°æ®åº“æ¨¡å‹è®¾è®¡

### 7.1 Articleè¡¨æ‰©å±•å­—æ®µ

```sql
-- åœ¨ç°æœ‰articlesè¡¨åŸºç¡€ä¸Šæ·»åŠ ä»¥ä¸‹å­—æ®µ

-- ========================================
-- åŸå§‹ç‰ˆæœ¬å­—æ®µ (Original Version)
-- ========================================

-- æ­£æ–‡
ALTER TABLE articles ADD COLUMN original_content TEXT;
ALTER TABLE articles ADD COLUMN original_content_word_count INTEGER DEFAULT 0;

-- Metaæè¿°
ALTER TABLE articles ADD COLUMN original_meta_description TEXT;
ALTER TABLE articles ADD COLUMN original_meta_char_count INTEGER DEFAULT 0;

-- SEOå…³é”®è¯
ALTER TABLE articles ADD COLUMN original_seo_keywords JSONB DEFAULT '[]';
ALTER TABLE articles ADD COLUMN original_keyword_count INTEGER DEFAULT 0;

-- å…ƒæ•°æ®
ALTER TABLE articles ADD COLUMN original_received_at TIMESTAMP;
ALTER TABLE articles ADD COLUMN original_format_valid BOOLEAN DEFAULT TRUE;
ALTER TABLE articles ADD COLUMN original_parse_warnings JSONB DEFAULT '[]';

-- ========================================
-- å»ºè®®ç‰ˆæœ¬å­—æ®µ (Suggested Version)
-- ========================================

-- æ­£æ–‡å»ºè®®
ALTER TABLE articles ADD COLUMN suggested_content TEXT;
ALTER TABLE articles ADD COLUMN suggested_content_changes JSONB;

-- Metaæè¿°å»ºè®®
ALTER TABLE articles ADD COLUMN suggested_meta_description TEXT;
ALTER TABLE articles ADD COLUMN suggested_meta_reasoning TEXT;
ALTER TABLE articles ADD COLUMN suggested_meta_score DECIMAL(3,2);

-- SEOå…³é”®è¯å»ºè®®
ALTER TABLE articles ADD COLUMN suggested_seo_keywords JSONB DEFAULT '[]';
ALTER TABLE articles ADD COLUMN suggested_keywords_reasoning TEXT;
ALTER TABLE articles ADD COLUMN suggested_keywords_score DECIMAL(3,2);

-- æ®µè½å»ºè®®
ALTER TABLE articles ADD COLUMN paragraph_suggestions JSONB DEFAULT '[]';
ALTER TABLE articles ADD COLUMN paragraph_split_suggestions JSONB DEFAULT '[]';

-- FAQ Schemaå»ºè®®
ALTER TABLE articles ADD COLUMN faq_schema_proposals JSONB DEFAULT '[]';

-- æ ¡å¯¹é—®é¢˜
ALTER TABLE articles ADD COLUMN proofreading_issues JSONB DEFAULT '[]';
ALTER TABLE articles ADD COLUMN critical_issues_count INTEGER DEFAULT 0;

-- ç”Ÿæˆå…ƒæ•°æ®
ALTER TABLE articles ADD COLUMN suggested_generated_at TIMESTAMP;
ALTER TABLE articles ADD COLUMN ai_model_used VARCHAR(50);
ALTER TABLE articles ADD COLUMN generation_cost DECIMAL(10,4);

-- ========================================
-- æœ€ç»ˆç‰ˆæœ¬å­—æ®µ (Final Version)
-- ========================================

-- æ­£æ–‡
ALTER TABLE articles ADD COLUMN final_content TEXT;
ALTER TABLE articles ADD COLUMN final_content_word_count INTEGER;

-- Metaæè¿°
ALTER TABLE articles ADD COLUMN final_meta_description TEXT;
ALTER TABLE articles ADD COLUMN final_meta_char_count INTEGER;

-- SEOå…³é”®è¯
ALTER TABLE articles ADD COLUMN final_seo_keywords JSONB DEFAULT '[]';
ALTER TABLE articles ADD COLUMN final_keyword_count INTEGER;

-- FAQ Schema
ALTER TABLE articles ADD COLUMN final_faq_schema JSONB;

-- ç”¨æˆ·é€‰æ‹©è®°å½•
ALTER TABLE articles ADD COLUMN user_accepted_suggestions JSONB DEFAULT '[]';
ALTER TABLE articles ADD COLUMN user_rejected_suggestions JSONB DEFAULT '[]';
ALTER TABLE articles ADD COLUMN user_manual_edits JSONB DEFAULT '[]';

-- ç¡®è®¤å…ƒæ•°æ®
ALTER TABLE articles ADD COLUMN final_confirmed_at TIMESTAMP;
ALTER TABLE articles ADD COLUMN final_confirmed_by INTEGER REFERENCES users(id);
ALTER TABLE articles ADD COLUMN final_version_number INTEGER DEFAULT 1;

-- ========================================
-- çŠ¶æ€ç®¡ç†å­—æ®µ
-- ========================================

ALTER TABLE articles ADD COLUMN proofreading_status VARCHAR(30) DEFAULT 'pending';
-- å¯é€‰å€¼: pending, parsing, analyzing, suggested, user_reviewing,
--         user_editing, confirmed, publishing, published, failed

ALTER TABLE articles ADD COLUMN proofreading_started_at TIMESTAMP;
ALTER TABLE articles ADD COLUMN proofreading_completed_at TIMESTAMP;
ALTER TABLE articles ADD COLUMN proofreading_error TEXT;

-- ç´¢å¼•
CREATE INDEX idx_articles_proofreading_status ON articles(proofreading_status);
CREATE INDEX idx_articles_original_received ON articles(original_received_at);
CREATE INDEX idx_articles_final_confirmed ON articles(final_confirmed_at);
```

### 7.2 JSONBå­—æ®µç»“æ„å®šä¹‰

#### original_parse_warnings

```json
[
  {
    "type": "warning",
    "code": "META_TOO_SHORT",
    "message": "Metaæè¿°è¿‡çŸ­ï¼ˆ85å­—ç¬¦ï¼‰ï¼Œå»ºè®®150-160å­—ç¬¦",
    "severity": "warning"
  },
  {
    "type": "info",
    "code": "KEYWORD_COUNT_LOW",
    "message": "å…³é”®è¯æ•°é‡åå°‘ï¼ˆ2ä¸ªï¼‰ï¼Œå»ºè®®3-8ä¸ª",
    "severity": "info"
  }
]
```

#### suggested_content_changes (Diffæ•°æ®)

```json
{
  "total_changes": 15,
  "additions": 5,
  "deletions": 3,
  "modifications": 7,
  "changes": [
    {
      "type": "modification",
      "original_text": "è¿™ä¸ªé—®é¢˜å¾ˆä¸¥é‡",
      "suggested_text": "è¿™ä¸ªé—®é¢˜è¾ƒä¸ºä¸¥é‡",
      "position": 245,
      "rule_id": "A1-023",
      "reasoning": "é¿å…ä½¿ç”¨ç»å¯¹åŒ–è¡¨è¿°"
    },
    {
      "type": "addition",
      "suggested_text": "æ®ä¸“å®¶åˆ†æï¼Œ",
      "position": 520,
      "rule_id": "E2-015",
      "reasoning": "æ·»åŠ ä¿¡æ¯æ¥æºè¯´æ˜"
    }
  ]
}
```

#### paragraph_suggestions

```json
[
  {
    "paragraph_index": 2,
    "issue_type": "too_long",
    "word_count": 285,
    "suggested_splits": [
      {
        "position": 142,
        "reason": "è¯é¢˜è½¬æ¢ï¼šä»èƒŒæ™¯ä»‹ç»è½¬å‘äº‹ä»¶æè¿°"
      },
      {
        "position": 238,
        "reason": "é€»è¾‘æ–­ç‚¹ï¼šæ€»ç»“å‰æ–‡ï¼Œå¼•å…¥æ–°è§‚ç‚¹"
      }
    ]
  },
  {
    "paragraph_index": 5,
    "issue_type": "too_short",
    "word_count": 15,
    "suggestion": "è€ƒè™‘ä¸ç¬¬4æ®µæˆ–ç¬¬6æ®µåˆå¹¶"
  }
]
```

#### faq_schema_proposals

```json
[
  {
    "proposal_id": "faq_3q",
    "name": "ç®€æ´ç‰ˆï¼ˆ3ä¸ªé—®ç­”ï¼‰",
    "item_count": 3,
    "items": [
      {
        "question": "è¿™ç¯‡æ–‡ç« ä¸»è¦è®²ä»€ä¹ˆï¼Ÿ",
        "answer": "æ–‡ç« ä¸»è¦ä»‹ç»äº†..."
      },
      {
        "question": "æœ‰å“ªäº›å…³é”®å‘ç°ï¼Ÿ",
        "answer": "ç ”ç©¶å‘ç°äº†ä¸‰ä¸ªå…³é”®ç‚¹..."
      },
      {
        "question": "è¿™å¯¹æˆ‘ä»¬æœ‰ä»€ä¹ˆå½±å“ï¼Ÿ",
        "answer": "è¿™æ„å‘³ç€..."
      }
    ],
    "schema_json_ld": "{...}"  // å®Œæ•´JSON-LD
  },
  {
    "proposal_id": "faq_5q",
    "name": "æ ‡å‡†ç‰ˆï¼ˆ5ä¸ªé—®ç­”ï¼‰",
    "item_count": 5,
    "items": [...]
  }
]
```

#### proofreading_issues

```json
[
  {
    "issue_id": "issue_001",
    "rule_id": "B2-005",
    "category": "B",
    "severity": "error",
    "blocks_publish": false,
    "message": "ä¸­æ–‡è¯­å¢ƒä¸‹åº”ä½¿ç”¨å…¨è§’å¼•å·",
    "original_text": "ä»–è¯´\"è¿™å¾ˆé‡è¦\"",
    "suggested_fix": "ä»–è¯´"è¿™å¾ˆé‡è¦"",
    "position": 125,
    "context": "...ä¸“å®¶è¡¨ç¤ºï¼Œä»–è¯´\"è¿™å¾ˆé‡è¦\"ï¼Œéœ€è¦..."
  },
  {
    "issue_id": "issue_002",
    "rule_id": "F1-001",
    "category": "F",
    "severity": "critical",
    "blocks_publish": true,
    "message": "ç‰¹è‰²å›¾ç‰‡ä¸å­˜åœ¨æˆ–æ ¼å¼ä¸æ”¯æŒ",
    "suggested_fix": "è¯·ä¸Šä¼ æ¨ªå‘ï¼ˆå®½>é«˜ï¼‰çš„JPG/PNGå›¾ç‰‡"
  }
]
```

#### user_accepted_suggestions

```json
[
  {
    "suggestion_id": "change_001",
    "type": "content_change",
    "accepted": true,
    "accepted_at": "2025-10-26T10:30:00Z"
  },
  {
    "suggestion_id": "meta_optimization",
    "type": "meta_description",
    "accepted": true,
    "accepted_at": "2025-10-26T10:31:00Z"
  },
  {
    "suggestion_id": "faq_5q",
    "type": "faq_schema",
    "accepted": true,
    "modified": true,
    "modifications": {
      "items[2].answer": "ç”¨æˆ·è‡ªå®šä¹‰ç­”æ¡ˆå†…å®¹..."
    },
    "accepted_at": "2025-10-26T10:35:00Z"
  }
]
```

#### user_manual_edits

```json
[
  {
    "edit_id": "edit_001",
    "field": "final_content",
    "edit_type": "manual_text_change",
    "original_value": "åŸæ–‡å†…å®¹ç‰‡æ®µ",
    "new_value": "ç”¨æˆ·ä¿®æ”¹åçš„å†…å®¹",
    "position": 450,
    "edited_at": "2025-10-26T10:32:00Z",
    "edited_by": 5
  },
  {
    "edit_id": "edit_002",
    "field": "final_meta_description",
    "edit_type": "complete_rewrite",
    "original_value": "AIå»ºè®®çš„Meta",
    "new_value": "ç”¨æˆ·å®Œå…¨é‡å†™çš„Meta",
    "edited_at": "2025-10-26T10:33:00Z",
    "edited_by": 5
  }
]
```

---

## 8. APIæ¥å£è®¾è®¡

### 8.1 æ–‡ç¨¿æäº¤ä¸è§£æ

#### POST /api/articles/parse-and-create

**ç”¨é€”**: æäº¤åŸå§‹æ–‡ç¨¿ï¼Œè§£æå¹¶åˆ›å»ºæ–‡ç« è®°å½•

**è¯·æ±‚**:
```json
{
  "raw_text": "æ­£æ–‡å†…å®¹...\n\nMetaæè¿°:\nè¿™æ˜¯æè¿°\n\nSEOå…³é”®è¯:\nå…³é”®è¯1, å…³é”®è¯2",
  "title": "æ–‡ç« æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰",
  "author_id": 5,
  "category_id": 2
}
```

**å“åº”**:
```json
{
  "success": true,
  "article_id": 123,
  "parsed_data": {
    "main_body": "æ­£æ–‡å†…å®¹...",
    "meta_description": "è¿™æ˜¯æè¿°",
    "seo_keywords": ["å…³é”®è¯1", "å…³é”®è¯2"],
    "parse_warnings": [
      "è­¦å‘Šï¼šå…³é”®è¯æ•°é‡åå°‘ï¼ˆ2ä¸ªï¼‰ï¼Œå»ºè®®3-8ä¸ª"
    ],
    "format_valid": true
  },
  "proofreading_status": "pending"
}
```

### 8.2 å¯åŠ¨æ ¡å¯¹åˆ†æ

#### POST /api/articles/{article_id}/start-proofreading

**ç”¨é€”**: è§¦å‘æ–‡ç« æ ¡å¯¹å’Œä¼˜åŒ–åˆ†æ

**è¯·æ±‚**:
```json
{
  "options": {
    "analyze_paragraphs": true,
    "optimize_meta": true,
    "optimize_keywords": true,
    "generate_faq_schema": true,
    "faq_question_count": 5
  }
}
```

**å“åº”**:
```json
{
  "success": true,
  "article_id": 123,
  "proofreading_status": "analyzing",
  "estimated_completion_seconds": 45,
  "task_id": "task_abc123"
}
```

### 8.3 è·å–åˆ†æç»“æœ

#### GET /api/articles/{article_id}/proofreading-result

**ç”¨é€”**: è·å–æ ¡å¯¹å’Œä¼˜åŒ–çš„å®Œæ•´ç»“æœï¼ˆå»ºè®®ç‰ˆæœ¬ï¼‰

**å“åº”**:
```json
{
  "success": true,
  "article_id": 123,
  "proofreading_status": "suggested",
  "original_version": {
    "content": "åŸå§‹æ­£æ–‡...",
    "meta_description": "åŸå§‹Meta",
    "seo_keywords": ["å…³é”®è¯1", "å…³é”®è¯2"],
    "word_count": 1200
  },
  "suggested_version": {
    "content": "ä¼˜åŒ–åæ­£æ–‡...",
    "content_changes": {
      "total_changes": 15,
      "changes": [...]
    },
    "meta_description": "ä¼˜åŒ–åçš„Metaæè¿°...",
    "meta_reasoning": "åŸºäºæ­£æ–‡æ ¸å¿ƒå†…å®¹å’Œå…³é”®è¯ä¼˜åŒ–",
    "meta_score": 0.92,
    "seo_keywords": ["å…³é”®è¯1", "å…³é”®è¯2", "æ–°å…³é”®è¯3", "æ–°å…³é”®è¯4"],
    "keywords_reasoning": "å¢åŠ äº†2ä¸ªé«˜ç›¸å…³æ€§å…³é”®è¯",
    "keywords_score": 0.88,
    "paragraph_suggestions": [...],
    "faq_schema_proposals": [...]
  },
  "proofreading_issues": {
    "total_issues": 23,
    "critical_count": 0,
    "error_count": 3,
    "warning_count": 15,
    "info_count": 5,
    "issues": [...]
  },
  "generated_at": "2025-10-26T10:25:30Z",
  "ai_model": "claude-3-5-sonnet",
  "generation_cost": 0.0245
}
```

### 8.4 ç”¨æˆ·ç¡®è®¤æœ€ç»ˆç‰ˆæœ¬

#### POST /api/articles/{article_id}/confirm-final-version

**ç”¨é€”**: ç”¨æˆ·å®¡æ ¸åç¡®è®¤æœ€ç»ˆç‰ˆæœ¬

**è¯·æ±‚**:
```json
{
  "content_choice": "suggested",  // "original" | "suggested" | "custom"
  "custom_content": null,  // å¦‚æœcontent_choice="custom"ï¼Œæä¾›è‡ªå®šä¹‰å†…å®¹

  "meta_choice": "suggested",
  "custom_meta": null,

  "keywords_choice": "custom",
  "custom_keywords": ["å…³é”®è¯1", "å…³é”®è¯2", "å…³é”®è¯3", "æ–°å…³é”®è¯"],

  "faq_schema_choice": "faq_5q",  // proposal_id æˆ– nullï¼ˆä¸ä½¿ç”¨ï¼‰
  "faq_schema_modifications": {
    "items[2].answer": "ç”¨æˆ·ä¿®æ”¹çš„ç­”æ¡ˆ..."
  },

  "accepted_suggestions": ["change_001", "change_005", "change_008"],
  "rejected_suggestions": ["change_002", "change_011"],
  "manual_edits": [
    {
      "field": "content",
      "position": 450,
      "old_value": "åŸæ–‡",
      "new_value": "æ–°æ–‡"
    }
  ],

  "confirmed_by": 5
}
```

**å“åº”**:
```json
{
  "success": true,
  "article_id": 123,
  "proofreading_status": "confirmed",
  "final_version": {
    "content": "æœ€ç»ˆç¡®å®šçš„æ­£æ–‡...",
    "meta_description": "æœ€ç»ˆMeta",
    "seo_keywords": ["å…³é”®è¯1", "å…³é”®è¯2", "å…³é”®è¯3", "æ–°å…³é”®è¯"],
    "faq_schema": {...},
    "word_count": 1205
  },
  "final_compliance_check": {
    "passed": true,
    "blocking_issues": []
  },
  "confirmed_at": "2025-10-26T10:40:00Z",
  "ready_to_publish": true
}
```

### 8.5 å‘å¸ƒå‰æœ€ç»ˆæ£€æŸ¥

#### POST /api/articles/{article_id}/final-compliance-check

**ç”¨é€”**: å‘å¸ƒå‰Fç±»è§„åˆ™æœ€ç»ˆéªŒè¯ï¼ˆè‡ªåŠ¨åœ¨ç¡®è®¤æ—¶è°ƒç”¨ï¼‰

**å“åº”**:
```json
{
  "success": true,
  "article_id": 123,
  "compliance_passed": true,
  "blocking_issues": [],
  "warnings": [
    {
      "rule_id": "F2-002",
      "message": "å»ºè®®æ·»åŠ H2å°æ ‡é¢˜ä»¥ä¼˜åŒ–SEO"
    }
  ],
  "ready_to_publish": true
}
```

**å¤±è´¥å“åº”ï¼ˆæœ‰é˜»æ­¢å‘å¸ƒçš„é—®é¢˜ï¼‰**:
```json
{
  "success": false,
  "article_id": 123,
  "compliance_passed": false,
  "blocking_issues": [
    {
      "rule_id": "F1-001",
      "severity": "critical",
      "message": "ç‰¹è‰²å›¾ç‰‡ç¼ºå¤±",
      "blocks_publish": true,
      "required_action": "è¯·ä¸Šä¼ ç‰¹è‰²å›¾ç‰‡åé‡æ–°æ£€æŸ¥"
    }
  ],
  "ready_to_publish": false,
  "error": "å­˜åœ¨é˜»æ­¢å‘å¸ƒçš„å…³é”®é—®é¢˜"
}
```

### 8.6 å‘å¸ƒæ–‡ç« 

#### POST /api/articles/{article_id}/publish

**ç”¨é€”**: å‘å¸ƒæœ€ç»ˆç‰ˆæœ¬åˆ°WordPress

**è¯·æ±‚**:
```json
{
  "publish_immediately": true,
  "scheduled_time": null,
  "wordpress_options": {
    "status": "publish",
    "comment_status": "open",
    "ping_status": "closed"
  }
}
```

**å“åº”**:
```json
{
  "success": true,
  "article_id": 123,
  "wordpress_post_id": 456,
  "wordpress_url": "https://example.com/article-title/",
  "published_at": "2025-10-26T10:45:00Z",
  "proofreading_status": "published"
}
```

---

## 9. å‰ç«¯UIéœ€æ±‚

### 9.1 æ–‡ç¨¿è¾“å…¥é¡µé¢

**ç»„ä»¶**: `ArticleInputForm.tsx`

**åŠŸèƒ½**:
- å¤§æ–‡æœ¬æ¡†è¾“å…¥åŸå§‹æ–‡ç¨¿
- å®æ—¶æç¤ºä¸‰éƒ¨åˆ†æ ¼å¼
- é¢„è§ˆè§£æç»“æœ
- ä¸€é”®æäº¤æ ¡å¯¹

**UIå¸ƒå±€**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–‡ç¨¿è¾“å…¥                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æç¤ºï¼šè¯·æŒ‰ä»¥ä¸‹æ ¼å¼è¾“å…¥æ–‡ç¨¿                          â”‚
â”‚  1. æ­£æ–‡å†…å®¹                                        â”‚
â”‚  2. Metaæè¿°ï¼šï¼ˆå¯é€‰ï¼‰                              â”‚
â”‚  3. SEOå…³é”®è¯ï¼šï¼ˆå¯é€‰ï¼‰                             â”‚
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æ­£æ–‡å†…å®¹å¼€å§‹...                                â”‚ â”‚
â”‚  â”‚                                               â”‚ â”‚
â”‚  â”‚ å¤šä¸ªæ®µè½...                                    â”‚ â”‚
â”‚  â”‚                                               â”‚ â”‚
â”‚  â”‚ Metaæè¿°:                                      â”‚ â”‚
â”‚  â”‚ è¿™æ˜¯Metaæè¿°å†…å®¹                               â”‚ â”‚
â”‚  â”‚                                               â”‚ â”‚
â”‚  â”‚ SEOå…³é”®è¯:                                     â”‚ â”‚
â”‚  â”‚ å…³é”®è¯1, å…³é”®è¯2, å…³é”®è¯3                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                    â”‚
â”‚  å­—æ•°ç»Ÿè®¡: 1,200å­—  |  æ ¼å¼æ£€æµ‹: âœ“ æœ‰æ•ˆ            â”‚
â”‚                                                    â”‚
â”‚  [é¢„è§ˆè§£æç»“æœ]  [æäº¤æ ¡å¯¹]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 å¯¹æ¯”å®¡æ ¸é¡µé¢ï¼ˆæ ¸å¿ƒUIï¼‰

**ç»„ä»¶**: `ProofreadingReviewPage.tsx`

**åŠŸèƒ½**:
- å·¦å³åˆ†å±å¯¹æ¯”ï¼ˆOriginal vs Suggestedï¼‰
- Diffé«˜äº®æ˜¾ç¤ºä¿®æ”¹
- é€é¡¹æ¥å—/æ‹’ç»å»ºè®®
- æ‰‹åŠ¨ç¼–è¾‘åŠŸèƒ½
- ç¡®è®¤æœ€ç»ˆç‰ˆæœ¬

**UIå¸ƒå±€**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–‡ç« æ ¡å¯¹å®¡æ ¸ - [æ–‡ç« æ ‡é¢˜]                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æ ¡å¯¹é—®é¢˜æ€»è§ˆ]  å…³é”®: 0  é”™è¯¯: 3  è­¦å‘Š: 15  ä¿¡æ¯: 5              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸå§‹ç‰ˆæœ¬                    â”‚  å»ºè®®ç‰ˆæœ¬                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚                                    â”‚
â”‚  æ­£æ–‡å†…å®¹...                 â”‚  æ­£æ–‡å†…å®¹...                        â”‚
â”‚                             â”‚                                    â”‚
â”‚  è¿™ä¸ªé—®é¢˜å¾ˆä¸¥é‡ï¼Œ            â”‚  è¿™ä¸ªé—®é¢˜è¾ƒä¸ºä¸¥é‡ï¼Œ  â—„â”€ [æ¥å—] [æ‹’ç»] â”‚
â”‚                             â”‚  ^~~~~~~~~~~~~                     â”‚
â”‚                             â”‚  (ä¿®æ”¹: A1-023 é¿å…ç»å¯¹åŒ–)          â”‚
â”‚                             â”‚                                    â”‚
â”‚  ä¸“å®¶è¡¨ç¤º...                 â”‚  æ®ä¸“å®¶åˆ†æï¼Œä¸“å®¶è¡¨ç¤º... â—„â”€ [æ¥å—]   â”‚
â”‚                             â”‚  +++++++++                         â”‚
â”‚                             â”‚  (æ·»åŠ : E2-015 è¯´æ˜ä¿¡æ¯æ¥æº)        â”‚
â”‚                             â”‚                                    â”‚
â”‚  [æ®µè½è¿‡é•¿å»ºè®®]              â”‚  [ç‚¹å‡»æŸ¥çœ‹åˆ†æ®µå»ºè®®]                 â”‚
â”‚                             â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Metaæè¿°:                   â”‚  Metaæè¿°:  [âœ“ æ¥å—å»ºè®®] [âœ— ä¿ç•™åŸå§‹] â”‚
â”‚  åŸå§‹æè¿°å†…å®¹(85å­—)          â”‚  ä¼˜åŒ–åçš„æè¿°å†…å®¹ï¼Œæ›´ç®€æ´æ›´å¸å¼•äºº... â”‚
â”‚  âš  è¿‡çŸ­                     â”‚  (155å­—) âœ“ é•¿åº¦åˆé€‚  è¯„åˆ†: 0.92    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SEOå…³é”®è¯:                  â”‚  SEOå…³é”®è¯:  [âœ“ æ¥å—] [ç¼–è¾‘]       â”‚
â”‚  å…³é”®è¯1, å…³é”®è¯2            â”‚  å…³é”®è¯1, å…³é”®è¯2, æ–°å…³é”®è¯3,       â”‚
â”‚  âš  æ•°é‡åå°‘                  â”‚  æ–°å…³é”®è¯4                          â”‚
â”‚                             â”‚  ç›¸å…³æ€§è¯„åˆ†: 0.88                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  FAQ Schema å»ºè®®                                                  â”‚
â”‚  â—‹ ä¸ä½¿ç”¨FAQ Schema                                              â”‚
â”‚  â—‰ ç®€æ´ç‰ˆï¼ˆ3ä¸ªé—®ç­”ï¼‰  â—‹ æ ‡å‡†ç‰ˆï¼ˆ5ä¸ªé—®ç­”ï¼‰  â—‹ è¯¦ç»†ç‰ˆï¼ˆ7ä¸ªé—®ç­”ï¼‰    â”‚
â”‚  [é¢„è§ˆJSON-LD] [ç¼–è¾‘Q&A]                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [å…¨éƒ¨æ¥å—å»ºè®®]  [ä¿ç•™åŸå§‹]  [æ‰‹åŠ¨ç¼–è¾‘]  [ç¡®è®¤æœ€ç»ˆç‰ˆæœ¬]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.3 Diffé«˜äº®è§„åˆ™

**é¢œè‰²æ–¹æ¡ˆ**:
- ğŸŸ¢ **ç»¿è‰²èƒŒæ™¯**: æ·»åŠ çš„å†…å®¹
- ğŸ”´ **çº¢è‰²èƒŒæ™¯**: åˆ é™¤çš„å†…å®¹
- ğŸŸ¡ **é»„è‰²èƒŒæ™¯**: ä¿®æ”¹çš„å†…å®¹
- ğŸ”µ **è“è‰²è¾¹æ¡†**: å½“å‰æŸ¥çœ‹çš„ä¿®æ”¹
- ğŸŸ£ **ç´«è‰²æ ‡è®°**: ä¸è§„åˆ™ç›¸å…³çš„ä¿®æ”¹ï¼ˆæ˜¾ç¤ºè§„åˆ™IDï¼‰

**äº¤äº’**:
- ç‚¹å‡»ä¿®æ”¹å¤„æ˜¾ç¤ºè¯¦ç»†è¯´æ˜
- Hoveræ˜¾ç¤ºè§„åˆ™è§£é‡Š
- å³é”®èœå•ï¼šæ¥å—/æ‹’ç»æ­¤ä¿®æ”¹

### 9.4 æ®µè½å»ºè®®å±•ç¤º

**ç»„ä»¶**: `ParagraphSuggestionModal.tsx`

**åŠŸèƒ½**:
- æ˜¾ç¤ºè¿‡é•¿æ®µè½
- æ ‡è®°å»ºè®®åˆ†æ®µä½ç½®
- ä¸€é”®åº”ç”¨åˆ†æ®µ
- é¢„è§ˆåˆ†æ®µæ•ˆæœ

**UI**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ®µè½ä¼˜åŒ–å»ºè®®                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç¬¬3æ®µè½è¿‡é•¿ï¼ˆ285å­—ï¼‰ï¼Œå»ºè®®åˆ†æ®µ          â”‚
â”‚                                         â”‚
â”‚  åŸæ®µè½:                                 â”‚
â”‚  è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„æ®µè½å†…å®¹...ï¼ˆå‰100å­—ï¼‰     â”‚
â”‚  [è¿™é‡Œå¯ä»¥åˆ†æ®µ] â—„â”€ è¯é¢˜è½¬æ¢              â”‚
â”‚  ç»§ç»­çš„å†…å®¹...ï¼ˆä¸­é—´100å­—ï¼‰              â”‚
â”‚  [è¿™é‡Œå¯ä»¥åˆ†æ®µ] â—„â”€ é€»è¾‘æ–­ç‚¹              â”‚
â”‚  æœ€åçš„å†…å®¹...ï¼ˆå85å­—ï¼‰                 â”‚
â”‚                                         â”‚
â”‚  åˆ†æ®µåæ•ˆæœé¢„è§ˆ:                         â”‚
â”‚  æ®µè½3-1: ï¼ˆ142å­—ï¼‰âœ“                    â”‚
â”‚  æ®µè½3-2: ï¼ˆ96å­—ï¼‰âœ“                     â”‚
â”‚  æ®µè½3-3: ï¼ˆ47å­—ï¼‰âš  åçŸ­                â”‚
â”‚                                         â”‚
â”‚  [åº”ç”¨æ­¤å»ºè®®]  [å–æ¶ˆ]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.5 FAQ Schemaç¼–è¾‘å™¨

**ç»„ä»¶**: `FAQSchemaEditor.tsx`

**åŠŸèƒ½**:
- é€‰æ‹©æ–¹æ¡ˆï¼ˆ3/5/7é—®ç­”ï¼‰
- ç¼–è¾‘Q&Aå†…å®¹
- æ·»åŠ /åˆ é™¤é—®ç­”
- é¢„è§ˆJSON-LDä»£ç 

**UI**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FAQ Schema ç¼–è¾‘å™¨                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€‰æ‹©æ–¹æ¡ˆ: â—‰ æ ‡å‡†ç‰ˆï¼ˆ5ä¸ªé—®ç­”ï¼‰                     â”‚
â”‚                                                  â”‚
â”‚  é—®ç­”åˆ—è¡¨:                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Q1: è¿™ç¯‡æ–‡ç« ä¸»è¦è®²ä»€ä¹ˆï¼Ÿ              [ç¼–è¾‘] â”‚ â”‚
â”‚  â”‚ A:  æ–‡ç« ä¸»è¦ä»‹ç»äº†...                      â”‚ â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚ â”‚
â”‚  â”‚ Q2: æœ‰å“ªäº›å…³é”®å‘ç°ï¼Ÿ                  [ç¼–è¾‘] â”‚ â”‚
â”‚  â”‚ A:  ç ”ç©¶å‘ç°äº†...                          â”‚ â”‚
â”‚  â”‚ [+ æ·»åŠ é—®ç­”]                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚  JSON-LD é¢„è§ˆ:                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ {                                          â”‚ â”‚
â”‚  â”‚   "@context": "https://schema.org",       â”‚ â”‚
â”‚  â”‚   "@type": "FAQPage",                     â”‚ â”‚
â”‚  â”‚   "mainEntity": [...]                     â”‚ â”‚
â”‚  â”‚ }                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚  [å¤åˆ¶JSON-LD]  [ä¿å­˜]  [å–æ¶ˆ]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.6 æœ€ç»ˆç¡®è®¤é¡µé¢

**ç»„ä»¶**: `FinalConfirmationPage.tsx`

**åŠŸèƒ½**:
- æ˜¾ç¤ºæœ€ç»ˆç‰ˆæœ¬å…¨è²Œ
- å†æ¬¡æ£€æŸ¥Fç±»è§„åˆ™åˆè§„æ€§
- ç¡®è®¤å¹¶å‘å¸ƒ

**UI**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœ€ç»ˆç‰ˆæœ¬ç¡®è®¤                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ“ æ ¡å¯¹æ£€æŸ¥å®Œæˆï¼ˆ0å…³é”®é—®é¢˜ï¼Œ3é”™è¯¯å·²ä¿®æ­£ï¼‰           â”‚
â”‚  âœ“ Metaæè¿°å·²ä¼˜åŒ–ï¼ˆ155å­—ç¬¦ï¼‰                       â”‚
â”‚  âœ“ SEOå…³é”®è¯å·²ä¼˜åŒ–ï¼ˆ4ä¸ªå…³é”®è¯ï¼‰                    â”‚
â”‚  âœ“ FAQ Schemaå·²ç”Ÿæˆ                              â”‚
â”‚  âœ“ Fç±»åˆè§„æ€§æ£€æŸ¥é€šè¿‡                              â”‚
â”‚                                                  â”‚
â”‚  æœ€ç»ˆç‰ˆæœ¬é¢„è§ˆ:                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æ­£æ–‡: [å±•å¼€æŸ¥çœ‹å…¨æ–‡]                        â”‚ â”‚
â”‚  â”‚                                            â”‚ â”‚
â”‚  â”‚ Meta: æœ€ç»ˆç¡®å®šçš„Metaæè¿°å†…å®¹...             â”‚ â”‚
â”‚  â”‚                                            â”‚ â”‚
â”‚  â”‚ å…³é”®è¯: å…³é”®è¯1, å…³é”®è¯2, å…³é”®è¯3, å…³é”®è¯4  â”‚ â”‚
â”‚  â”‚                                            â”‚ â”‚
â”‚  â”‚ FAQ Schema: 5ä¸ªé—®ç­”  [é¢„è§ˆJSON-LD]         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚  âš  ç¡®è®¤åå°†ç«‹å³å‘å¸ƒåˆ°WordPressï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ        â”‚
â”‚                                                  â”‚
â”‚  [è¿”å›ä¿®æ”¹]  [ç¡®è®¤å¹¶å‘å¸ƒ]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 10. AIæœåŠ¡é›†æˆ

> **é‡è¦**: v2.0 é‡‡ç”¨**å•ä¸€ Prompt ç»¼åˆåˆ†ææ¶æ„**ï¼Œæ‰€æœ‰AIä»»åŠ¡é€šè¿‡ä¸€æ¬¡è°ƒç”¨å®Œæˆã€‚
> è¯¦ç»†è®¾è®¡è¯·å‚è€ƒ: `single_prompt_design.md`

### 10.1 ä½¿ç”¨çš„AIæ¨¡å‹

| æœåŠ¡ | æ¨¡å‹ | è°ƒç”¨æ–¹å¼ (v2.0) |
|------|------|----------------|
| **ç»¼åˆåˆ†ææœåŠ¡** | Claude 3.5 Sonnet | **å•ä¸€ Prompt è°ƒç”¨**ï¼Œä¸€æ¬¡æ€§å®Œæˆæ‰€æœ‰ä»»åŠ¡ |
| - æ ¡å¯¹æ£€æµ‹ (A-Fç±»è§„åˆ™) | â†‘ åŒä¸Š | é›†æˆåœ¨ç»¼åˆPromptä¸­ |
| - å†…å®¹ä¼˜åŒ–å»ºè®® | â†‘ åŒä¸Š | é›†æˆåœ¨ç»¼åˆPromptä¸­ |
| - Metaæè¿°ä¼˜åŒ– | â†‘ åŒä¸Š | é›†æˆåœ¨ç»¼åˆPromptä¸­ |
| - SEOå…³é”®è¯æå– | â†‘ åŒä¸Š | é›†æˆåœ¨ç»¼åˆPromptä¸­ |
| - FAQ Schemaç”Ÿæˆ | â†‘ åŒä¸Š | é›†æˆåœ¨ç»¼åˆPromptä¸­ (3/5/7ç‰ˆæœ¬) |
| - å‘å¸ƒåˆè§„æ€§æ£€æŸ¥ | â†‘ åŒä¸Š | é›†æˆåœ¨ç»¼åˆPromptä¸­ |

**v2.0 æ¶æ„ä¼˜åŠ¿:**
- âœ… **TokenèŠ‚çœ**: 34% (æ–‡ç« å†…å®¹åªå‘é€ä¸€æ¬¡)
- âœ… **é€Ÿåº¦æå‡**: 58% (ä»~6ç§’é™åˆ°~2.5ç§’)
- âœ… **æœ¯è¯­ä¸€è‡´æ€§**: æ‰€æœ‰å†…å®¹åœ¨åŒä¸€ä¸Šä¸‹æ–‡ç”Ÿæˆï¼Œè‡ªåŠ¨ä¿æŒä¸€è‡´
- âœ… **ä»£ç ç®€åŒ–**: å•ä¸€æœåŠ¡ç±» `ProofreadingAnalysisService`

### 10.2 æ ¸å¿ƒæœåŠ¡å®ç°

```python
# backend/app/services/article_analysis.py

from typing import Dict, Any
from anthropic import Anthropic
from app.core.config import settings
import json
import time

class ProofreadingAnalysisService:
    """
    v2.0 å•ä¸€ Prompt æ–‡ç« ç»¼åˆåˆ†ææœåŠ¡

    ä¸€æ¬¡æ€§å®Œæˆï¼š
    - A-Fç±» 450æ¡æ ¡å¯¹è§„åˆ™æ£€æŸ¥
    - Metaæè¿°ä¼˜åŒ–
    - SEOå…³é”®è¯æå–/ä¼˜åŒ–
    - FAQ Schemaç”Ÿæˆ (3/5/7ç‰ˆæœ¬)
    - å‘å¸ƒåˆè§„æ€§æ£€æŸ¥
    """

    def __init__(self):
        self.client = Anthropic(api_key=settings.ANTHROPIC_API_KEY)
        self.model = "claude-sonnet-4-5-20250929"

    async def analyze_article(
        self,
        article_content: str,
        article_id: int
    ) -> Dict[str, Any]:
        """
        ä½¿ç”¨å•ä¸€ Prompt å®Œæˆæ‰€æœ‰åˆ†æ

        Args:
            article_content: æ–‡ç« å†…å®¹ï¼ˆä¸‰éƒ¨åˆ†æ ¼å¼ï¼‰
            article_id: æ–‡ç« ID

        Returns:
            å®Œæ•´çš„åˆ†æç»“æœJSONï¼ŒåŒ…å«ï¼š
            - parsed_content: è§£æåçš„ä¸‰éƒ¨åˆ†å†…å®¹
            - proofreading_results: æ ¡å¯¹ç»“æœå’Œé—®é¢˜åˆ—è¡¨
            - optimized_meta: Metaæè¿°ä¼˜åŒ–å»ºè®®
            - optimized_keywords: å…³é”®è¯ä¼˜åŒ–å»ºè®®
            - faq_schema: 3ä¸ªç‰ˆæœ¬çš„FAQ Schema
            - compliance_check: å‘å¸ƒåˆè§„æ€§æ£€æŸ¥ç»“æœ
            - processing_metadata: å¤„ç†å…ƒæ•°æ®
        """

        # 1. æ„å»ºç»¼åˆ Promptï¼ˆè¯¦è§ single_prompt_design.mdï¼‰
        full_prompt = self._build_comprehensive_prompt(article_content)

        # 2. å•æ¬¡ AI è°ƒç”¨
        start_time = time.time()

        response = self.client.messages.create(
            model=self.model,
            max_tokens=8192,  # è¶³å¤Ÿå®¹çº³å®Œæ•´JSONè¾“å‡º
            temperature=0.3,  # è¾ƒä½æ¸©åº¦ç¡®ä¿ç¨³å®šæ€§
            messages=[
                {
                    "role": "user",
                    "content": full_prompt
                }
            ]
        )

        processing_time = int((time.time() - start_time) * 1000)

        # 3. è§£æ AI å“åº”çš„ JSON
        response_text = response.content[0].text

        try:
            result = json.loads(response_text)
        except json.JSONDecodeError:
            # å®¹é”™ï¼šæå–JSONä»£ç å—
            json_start = response_text.find('{')
            json_end = response_text.rfind('}') + 1
            if json_start >= 0 and json_end > json_start:
                result = json.loads(response_text[json_start:json_end])
            else:
                raise ValueError("AIå“åº”ä¸åŒ…å«æœ‰æ•ˆçš„JSON")

        # 4. æ·»åŠ å¤„ç†å…ƒæ•°æ®
        result['processing_metadata'] = {
            'model': self.model,
            'timestamp': time.strftime('%Y-%m-%dT%H:%M:%SZ', time.gmtime()),
            'processing_time_ms': processing_time,
            'total_tokens': {
                'input': response.usage.input_tokens,
                'output': response.usage.output_tokens,
                'total': response.usage.input_tokens + response.usage.output_tokens
            },
            'article_id': article_id
        }

        return result

    def _build_comprehensive_prompt(self, article_content: str) -> str:
        """
        æ„å»ºç»¼åˆåˆ†æ Prompt

        å®Œæ•´çš„ Prompt æ¨¡æ¿è¯·å‚è€ƒ:
        - single_prompt_design.md (è¯¦ç»†è®¾è®¡)
        - prompts/comprehensive_analysis_v1.md (Promptæ¨¡æ¿æ–‡ä»¶)
        """

        # åŠ è½½ç³»ç»Ÿ Prompt æ¨¡æ¿
        system_prompt = self._load_system_prompt()

        # æ‹¼æ¥ç”¨æˆ·å†…å®¹
        user_prompt = f"""
# å¾…åˆ†ææ–‡ç¨¿

```
{article_content}
```

è¯·æŒ‰ç…§ç³»ç»ŸæŒ‡ç¤ºå®Œæˆå…¨é¢åˆ†æï¼Œè¾“å‡ºå®Œæ•´çš„JSONç»“æœã€‚
ç¡®ä¿æ‰€æœ‰å†…å®¹ï¼ˆæ­£æ–‡ã€Metaã€å…³é”®è¯ã€FAQï¼‰çš„æœ¯è¯­ä¿æŒä¸€è‡´ã€‚
"""

        return f"{system_prompt}\n\n{user_prompt}"

    def _load_system_prompt(self) -> str:
        """
        åŠ è½½ç³»ç»Ÿ Prompt æ¨¡æ¿

        å®é™…é¡¹ç›®ä¸­å»ºè®®ä»æ–‡ä»¶è¯»å–ï¼Œä¾¿äºç‰ˆæœ¬æ§åˆ¶å’Œç»´æŠ¤
        """
        # ä»é…ç½®æ–‡ä»¶æˆ–æ•°æ®åº“åŠ è½½
        # with open('prompts/comprehensive_analysis_v1.md', 'r') as f:
        #     return f.read()

        # æˆ–ç›´æ¥è¿”å› Prompt å†…å®¹
        return """
[å•ä¸€ç»¼åˆPromptçš„å®Œæ•´å†…å®¹ï¼Œå‚è§ single_prompt_design.md]
åŒ…å«ï¼š
- è§’è‰²å®šä¹‰
- 450æ¡æ ¡å¯¹è§„åˆ™
- Metaä¼˜åŒ–è¦æ±‚
- å…³é”®è¯æå–è¦æ±‚
- FAQç”Ÿæˆè¦æ±‚
- JSONè¾“å‡ºæ ¼å¼å®šä¹‰
"""
```

### 10.3 Promptè®¾è®¡åŸåˆ™ (v2.0)

**v2.0 ç»¼åˆPromptçš„æ ¸å¿ƒåŸåˆ™:**

1. **å•ä¸€ä¸Šä¸‹æ–‡**: æ‰€æœ‰ä»»åŠ¡åœ¨åŒä¸€ä¸ªPromptä¸­å®šä¹‰ï¼Œç¡®ä¿AIåœ¨ç»Ÿä¸€ä¸Šä¸‹æ–‡ä¸­ç†è§£
2. **ç»“æ„åŒ–è¾“å‡º**: ä¸¥æ ¼å®šä¹‰JSON Schemaï¼Œç¡®ä¿è¾“å‡ºå¯è§£æ
3. **æœ¯è¯­ä¸€è‡´æ€§**: æ˜ç¡®è¦æ±‚ä¿æŒæœ¯è¯­ä¸€è‡´ï¼ˆå¦‚"çº½çº¦å¸‚"ä¸æ··ç”¨"çº½çº¦"æˆ–"NYC"ï¼‰
4. **ä¼˜å…ˆçº§æ˜ç¡®**: æ ¡å¯¹è§„åˆ™ > å†…å®¹ä¼˜åŒ– > SEOä¼˜åŒ– > FAQç”Ÿæˆ
5. **ç½®ä¿¡åº¦è¯„åˆ†**: æ¯ä¸ªå»ºè®®éƒ½è¦æ±‚AIæä¾›ç½®ä¿¡åº¦ï¼ˆ0.0-1.0ï¼‰
6. **å®Œæ•´æ€§æ£€æŸ¥**: Promptä¸­åŒ…å«æ‰€æœ‰450æ¡è§„åˆ™çš„ç®€è¦è¯´æ˜

**è¯¦ç»†çš„Promptè®¾è®¡æ–‡æ¡£:**
- ğŸ“„ `single_prompt_design.md` - å®Œæ•´çš„Promptæ¨¡æ¿å’ŒJSON Schema
- ğŸ“„ `prompts/comprehensive_analysis_v1.md` - å¯æ‰§è¡Œçš„Promptæ–‡ä»¶

### 10.4 æˆæœ¬æ§åˆ¶ä¸ä¼˜åŒ– (v2.0)

**v2.0 å•ä¸€Promptæ¶æ„çš„æˆæœ¬ä¼˜åŠ¿:**

| æŒ‡æ ‡ | æ—§æ–¹æ¡ˆ (v1.0) | æ–°æ–¹æ¡ˆ (v2.0) | èŠ‚çœ |
|------|--------------|--------------|------|
| AIè°ƒç”¨æ¬¡æ•° | 4æ¬¡ | 1æ¬¡ | 75% |
| Tokenä½¿ç”¨ (500å­—æ–‡ç« ) | ~9,550 tokens | ~6,300 tokens | 34% |
| æˆæœ¬/ç¯‡ | $0.0605 | $0.0525 | 13% |
| å¤„ç†æ—¶é—´ | ~6ç§’ | ~2.5ç§’ | 58% |

**æœˆåº¦æˆæœ¬ä¼°ç®—:**

| æ¯æ—¥æ–‡ç« é‡ | æ—§æ–¹æ¡ˆæœˆæˆæœ¬ | æ–°æ–¹æ¡ˆæœˆæˆæœ¬ | æ¯æœˆèŠ‚çœ |
|-----------|------------|-------------|---------|
| 10ç¯‡ | $18.15 | $15.75 | $2.40 (13%) |
| 50ç¯‡ | $90.75 | $78.75 | $12.00 (13%) |
| 100ç¯‡ | $181.50 | $157.50 | $24.00 (13%) |
| 500ç¯‡ | $907.50 | $787.50 | $120.00 (13%) |

```python
class AIUsageTracker:
    """
    v2.0 AIä½¿ç”¨è·Ÿè¸ªå’Œæˆæœ¬æ§åˆ¶

    é’ˆå¯¹å•ä¸€Promptæ¶æ„ä¼˜åŒ–
    """

    async def estimate_cost_v2(self, article_length: int) -> Decimal:
        """
        ä¼°ç®—å¤„ç†æˆæœ¬ (v2.0 å•ä¸€Prompt)

        v2.0 åªè°ƒç”¨ä¸€æ¬¡ï¼Œtokenä½¿ç”¨æ›´å°‘
        """
        # åŸºäºæ–‡ç« é•¿åº¦ä¼°ç®—tokenæ•°
        article_tokens = article_length * 1.5  # ä¸­æ–‡çº¦1.5å€

        # v2.0: æ–‡ç« å†…å®¹åªå‘é€ä¸€æ¬¡ + ç»¼åˆPrompt
        prompt_tokens = 1500  # ç»¼åˆPromptçº¦1500 tokens (åŒ…å«450æ¡è§„åˆ™ç®€è¦è¯´æ˜)
        input_tokens = article_tokens + prompt_tokens

        # è¾“å‡º: å®Œæ•´JSONç»“æœ (æ ¡å¯¹+Meta+å…³é”®è¯+FAQ)
        output_tokens = article_tokens * 0.8  # è¾“å‡ºçº¦80%

        # Claude 3.5 Sonnetä»·æ ¼
        input_cost = Decimal("0.003") / 1000  # $0.003 per 1K tokens
        output_cost = Decimal("0.015") / 1000  # $0.015 per 1K tokens

        total_cost = (
            input_tokens * input_cost +
            output_tokens * output_cost
        )

        return total_cost

    async def estimate_cost_v1_comparison(self, article_length: int) -> Dict:
        """
        å¯¹æ¯” v1.0 å’Œ v2.0 çš„æˆæœ¬
        """
        article_tokens = article_length * 1.5

        # v1.0: å¤šæ¬¡è°ƒç”¨
        v1_input = article_tokens * 4 + 800  # æ–‡ç« å‘é€4æ¬¡ + å„è‡ªçš„Prompt
        v1_output = article_tokens * 0.3 * 4
        v1_cost = (v1_input * Decimal("0.003") + v1_output * Decimal("0.015")) / 1000

        # v2.0: å•æ¬¡è°ƒç”¨
        v2_cost = await self.estimate_cost_v2(article_length)

        return {
            'v1_cost': float(v1_cost),
            'v2_cost': float(v2_cost),
            'savings': float(v1_cost - v2_cost),
            'savings_percent': float((v1_cost - v2_cost) / v1_cost * 100)
        }

    async def check_budget(self, user_id: int, estimated_cost: Decimal) -> bool:
        """æ£€æŸ¥ç”¨æˆ·é¢„ç®—"""
        user_budget = await get_user_monthly_budget(user_id)
        user_usage = await get_user_monthly_usage(user_id)

        if user_usage + estimated_cost > user_budget:
            raise BudgetExceededException(
                f"é¢„ç®—ä¸è¶³ï¼šå·²ä½¿ç”¨${user_usage}ï¼Œé¢„ç®—${user_budget}"
            )

        return True
```

---

## 11. å®ç°ä¼˜å…ˆçº§ä¸é‡Œç¨‹ç¢‘

### 11.1 ä¼˜å…ˆçº§åˆ†çº§

| ä¼˜å…ˆçº§ | åŠŸèƒ½æ¨¡å— | å…³é”®æ€§ | å®ç°é¡ºåº |
|--------|---------|--------|---------|
| **P0** | æ–‡ç¨¿è§£æå™¨ | æ ¸å¿ƒåŸºç¡€ | ç¬¬1å‘¨ |
| **P0** | åŸå§‹ç‰ˆæœ¬ä¿å­˜ | æ ¸å¿ƒåŸºç¡€ | ç¬¬1å‘¨ |
| **P0** | A-Fç±»æ ¡å¯¹å¼•æ“ | æ ¸å¿ƒåŠŸèƒ½ | ç¬¬2-3å‘¨ |
| **P0** | å»ºè®®ç‰ˆæœ¬ç”Ÿæˆ | æ ¸å¿ƒåŠŸèƒ½ | ç¬¬3å‘¨ |
| **P0** | å¯¹æ¯”UIï¼ˆåŸºç¡€ç‰ˆï¼‰ | æ ¸å¿ƒåŠŸèƒ½ | ç¬¬4å‘¨ |
| **P0** | æœ€ç»ˆç‰ˆæœ¬ç¡®è®¤ | æ ¸å¿ƒåŠŸèƒ½ | ç¬¬4å‘¨ |
| **P0** | Fç±»åˆè§„æ£€æŸ¥ | å¼ºåˆ¶è¦æ±‚ | ç¬¬4å‘¨ |
| **P1** | æ®µè½åˆ†æå™¨ | é‡è¦ä¼˜åŒ– | ç¬¬5å‘¨ |
| **P1** | Metaä¼˜åŒ–å™¨ | é‡è¦ä¼˜åŒ– | ç¬¬5å‘¨ |
| **P1** | å…³é”®è¯ä¼˜åŒ–å™¨ | é‡è¦ä¼˜åŒ– | ç¬¬5å‘¨ |
| **P1** | å¯¹æ¯”UIï¼ˆå®Œæ•´ç‰ˆï¼‰ | ç”¨æˆ·ä½“éªŒ | ç¬¬6å‘¨ |
| **P2** | FAQ Schemaç”Ÿæˆ | å¢å€¼åŠŸèƒ½ | ç¬¬7å‘¨ |
| **P2** | FAQ Schemaç¼–è¾‘å™¨ | å¢å€¼åŠŸèƒ½ | ç¬¬7å‘¨ |
| **P2** | æ‰¹é‡å¤„ç† | æ•ˆç‡æå‡ | ç¬¬8å‘¨ |
| **P3** | ç”¨æˆ·åå¥½å­¦ä¹  | é•¿æœŸä¼˜åŒ– | æœªæ¥ç‰ˆæœ¬ |
| **P3** | åä½œå®¡æ ¸ | å›¢é˜ŸåŠŸèƒ½ | æœªæ¥ç‰ˆæœ¬ |

### 11.2 å®ç°é‡Œç¨‹ç¢‘

#### é‡Œç¨‹ç¢‘1: åŸºç¡€æ ¡å¯¹æµç¨‹ï¼ˆç¬¬1-4å‘¨ï¼‰

**ç›®æ ‡**: å®ç°åŸç¨¿â†’æ ¡å¯¹â†’å»ºè®®â†’ç¡®è®¤â†’å‘å¸ƒçš„åŸºç¡€æµç¨‹

**äº¤ä»˜ç‰©**:
- âœ… æ–‡ç¨¿è§£æAPI
- âœ… A-Fç±»æ ¡å¯¹å¼•æ“
- âœ… åŸºç¡€å¯¹æ¯”UI
- âœ… ä¸‰ç‰ˆæœ¬æ•°æ®åº“æ¨¡å‹
- âœ… Fç±»åˆè§„æ£€æŸ¥

**éªŒæ”¶æ ‡å‡†**:
- å¯è§£æä¸‰éƒ¨åˆ†æ–‡ç¨¿
- å¯æ£€æµ‹A-Fç±»è§„åˆ™é—®é¢˜
- ç”¨æˆ·å¯æŸ¥çœ‹å¯¹æ¯”å¹¶ç¡®è®¤
- Fç±»å…³é”®é—®é¢˜é˜»æ­¢å‘å¸ƒ

#### é‡Œç¨‹ç¢‘2: AIä¼˜åŒ–åŠŸèƒ½ï¼ˆç¬¬5-6å‘¨ï¼‰

**ç›®æ ‡**: é›†æˆAIé©±åŠ¨çš„å†…å®¹ä¼˜åŒ–

**äº¤ä»˜ç‰©**:
- âœ… æ®µè½åˆ†æå’Œåˆ†æ®µå»ºè®®
- âœ… Metaæè¿°ä¼˜åŒ–
- âœ… SEOå…³é”®è¯ä¼˜åŒ–
- âœ… å®Œæ•´å¯¹æ¯”UIï¼ˆå«Diffé«˜äº®ï¼‰

**éªŒæ”¶æ ‡å‡†**:
- AIå¯æ£€æµ‹è¿‡é•¿æ®µè½å¹¶å»ºè®®åˆ†æ®µ
- AIå¯ç”Ÿæˆé«˜è´¨é‡Metaï¼ˆè¯„åˆ†>0.8ï¼‰
- AIå¯æå–ç›¸å…³å…³é”®è¯ï¼ˆç›¸å…³æ€§>0.85ï¼‰
- UIå¯æ¸…æ™°æ˜¾ç¤ºæ‰€æœ‰ä¿®æ”¹

#### é‡Œç¨‹ç¢‘3: ç»“æ„åŒ–æ•°æ®ï¼ˆç¬¬7å‘¨ï¼‰

**ç›®æ ‡**: é›†æˆFAQ Schemaç”Ÿæˆ

**äº¤ä»˜ç‰©**:
- âœ… FAQ Schemaç”Ÿæˆå™¨
- âœ… å¤šæ–¹æ¡ˆç”Ÿæˆï¼ˆ3/5/7é—®ç­”ï¼‰
- âœ… FAQç¼–è¾‘å™¨UI
- âœ… JSON-LDä»£ç ç”Ÿæˆ

**éªŒæ”¶æ ‡å‡†**:
- å¯ç”ŸæˆSchema.orgæ ‡å‡†FAQ
- ç”¨æˆ·å¯ç¼–è¾‘Q&Aå†…å®¹
- JSON-LDä»£ç å¯ç›´æ¥ç”¨äºWordPress

#### é‡Œç¨‹ç¢‘4: ç”Ÿäº§å°±ç»ªï¼ˆç¬¬8å‘¨ï¼‰

**ç›®æ ‡**: å®Œå–„åŠŸèƒ½ï¼Œå‡†å¤‡ä¸Šçº¿

**äº¤ä»˜ç‰©**:
- âœ… æ‰¹é‡å¤„ç†API
- âœ… é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- âœ… æ€§èƒ½ä¼˜åŒ–
- âœ… å®Œæ•´æµ‹è¯•è¦†ç›–
- âœ… ç”¨æˆ·æ–‡æ¡£

**éªŒæ”¶æ ‡å‡†**:
- å•ç¯‡å¤„ç†æ—¶é—´<60ç§’
- APIå¯é æ€§>99%
- æµ‹è¯•è¦†ç›–ç‡>80%
- ç”¨æˆ·æ–‡æ¡£å®Œæ•´

---

## 12. æµ‹è¯•ä¸éªŒè¯

### 12.1 å•å…ƒæµ‹è¯•

#### æ–‡ç¨¿è§£ææµ‹è¯•
```python
def test_parse_full_article():
    """æµ‹è¯•å®Œæ•´ä¸‰éƒ¨åˆ†æ–‡ç¨¿è§£æ"""
    raw_text = """
    æ­£æ–‡å†…å®¹ç¬¬ä¸€æ®µã€‚

    æ­£æ–‡å†…å®¹ç¬¬äºŒæ®µã€‚

    Metaæè¿°:
    è¿™æ˜¯Metaæè¿°å†…å®¹ï¼Œçº¦150å­—ç¬¦ã€‚

    SEOå…³é”®è¯:
    å…³é”®è¯1, å…³é”®è¯2, å…³é”®è¯3
    """

    result = ArticleParser().parse(raw_text)

    assert result.main_body.startswith("æ­£æ–‡å†…å®¹ç¬¬ä¸€æ®µ")
    assert result.meta_description == "è¿™æ˜¯Metaæè¿°å†…å®¹ï¼Œçº¦150å­—ç¬¦ã€‚"
    assert result.seo_keywords == ["å…³é”®è¯1", "å…³é”®è¯2", "å…³é”®è¯3"]
    assert result.format_valid == True

def test_parse_incomplete_article():
    """æµ‹è¯•ä¸å®Œæ•´æ–‡ç¨¿ï¼ˆä»…æ­£æ–‡ï¼‰"""
    raw_text = "åªæœ‰æ­£æ–‡å†…å®¹ï¼Œæ²¡æœ‰Metaå’Œå…³é”®è¯ã€‚"

    result = ArticleParser().parse(raw_text)

    assert result.main_body == "åªæœ‰æ­£æ–‡å†…å®¹ï¼Œæ²¡æœ‰Metaå’Œå…³é”®è¯ã€‚"
    assert result.meta_description is None
    assert result.seo_keywords == []
    assert len(result.parse_warnings) > 0

def test_parse_wrong_order():
    """æµ‹è¯•æ ‡è®°é¡ºåºé”™è¯¯"""
    raw_text = """
    æ­£æ–‡å†…å®¹ã€‚

    SEOå…³é”®è¯:
    å…³é”®è¯1, å…³é”®è¯2

    Metaæè¿°:
    è¿™æ˜¯æè¿°
    """

    result = ArticleParser().parse(raw_text)

    # åº”æ­£ç¡®è¯†åˆ«ï¼Œä½†è®°å½•è­¦å‘Š
    assert result.meta_description == "è¿™æ˜¯æè¿°"
    assert result.seo_keywords == ["å…³é”®è¯1", "å…³é”®è¯2"]
    assert any("é¡ºåº" in w for w in result.parse_warnings)
```

#### æ ¡å¯¹å¼•æ“æµ‹è¯•
```python
@pytest.mark.asyncio
async def test_proofread_punctuation():
    """æµ‹è¯•Bç±»æ ‡ç‚¹ç¬¦å·è§„åˆ™"""
    content = 'ä»–è¯´"è¿™å¾ˆé‡è¦"ã€‚'  # é”™è¯¯ï¼šä½¿ç”¨äº†åŠè§’å¼•å·

    engine = ProofreadingEngine(rule_repository)
    result = await engine.proofread_content(content)

    # åº”æ£€æµ‹åˆ°B2-005è§„åˆ™è¿å
    assert any(issue.rule_id == "B2-005" for issue in result.issues)
    assert result.error_count >= 1

@pytest.mark.asyncio
async def test_proofread_meta_length():
    """æµ‹è¯•Metaæè¿°é•¿åº¦æ£€æŸ¥"""
    short_meta = "è¿‡çŸ­çš„Meta"  # <100å­—ç¬¦

    engine = ProofreadingEngine(rule_repository)
    result = await engine.proofread_meta(short_meta)

    # åº”æœ‰é•¿åº¦è­¦å‘Š
    assert any("è¿‡çŸ­" in issue.message for issue in result.issues)
    assert result.char_count < 100
```

### 12.2 é›†æˆæµ‹è¯•

#### å®Œæ•´å·¥ä½œæµæµ‹è¯•
```python
@pytest.mark.asyncio
async def test_full_proofreading_workflow():
    """æµ‹è¯•å®Œæ•´æ ¡å¯¹å·¥ä½œæµ"""
    # 1. åˆ›å»ºæ–‡ç« 
    article_data = {
        "raw_text": TEST_ARTICLE_FULL,
        "title": "æµ‹è¯•æ–‡ç« ",
        "author_id": 1
    }

    response = await client.post("/api/articles/parse-and-create", json=article_data)
    assert response.status_code == 200
    article_id = response.json()["article_id"]

    # 2. å¯åŠ¨æ ¡å¯¹
    response = await client.post(
        f"/api/articles/{article_id}/start-proofreading",
        json={"options": {"analyze_paragraphs": True, "optimize_meta": True}}
    )
    assert response.status_code == 200

    # 3. ç­‰å¾…å®Œæˆ
    await wait_for_status(article_id, "suggested", timeout=60)

    # 4. è·å–ç»“æœ
    response = await client.get(f"/api/articles/{article_id}/proofreading-result")
    assert response.status_code == 200
    result = response.json()

    assert result["proofreading_status"] == "suggested"
    assert "suggested_version" in result
    assert len(result["proofreading_issues"]["issues"]) >= 0

    # 5. ç¡®è®¤æœ€ç»ˆç‰ˆæœ¬
    confirm_data = {
        "content_choice": "suggested",
        "meta_choice": "suggested",
        "keywords_choice": "suggested",
        "confirmed_by": 1
    }

    response = await client.post(
        f"/api/articles/{article_id}/confirm-final-version",
        json=confirm_data
    )
    assert response.status_code == 200
    assert response.json()["ready_to_publish"] == True
```

### 12.3 æ€§èƒ½æµ‹è¯•

```python
@pytest.mark.performance
async def test_proofreading_performance():
    """æµ‹è¯•æ ¡å¯¹æ€§èƒ½"""
    article_lengths = [500, 1000, 2000, 5000]  # å­—æ•°

    for length in article_lengths:
        content = generate_test_article(length)

        start_time = time.time()
        result = await proofread_article(content)
        duration = time.time() - start_time

        # æ€§èƒ½è¦æ±‚ï¼šæ¯1000å­—<10ç§’
        max_duration = (length / 1000) * 10
        assert duration < max_duration, \
            f"æ ¡å¯¹{length}å­—æ–‡ç« è€—æ—¶{duration}ç§’ï¼Œè¶…è¿‡é™åˆ¶{max_duration}ç§’"
```

### 12.4 éªŒæ”¶æµ‹è¯•æ¸…å•

#### åŠŸèƒ½éªŒæ”¶

- [ ] **æ–‡ç¨¿è§£æ**
  - [ ] å¯æ­£ç¡®è§£æå®Œæ•´ä¸‰éƒ¨åˆ†æ–‡ç¨¿
  - [ ] å¯å¤„ç†ä¸å®Œæ•´æ–‡ç¨¿ï¼ˆç¼ºMetaæˆ–å…³é”®è¯ï¼‰
  - [ ] å¯æ£€æµ‹æ ¼å¼å¼‚å¸¸å¹¶ç»™å‡ºè­¦å‘Š
  - [ ] å¯å¤„ç†æ ‡è®°é¡ºåºé”™è¯¯

- [ ] **æ ¡å¯¹æ£€æµ‹**
  - [ ] Aç±»è§„åˆ™æ£€æµ‹å‡†ç¡®ç‡>90%
  - [ ] Bç±»è§„åˆ™æ£€æµ‹å‡†ç¡®ç‡>95%
  - [ ] Cç±»è§„åˆ™æ£€æµ‹å‡†ç¡®ç‡>90%
  - [ ] Dç±»è§„åˆ™æ£€æµ‹å‡†ç¡®ç‡>85%
  - [ ] Eç±»è§„åˆ™æ£€æµ‹å‡†ç¡®ç‡>90%
  - [ ] Fç±»è§„åˆ™æ£€æµ‹å‡†ç¡®ç‡100%

- [ ] **AIä¼˜åŒ–**
  - [ ] æ®µè½åˆ†æå¯æ£€æµ‹è¿‡é•¿/è¿‡çŸ­æ®µè½
  - [ ] Metaä¼˜åŒ–è¯„åˆ†å¹³å‡>0.8
  - [ ] å…³é”®è¯ç›¸å…³æ€§å¹³å‡>0.85
  - [ ] FAQ Schemaç”Ÿæˆè´¨é‡åˆæ ¼

- [ ] **ç‰ˆæœ¬ç®¡ç†**
  - [ ] åŸå§‹ç‰ˆæœ¬ä¿å­˜å®Œæ•´
  - [ ] å»ºè®®ç‰ˆæœ¬ç”Ÿæˆæ­£ç¡®
  - [ ] æœ€ç»ˆç‰ˆæœ¬åæ˜ ç”¨æˆ·é€‰æ‹©
  - [ ] ç‰ˆæœ¬é—´å¯å¯¹æ¯”æŸ¥çœ‹

- [ ] **UI/UX**
  - [ ] å¯¹æ¯”ç•Œé¢æ¸…æ™°æ˜“æ‡‚
  - [ ] Diffé«˜äº®å‡†ç¡®æ˜¾ç¤º
  - [ ] é€é¡¹æ¥å—/æ‹’ç»åŠŸèƒ½æ­£å¸¸
  - [ ] æ‰‹åŠ¨ç¼–è¾‘åŠŸèƒ½å¯ç”¨

- [ ] **åˆè§„æ£€æŸ¥**
  - [ ] Fç±»å…³é”®é—®é¢˜é˜»æ­¢å‘å¸ƒ
  - [ ] éå…³é”®é—®é¢˜ä»…è­¦å‘Š
  - [ ] å‘å¸ƒå‰æœ€ç»ˆæ£€æŸ¥æœ‰æ•ˆ

#### æ€§èƒ½éªŒæ”¶

- [ ] å•ç¯‡æ–‡ç« ï¼ˆ1000å­—ï¼‰å¤„ç†æ—¶é—´<60ç§’
- [ ] APIå“åº”æ—¶é—´<2ç§’
- [ ] å¹¶å‘å¤„ç†èƒ½åŠ›>10ç¯‡/åˆ†é’Ÿ
- [ ] ç³»ç»Ÿç¨³å®šæ€§>99%

#### å®‰å…¨éªŒæ”¶

- [ ] ç”¨æˆ·æ•°æ®éš”ç¦»
- [ ] APIæƒé™éªŒè¯
- [ ] æ•æ„Ÿä¿¡æ¯è„±æ•
- [ ] SQLæ³¨å…¥é˜²æŠ¤

---

## é™„å½•

### A. æœ¯è¯­è¡¨

| æœ¯è¯­ | å®šä¹‰ |
|------|------|
| **åŸå§‹ç‰ˆæœ¬ (Original)** | ç”¨æˆ·è¾“å…¥çš„åŸå§‹æ–‡ç¨¿ï¼Œä¸å¯ä¿®æ”¹ |
| **å»ºè®®ç‰ˆæœ¬ (Suggested)** | AIåˆ†æåç”Ÿæˆçš„ä¼˜åŒ–å»ºè®®ç‰ˆæœ¬ |
| **æœ€ç»ˆç‰ˆæœ¬ (Final)** | ç”¨æˆ·ç¡®è®¤çš„å‘å¸ƒç‰ˆæœ¬ |
| **A-Fç±»è§„åˆ™** | ã€Šå¤§çºªå…ƒå†™ä½œé£æ ¼æŒ‡å—ã€‹ä¸­çš„æ ¡å¯¹è§„åˆ™åˆ†ç±» |
| **Metaæè¿°** | æœç´¢å¼•æ“ç»“æœé¡µæ˜¾ç¤ºçš„æ–‡ç« æ‘˜è¦ |
| **FAQ Schema** | Schema.orgå®šä¹‰çš„å¸¸è§é—®é¢˜ç»“æ„åŒ–æ•°æ® |
| **Diff** | æ–‡æœ¬å·®å¼‚å¯¹æ¯” |
| **Fç±»è§„åˆ™** | å‘å¸ƒåˆè§„ç±»è§„åˆ™ï¼ŒåŒ…å«é˜»æ­¢å‘å¸ƒçš„å…³é”®æ£€æŸ¥ |

### B. ç›¸å…³æ–‡æ¡£

- `proofreading_requirements.md` - A-Fç±»æ ¡å¯¹è§„åˆ™è¯¦ç»†è¯´æ˜
- `structured_data_faq_schema.md` - FAQ Schemaç”Ÿæˆä¸“é¡¹æ–‡æ¡£
- `database_schema_updates.md` - æ•°æ®åº“æ¨¡å‹å˜æ›´è¯´æ˜
- `api_reference.md` - å®Œæ•´APIå‚è€ƒæ–‡æ¡£
- `ui_design_specs.md` - UIè®¾è®¡è§„èŒƒå’Œç»„ä»¶æ–‡æ¡£

### C. ç¤ºä¾‹æ–‡ç¨¿

#### ç¤ºä¾‹1ï¼šå®Œæ•´æ ¼å¼æ–‡ç¨¿
```
çº½çº¦å¸‚æ”¿åºœå®£å¸ƒæ–°æ”¿ç­–ï¼Œå°†ä»ä¸‹æœˆèµ·å®æ–½æ–°çš„äº¤é€šç®¡ç†æªæ–½ã€‚

æ®å¸‚é•¿åŠå…¬å®¤å‘å¸ƒçš„å£°æ˜ï¼Œæ–°æ”¿ç­–æ—¨åœ¨ç¼“è§£å¸‚ä¸­å¿ƒäº¤é€šæ‹¥å µé—®é¢˜ã€‚ä¸»è¦æªæ–½åŒ…æ‹¬ï¼šå¢åŠ å…¬äº¤è½¦é“ã€é™åˆ¶ç§å®¶è½¦è¿›å…¥ç‰¹å®šåŒºåŸŸã€æé«˜åœè½¦è´¹ç”¨ç­‰ã€‚

äº¤é€šä¸“å®¶è¡¨ç¤ºï¼Œè¿™äº›æªæ–½é¢„è®¡å°†ä½¿é€šå‹¤æ—¶é—´å‡å°‘15%ï¼ŒåŒæ—¶é™ä½ç©ºæ°”æ±¡æŸ“ã€‚ä½†ä¹Ÿæœ‰æ‰¹è¯„è€…æ‹…å¿ƒï¼Œé™åˆ¶æªæ–½å¯èƒ½å½±å“å•†ä¸šæ´»åŠ¨ã€‚

Metaæè¿°:
çº½çº¦å¸‚æ”¿åºœå®£å¸ƒæ–°äº¤é€šç®¡ç†æ”¿ç­–ï¼Œæ—¨åœ¨ç¼“è§£å¸‚ä¸­å¿ƒæ‹¥å µã€‚æªæ–½åŒ…æ‹¬å¢åŠ å…¬äº¤è½¦é“ã€é™åˆ¶ç§å®¶è½¦è¿›å…¥ç­‰ï¼Œé¢„è®¡å¯å‡å°‘15%é€šå‹¤æ—¶é—´ã€‚

SEOå…³é”®è¯:
çº½çº¦äº¤é€š, äº¤é€šç®¡ç†æ”¿ç­–, å¸‚ä¸­å¿ƒæ‹¥å µ, å…¬äº¤è½¦é“, é€šå‹¤æ—¶é—´
```

#### ç¤ºä¾‹2ï¼šä¸å®Œæ•´æ ¼å¼ï¼ˆä»…æ­£æ–‡ï¼‰
```
æœ€æ–°ç ”ç©¶å‘ç°ï¼Œæ¯å¤©æ­¥è¡Œ30åˆ†é’Ÿå¯æ˜¾è‘—é™ä½å¿ƒè¡€ç®¡ç–¾ç—…é£é™©ã€‚

å“ˆä½›å¤§å­¦çš„ç ”ç©¶å›¢é˜Ÿå¯¹5000åå‚ä¸è€…è¿›è¡Œäº†ä¸ºæœŸ10å¹´çš„è·Ÿè¸ªè°ƒæŸ¥ã€‚ç»“æœæ˜¾ç¤ºï¼ŒåšæŒæ¯å¤©æ­¥è¡Œçš„äººç¾¤ï¼Œå¿ƒè„ç—…å‘ä½œé£é™©é™ä½äº†40%ã€‚

ä¸“å®¶å»ºè®®ï¼Œå³ä½¿æ˜¯è½»åº¦è¿åŠ¨ä¹Ÿèƒ½å¸¦æ¥å¥åº·ç›Šå¤„ã€‚æ­¥è¡Œã€æ…¢è·‘ã€éª‘è‡ªè¡Œè½¦ç­‰éƒ½æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚
```
*ï¼ˆç³»ç»Ÿå°†è‡ªåŠ¨ç”ŸæˆMetaå’Œå…³é”®è¯å»ºè®®ï¼‰*

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-10-26
**ç»´æŠ¤è€…**: CMSè‡ªåŠ¨åŒ–ç³»ç»Ÿå›¢é˜Ÿ
**å®¡æ ¸çŠ¶æ€**: å¾…å®¡æ ¸

---

## ç»“è¯­

æœ¬æ–‡æ¡£å®šä¹‰äº†CMSè‡ªåŠ¨åŒ–ç³»ç»Ÿä¸­**æ–‡ç« ä¸Šç¨¿å‰å®Œæ•´å¤„ç†æµç¨‹**çš„è¯¦ç»†éœ€æ±‚ã€‚è¯¥æµç¨‹æ˜¯ç¡®ä¿å†…å®¹è´¨é‡ã€SEOæ•ˆæœå’Œå‘å¸ƒåˆè§„çš„å…³é”®ç¯èŠ‚ã€‚

**æ ¸å¿ƒä»·å€¼**:
1. **è‡ªåŠ¨åŒ–**: AIé©±åŠ¨ï¼Œå‡å°‘äººå·¥å·¥ä½œé‡
2. **æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„æ ¡å¯¹è§„åˆ™å’Œæµç¨‹
3. **å¯è¿½æº¯**: å®Œæ•´è®°å½•åŸå§‹â†’å»ºè®®â†’æœ€ç»ˆä¸‰ä¸ªç‰ˆæœ¬
4. **çµæ´»æ€§**: ç”¨æˆ·ä¿æŒæœ€ç»ˆæ§åˆ¶æƒ
5. **åˆè§„æ€§**: Fç±»è§„åˆ™å¼ºåˆ¶ä¿éšœ

**ä¸‹ä¸€æ­¥**:
- å®¡æ ¸å¹¶æ‰¹å‡†æœ¬éœ€æ±‚æ–‡æ¡£
- è¿›å…¥æŠ€æœ¯è®¾è®¡å’ŒåŸå‹å¼€å‘é˜¶æ®µ
- æŒ‰é‡Œç¨‹ç¢‘é€æ­¥å®ç°åŠŸèƒ½æ¨¡å—
