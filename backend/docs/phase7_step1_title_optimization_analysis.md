# Phase 7 Step 1: æ ‡é¢˜è§£æ+ä¼˜åŒ– - è¯¦ç»†è®¾è®¡

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-11-08
**çŠ¶æ€**: è®¾è®¡ä¸­
**ä¼˜å…ˆçº§**: P0 (Critical - Step 1æ ¸å¿ƒåŠŸèƒ½)

---

## ğŸ“‹ ç›®å½•

1. [éœ€æ±‚èƒŒæ™¯](#éœ€æ±‚èƒŒæ™¯)
2. [ä¸‰æ®µå¼æ ‡é¢˜ç»“æ„](#ä¸‰æ®µå¼æ ‡é¢˜ç»“æ„)
3. [åŠŸèƒ½éœ€æ±‚](#åŠŸèƒ½éœ€æ±‚)
4. [AIä¼˜åŒ–ç­–ç•¥](#aiä¼˜åŒ–ç­–ç•¥)
5. [æ•°æ®æ¨¡å‹è®¾è®¡](#æ•°æ®æ¨¡å‹è®¾è®¡)
6. [APIè®¾è®¡](#apiè®¾è®¡)
7. [å‰ç«¯UIè®¾è®¡](#å‰ç«¯uiè®¾è®¡)
8. [AIæœåŠ¡è®¾è®¡](#aiæœåŠ¡è®¾è®¡)
9. [å®æ–½è®¡åˆ’](#å®æ–½è®¡åˆ’)
10. [éªŒæ”¶æ ‡å‡†](#éªŒæ”¶æ ‡å‡†)

---

## ğŸ¯ éœ€æ±‚èƒŒæ™¯

### ç”¨æˆ·æ˜ç¡®è¦æ±‚

> "Step 1æ ‡é¢˜ä¼˜åŒ–åŠŸèƒ½è¦åŒ…æ‹¬æ‰€æœ‰3ä¸ªæ ‡é¢˜ï¼ˆå¦‚æœæœ‰ï¼‰ï¼ŒåŒ…æ‹¬ä¸»æ ‡é¢˜ï¼Œä¸Šæ ‡é¢˜å’Œä¸‹æ ‡é¢˜(å‰¯æ ‡é¢˜)ã€‚"

### æ ¸å¿ƒç†è§£

**Step 1èŒè´£**:
1. **è§£æ**ï¼šä»Google Docæå–3æ®µå¼æ ‡é¢˜ç»“æ„
2. **ä¼˜åŒ–**ï¼šAIä¸ºæ¯ä¸ªæ ‡é¢˜ç»„ä»¶æä¾›ä¼˜åŒ–å»ºè®®
3. **ç¡®è®¤**ï¼šç”¨æˆ·é€‰æ‹©AIå»ºè®®æˆ–ä¿æŒåŸæ ‡é¢˜

**é‡è¦æ€§**:
- æ ‡é¢˜æ˜¯SEOæœ€é‡è¦çš„å› ç´ ä¹‹ä¸€
- ä¸‰æ®µå¼æ ‡é¢˜ç¬¦åˆä¸­æ–‡å†…å®¹ä¹ æƒ¯
- ä¼˜åŒ–åçš„æ ‡é¢˜ç›´æ¥å½±å“ç‚¹å‡»ç‡å’Œæ’å

---

## ğŸ“ ä¸‰æ®µå¼æ ‡é¢˜ç»“æ„

### æ ‡é¢˜ç»„ä»¶å®šä¹‰

```
å®Œæ•´æ ‡é¢˜ = [ä¸Šæ ‡é¢˜] | ä¸»æ ‡é¢˜ | [å‰¯æ ‡é¢˜]
         â†“           â†“        â†“
    title_prefix  title_main  title_suffix
```

### ç¤ºä¾‹

#### ç¤ºä¾‹1ï¼šå®Œæ•´ä¸‰æ®µå¼

```
åŸå§‹è§£æï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç‹¬å®¶ | AIå¦‚ä½•æ”¹å˜åŒ»ç–—è¯Šæ–­ | 2025æœ€æ–°è¶‹åŠ¿    â”‚
â”‚  â†“         â†“                    â†“            â”‚
â”‚ å‰ç¼€      ä¸»æ ‡é¢˜                å‰¯æ ‡é¢˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AIä¼˜åŒ–å»ºè®®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é€‰é¡¹1ï¼ˆæ¨èï¼‰:                                â”‚
â”‚ æ·±åº¦è§£æ | äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡30%| æƒå¨æŒ‡å— â”‚
â”‚                                              â”‚
â”‚ é€‰é¡¹2ï¼ˆå¸å¼•å‹ï¼‰:                              â”‚
â”‚ å¿…è¯» | åŒ»ç”Ÿéƒ½åœ¨ç”¨çš„AIè¯Šæ–­å·¥å…· | 5å¤§åº”ç”¨æ¡ˆä¾‹  â”‚
â”‚                                              â”‚
â”‚ é€‰é¡¹3ï¼ˆæ•°æ®é©±åŠ¨ï¼‰:                            â”‚
â”‚ 2025 | AIåŒ»ç–—è¯Šæ–­å…¨æ™¯ï¼šä»åŸç†åˆ°å®è·µ | å®Œæ•´ç‰ˆ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç¤ºä¾‹2ï¼šä»…ä¸»æ ‡é¢˜+å‰¯æ ‡é¢˜

```
åŸå§‹è§£æï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ äººå·¥æ™ºèƒ½åœ¨åŒ»ç–—é¢†åŸŸçš„åº”ç”¨ | ä»å½±åƒåˆ†æåˆ°æ—©æœŸç­›æŸ¥ â”‚
â”‚            â†“                        â†“         â”‚
â”‚         ä¸»æ ‡é¢˜                    å‰¯æ ‡é¢˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AIä¼˜åŒ–å»ºè®®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é€‰é¡¹1ï¼ˆSEOä¼˜åŒ–ï¼‰:                             â”‚
â”‚ AIåŒ»ç–—åº”ç”¨å…¨è§£æï¼šå½±åƒè¯Šæ–­ä¸æ—©æœŸç­›æŸ¥ | 2025æƒå¨æŒ‡å— â”‚
â”‚                                              â”‚
â”‚ é€‰é¡¹2ï¼ˆç®€æ´å‹ï¼‰:                              â”‚
â”‚ AIåŒ»ç–—è¯Šæ–­ï¼šä»å½±åƒåˆ°ç­›æŸ¥çš„é©å‘½ | å®è·µæ¡ˆä¾‹      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç¤ºä¾‹3ï¼šä»…ä¸»æ ‡é¢˜

```
åŸå§‹è§£æï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AIåœ¨åŒ»ç–—è¯Šæ–­ä¸­çš„åº”ç”¨                          â”‚
â”‚            â†“                                 â”‚
â”‚         ä¸»æ ‡é¢˜ï¼ˆç®€å•ï¼‰                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AIä¼˜åŒ–å»ºè®®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é€‰é¡¹1ï¼ˆæ‰©å±•å‹ï¼‰:                              â”‚
â”‚ å‰ç¼€: æ·±åº¦ | ä¸»æ ‡é¢˜: AIåŒ»ç–—è¯Šæ–­é©å‘½ï¼šå‡†ç¡®ç‡æå‡30% | å‰¯æ ‡é¢˜: å®Œæ•´æŒ‡å— â”‚
â”‚                                              â”‚
â”‚ é€‰é¡¹2ï¼ˆä¿æŒç®€æ´ï¼‰:                            â”‚
â”‚ ä¸»æ ‡é¢˜: äººå·¥æ™ºèƒ½å¦‚ä½•é©æ–°åŒ»ç–—è¯Šæ–­ï¼š2025æœ€æ–°è¿›å±•â”‚
â”‚ ï¼ˆä¸æ·»åŠ å‰ç¼€/å‰¯æ ‡é¢˜ï¼‰                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ åŠŸèƒ½éœ€æ±‚

### FR-1.1: ä¸‰æ®µå¼æ ‡é¢˜è§£æ

**éœ€æ±‚æè¿°**: AIä»Google Doc HTMLä¸­è¯†åˆ«å¹¶è§£æä¸‰æ®µå¼æ ‡é¢˜

**è§£æè§„åˆ™**:

1. **å¤šè¡Œè¯†åˆ«**ï¼ˆä¼˜å…ˆï¼‰:
   ```
   ç¬¬1è¡Œ â†’ title_prefix
   ç¬¬2è¡Œ â†’ title_main
   ç¬¬3è¡Œ â†’ title_suffix
   ```

2. **åˆ†éš”ç¬¦è¯†åˆ«**ï¼ˆfallbackï¼‰:
   ```
   åŒä¸€è¡Œï¼Œä½¿ç”¨åˆ†éš”ç¬¦: ï½œ | â€” ï¼š :
   ä¾‹ï¼šç‹¬å®¶ï½œAIæ”¹å˜åŒ»ç–—è¯Šæ–­ï½œ2025è¶‹åŠ¿
       â†“    â†“              â†“
     prefix  main         suffix
   ```

3. **å•è¡Œè¯†åˆ«**:
   ```
   ä»…ä¸€è¡Œ â†’ å…¨éƒ¨è¯†åˆ«ä¸º title_main
   ```

**è¾“å…¥**:
- Google Doc HTMLï¼ˆå‰100å­—ç¬¦ï¼Œæ ‡é¢˜é€šå¸¸åœ¨å¼€å¤´ï¼‰

**è¾“å‡º**:
```json
{
  "title_prefix": "ç‹¬å®¶" | null,
  "title_main": "AIå¦‚ä½•æ”¹å˜åŒ»ç–—è¯Šæ–­",
  "title_suffix": "2025æœ€æ–°è¶‹åŠ¿" | null,
  "full_title": "ç‹¬å®¶ | AIå¦‚ä½•æ”¹å˜åŒ»ç–—è¯Šæ–­ | 2025æœ€æ–°è¶‹åŠ¿",
  "parsing_method": "multiline" | "separator" | "single",
  "parsing_confidence": 0.95
}
```

---

### FR-1.2: AIæ ‡é¢˜ä¼˜åŒ–å»ºè®®ç”Ÿæˆ

**éœ€æ±‚æè¿°**: AIåŸºäºè§£æå‡ºçš„æ ‡é¢˜ç»„ä»¶ï¼Œç”Ÿæˆ2-3ä¸ªä¼˜åŒ–ç‰ˆæœ¬

**ä¼˜åŒ–ç›®æ ‡**:
1. **SEOå‹å¥½**: åŒ…å«å…³é”®è¯ï¼Œé•¿åº¦é€‚ä¸­
2. **å¸å¼•ç‚¹å‡»**: ä½¿ç”¨å…·ä½“æ•°æ®ã€ç–‘é—®è¯ã€è¡ŒåŠ¨å·å¬
3. **ç»“æ„æ¸…æ™°**: ä¸‰æ®µå¼ç»“æ„åè°ƒï¼Œå‰ç¼€/ä¸»æ ‡é¢˜/å‰¯æ ‡é¢˜å„å¸å…¶èŒ

**è¾“å…¥**:
- `title_prefix` (å¯é€‰)
- `title_main` (å¿…éœ€)
- `title_suffix` (å¯é€‰)
- `body_html` (å‰500å­—ï¼Œç”¨äºç†è§£å†…å®¹)
- `initial_keywords` (ä»æ–‡æ¡£æå–çš„åˆæ­¥å…³é”®è¯)

**è¾“å‡º**:
```json
{
  "original_titles": {
    "title_prefix": "ç‹¬å®¶",
    "title_main": "AIå¦‚ä½•æ”¹å˜åŒ»ç–—è¯Šæ–­",
    "title_suffix": "2025æœ€æ–°è¶‹åŠ¿"
  },
  "suggested_title_sets": [
    {
      "id": "option_1",
      "title_prefix": "æ·±åº¦è§£æ",
      "title_main": "äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡30%",
      "title_suffix": "æƒå¨æŒ‡å—",
      "full_title": "æ·±åº¦è§£æ | äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡30% | æƒå¨æŒ‡å—",
      "score": 95,
      "strengths": [
        "å‰ç¼€"æ·±åº¦è§£æ"å®šä½ä¸“ä¸šå†…å®¹",
        "ä¸»æ ‡é¢˜åŒ…å«å…·ä½“æ•°æ®ï¼ˆ30%ï¼‰å¢å¼ºå¯ä¿¡åº¦",
        "å‰¯æ ‡é¢˜"æƒå¨æŒ‡å—"æš—ç¤ºå†…å®¹å…¨é¢",
        "æ•´ä½“é•¿åº¦é€‚ä¸­ï¼ˆ30å­—ç¬¦ï¼‰",
        "åŒ…å«ä¸»å…³é”®è¯"äººå·¥æ™ºèƒ½"ã€"åŒ»ç–—è¯Šæ–­""
      ],
      "type": "data_driven",
      "recommendation": "æ¨èç”¨äºä¸“ä¸šè¯»è€…ç¾¤ä½“ï¼Œå¼ºè°ƒæ•°æ®å’Œæƒå¨æ€§"
    },
    {
      "id": "option_2",
      "title_prefix": "å¿…è¯»",
      "title_main": "åŒ»ç”Ÿéƒ½åœ¨ç”¨çš„AIè¯Šæ–­å·¥å…·",
      "title_suffix": "5å¤§åº”ç”¨æ¡ˆä¾‹",
      "full_title": "å¿…è¯» | åŒ»ç”Ÿéƒ½åœ¨ç”¨çš„AIè¯Šæ–­å·¥å…· | 5å¤§åº”ç”¨æ¡ˆä¾‹",
      "score": 91,
      "strengths": [
        "å‰ç¼€"å¿…è¯»"è¥é€ ç´§è¿«æ„Ÿ",
        "ä¸»æ ‡é¢˜ä½¿ç”¨æƒå¨èƒŒä¹¦ï¼ˆåŒ»ç”Ÿéƒ½åœ¨ç”¨ï¼‰",
        "å‰¯æ ‡é¢˜æ‰¿è¯ºå…·ä½“å†…å®¹ï¼ˆ5å¤§æ¡ˆä¾‹ï¼‰",
        "æ˜“äºç†è§£ï¼Œå¸å¼•æ™®é€šè¯»è€…"
      ],
      "type": "authority_backed",
      "recommendation": "æ¨èç”¨äºå¤§ä¼—è¯»è€…ï¼Œå¼ºè°ƒå®ç”¨æ€§å’Œå¯ä¿¡åº¦"
    },
    {
      "id": "option_3",
      "title_prefix": "2025",
      "title_main": "AIåŒ»ç–—è¯Šæ–­å…¨æ™¯ï¼šä»åŸç†åˆ°å®è·µ",
      "title_suffix": "å®Œæ•´ç‰ˆ",
      "full_title": "2025 | AIåŒ»ç–—è¯Šæ–­å…¨æ™¯ï¼šä»åŸç†åˆ°å®è·µ | å®Œæ•´ç‰ˆ",
      "score": 88,
      "strengths": [
        "å‰ç¼€"2025"ä½“ç°æ—¶æ•ˆæ€§",
        "ä¸»æ ‡é¢˜æš—ç¤ºå†…å®¹å…¨é¢ï¼ˆåŸç†åˆ°å®è·µï¼‰",
        "å‰¯æ ‡é¢˜"å®Œæ•´ç‰ˆ"å¢å¼ºå†…å®¹ä»·å€¼æ„Ÿ",
        "é€‚åˆæ”¶è—å’Œæ·±åº¦é˜…è¯»"
      ],
      "type": "comprehensive_guide",
      "recommendation": "æ¨èç”¨äºé•¿ç¯‡æ·±åº¦å†…å®¹ï¼Œå¼ºè°ƒå…¨é¢æ€§"
    }
  ],
  "optimization_notes": [
    "åŸæ ‡é¢˜è¾ƒä¸ºå®½æ³›ï¼Œå»ºè®®å¢åŠ å…·ä½“æ•°æ®æˆ–æ¡ˆä¾‹",
    "ä¸»æ ‡é¢˜å»ºè®®æ§åˆ¶åœ¨15-30å­—ç¬¦ä¹‹é—´",
    "å‰ç¼€å’Œå‰¯æ ‡é¢˜åº”ä¸ä¸»æ ‡é¢˜åè°ƒï¼Œå½¢æˆæœ‰åŠ›çš„æ•´ä½“",
    "å»ºè®®è‡³å°‘ä¿ç•™ä¸€ä¸ªåŒ…å«å…·ä½“æ•°å­—çš„é€‰é¡¹ï¼ˆæå‡ç‚¹å‡»ç‡ï¼‰"
  ]
}
```

---

### FR-1.3: æ ‡é¢˜ç»„ä»¶çµæ´»å¤„ç†

**éœ€æ±‚æè¿°**: æ”¯æŒä¸åŒçš„æ ‡é¢˜ç»„åˆæ–¹å¼

**åœºæ™¯å¤„ç†**:

| åŸå§‹ç»“æ„ | ä¼˜åŒ–ç­–ç•¥ | ç¤ºä¾‹ |
|---------|---------|------|
| **3æ®µå®Œæ•´** | ä¼˜åŒ–æ‰€æœ‰3æ®µ | `å‰ç¼€ï½œä¸»æ ‡é¢˜ï½œå‰¯æ ‡é¢˜` â†’ æä¾›3æ®µä¼˜åŒ–ç‰ˆæœ¬ |
| **ä¸»+å‰¯** | ä¼˜åŒ–ä¸»+å‰¯ï¼Œå¯é€‰æ·»åŠ å‰ç¼€ | `ä¸»æ ‡é¢˜ï½œå‰¯æ ‡é¢˜` â†’ æä¾›`å‰ç¼€ï½œä¸»ï½œå‰¯`æˆ–`ä¸»ï½œå‰¯` |
| **ä»…ä¸»** | ä¼˜åŒ–ä¸»æ ‡é¢˜ï¼Œå¯é€‰æ·»åŠ å‰ç¼€/å‰¯æ ‡é¢˜ | `ä¸»æ ‡é¢˜` â†’ æä¾›`å‰ç¼€ï½œä¸»ï½œå‰¯`ã€`ä¸»ï½œå‰¯`æˆ–`ä¸»` |
| **ä¸»+å‰ç¼€** | ä¼˜åŒ–ä¸»+å‰ç¼€ï¼Œå¯é€‰æ·»åŠ å‰¯æ ‡é¢˜ | `å‰ç¼€ï½œä¸»æ ‡é¢˜` â†’ æä¾›`å‰ç¼€ï½œä¸»ï½œå‰¯`æˆ–`å‰ç¼€ï½œä¸»` |

**ç”¨æˆ·é€‰æ‹©**:
- é€‰æ‹©AIå»ºè®®çš„æŸä¸ªå®Œæ•´æ–¹æ¡ˆï¼ˆ3æ®µå¼ï¼‰
- é€‰æ‹©AIå»ºè®®çš„æŸä¸ªæ–¹æ¡ˆä½†æ‰‹åŠ¨ç¼–è¾‘ä¸ªåˆ«ç»„ä»¶
- å®Œå…¨è‡ªå®šä¹‰ç¼–è¾‘æ‰€æœ‰ç»„ä»¶
- ä¿æŒåŸæ ‡é¢˜ä¸å˜

---

### FR-1.4: æ ‡é¢˜é•¿åº¦æ§åˆ¶

**éœ€æ±‚æè¿°**: ç¡®ä¿æ ‡é¢˜ç»„ä»¶é•¿åº¦ç¬¦åˆSEOå’Œç”¨æˆ·ä½“éªŒè§„èŒƒ

**é•¿åº¦è§„èŒƒ**:

| ç»„ä»¶ | æ¨èé•¿åº¦ | æœ€å¤§é•¿åº¦ | è¯´æ˜ |
|------|---------|---------|------|
| `title_prefix` | 2-6å­—ç¬¦ | 10å­—ç¬¦ | ç®€çŸ­æœ‰åŠ›ï¼Œå®šä½å†…å®¹ç±»å‹ |
| `title_main` | 15-30å­—ç¬¦ | 50å­—ç¬¦ | æ ¸å¿ƒæ ‡é¢˜ï¼ŒåŒ…å«å…³é”®è¯ |
| `title_suffix` | 4-12å­—ç¬¦ | 20å­—ç¬¦ | è¡¥å……ä¿¡æ¯ï¼Œå¢å¼ºå¸å¼•åŠ› |
| **å®Œæ•´æ ‡é¢˜** | 25-50å­—ç¬¦ | 70å­—ç¬¦ | åœ¨æœç´¢ç»“æœä¸­å®Œæ•´æ˜¾ç¤º |

**éªŒè¯è§„åˆ™**:
- å¦‚æœä»»ä½•ç»„ä»¶è¶…é•¿ï¼ŒAIåº”è‡ªåŠ¨è°ƒæ•´
- å¦‚æœç”¨æˆ·æ‰‹åŠ¨ç¼–è¾‘è¶…é•¿ï¼Œæ˜¾ç¤ºè­¦å‘Šä½†å…è®¸ä¿å­˜
- æä¾›å­—ç¬¦è®¡æ•°å®æ—¶åé¦ˆ

---

## ğŸ¤– AIä¼˜åŒ–ç­–ç•¥

### æ ‡é¢˜ä¼˜åŒ–ç±»å‹

#### Type 1: Data-Drivenï¼ˆæ•°æ®é©±åŠ¨å‹ï¼‰

**ç‰¹ç‚¹**:
- åŒ…å«å…·ä½“æ•°å­—ã€ç™¾åˆ†æ¯”ã€ç»Ÿè®¡æ•°æ®
- å¢å¼ºå¯ä¿¡åº¦å’Œæƒå¨æ€§
- é€‚åˆä¸“ä¸šå†…å®¹

**æ¨¡æ¿**:
```
å‰ç¼€: æ·±åº¦è§£æ | ç‹¬å®¶æ•°æ® | ç ”ç©¶æŠ¥å‘Š
ä¸»æ ‡é¢˜: [ä¸»é¢˜] + å…·ä½“æ•°æ®ï¼ˆå¦‚ï¼šæå‡30%ã€èŠ‚çœ50%ï¼‰
å‰¯æ ‡é¢˜: æƒå¨æŒ‡å— | å®Œæ•´ç‰ˆ | 2025ç‰ˆ
```

**ç¤ºä¾‹**:
```
æ·±åº¦è§£æ | AIåŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡30%çš„ç§˜å¯† | 2025æŠ¥å‘Š
```

---

#### Type 2: Authority-Backedï¼ˆæƒå¨èƒŒä¹¦å‹ï¼‰

**ç‰¹ç‚¹**:
- å¼•ç”¨æƒå¨äººå£«ã€æœºæ„ã€ç”¨æˆ·
- ä½¿ç”¨ç¤¾ä¼šè¯æ˜ï¼ˆåŒ»ç”Ÿéƒ½åœ¨ç”¨ã€ä¸“å®¶æ¨èï¼‰
- é€‚åˆå¤§ä¼—è¯»è€…

**æ¨¡æ¿**:
```
å‰ç¼€: å¿…è¯» | æ¨è | çƒ­é—¨
ä¸»æ ‡é¢˜: [æƒå¨ç¾¤ä½“] + éƒ½åœ¨ç”¨çš„/æ¨èçš„ + [ä¸»é¢˜]
å‰¯æ ‡é¢˜: Xå¤§æ¡ˆä¾‹ | å®æˆ˜æŒ‡å— | æˆåŠŸç»éªŒ
```

**ç¤ºä¾‹**:
```
å¿…è¯» | åŒ»ç”Ÿéƒ½åœ¨ç”¨çš„AIè¯Šæ–­å·¥å…· | 5å¤§åº”ç”¨æ¡ˆä¾‹
```

---

#### Type 3: How-Toï¼ˆæ“ä½œæŒ‡å—å‹ï¼‰

**ç‰¹ç‚¹**:
- æ‰¿è¯ºæ•™ä¼šç”¨æˆ·åšæŸäº‹
- å®ç”¨æ€§å¼ºï¼Œé€‚åˆå·¥å…·ç±»å†…å®¹
- å¸å¼•å¯»æ±‚è§£å†³æ–¹æ¡ˆçš„è¯»è€…

**æ¨¡æ¿**:
```
å‰ç¼€: å®æˆ˜ | æ‰‹æŠŠæ‰‹ | é›¶åŸºç¡€
ä¸»æ ‡é¢˜: å¦‚ä½• + [å®ç°æŸä¸ªç›®æ ‡] + ä½¿ç”¨ + [å·¥å…·/æ–¹æ³•]
å‰¯æ ‡é¢˜: å®Œæ•´æ•™ç¨‹ | Xæ­¥å®ç° | é™„æ¡ˆä¾‹
```

**ç¤ºä¾‹**:
```
å®æˆ˜ | å¦‚ä½•ç”¨AIæå‡åŒ»ç–—è¯Šæ–­æ•ˆç‡50% | å®Œæ•´æ•™ç¨‹
```

---

#### Type 4: Comprehensive Guideï¼ˆå…¨é¢æŒ‡å—å‹ï¼‰

**ç‰¹ç‚¹**:
- æš—ç¤ºå†…å®¹å…¨é¢ã€æ·±åº¦
- é€‚åˆé•¿ç¯‡å†…å®¹
- å¸å¼•æ”¶è—å’Œæ·±åº¦é˜…è¯»

**æ¨¡æ¿**:
```
å‰ç¼€: 2025 | æœ€æ–° | å…¨é¢
ä¸»æ ‡é¢˜: [ä¸»é¢˜] + å…¨æ™¯/å…¨è§£æï¼šä»[A]åˆ°[B]
å‰¯æ ‡é¢˜: å®Œæ•´ç‰ˆ | ç»ˆææŒ‡å— | æ·±åº¦å‰–æ
```

**ç¤ºä¾‹**:
```
2025 | AIåŒ»ç–—è¯Šæ–­å…¨æ™¯ï¼šä»åŸç†åˆ°å®è·µ | å®Œæ•´ç‰ˆ
```

---

#### Type 5: Question-Basedï¼ˆç–‘é—®å¼•å¯¼å‹ï¼‰

**ç‰¹ç‚¹**:
- ä½¿ç”¨ç–‘é—®è¯å¼•å‘å¥½å¥‡
- é€‚åˆè§£ç­”å‹å†…å®¹
- é«˜ç‚¹å‡»ç‡

**æ¨¡æ¿**:
```
å‰ç¼€: æ­ç§˜ | æ·±åº¦ | ç‹¬å®¶
ä¸»æ ‡é¢˜: [ç–‘é—®è¯] + [ä¸»é¢˜] + [ç»“æœ/å½±å“]ï¼Ÿ
å‰¯æ ‡é¢˜: ç­”æ¡ˆåœ¨è¿™é‡Œ | ä¸“å®¶è§£è¯» | çœŸç›¸æ­ç§˜
```

**ç¤ºä¾‹**:
```
æ­ç§˜ | ä¸ºä»€ä¹ˆAIåŒ»ç–—è¯Šæ–­å‡†ç¡®ç‡è¶…è¿‡äººç±»ï¼Ÿ| ä¸“å®¶è§£è¯»
```

---

### AIç”Ÿæˆç­–ç•¥

**å¤šæ ·åŒ–ç­–ç•¥**:
1. **å¿…é€‰**: è‡³å°‘1ä¸ªData-Drivenå‹ï¼ˆåŒ…å«æ•°æ®ï¼‰
2. **æ¨è**: 1ä¸ªAuthority-Backedæˆ–How-Toå‹ï¼ˆå®ç”¨æ€§ï¼‰
3. **å¯é€‰**: 1ä¸ªComprehensive Guideæˆ–Questionå‹ï¼ˆå¸å¼•åŠ›ï¼‰

**å…³é”®è¯è¦†ç›–**:
- æ¯ä¸ªå»ºè®®çš„ä¸»æ ‡é¢˜å¿…é¡»åŒ…å«è‡³å°‘1ä¸ªæ ¸å¿ƒå…³é”®è¯
- ä¼˜å…ˆä½¿ç”¨ä»æ–‡æ¡£æå–çš„`initial_keywords`
- è‡ªç„¶èå…¥ï¼Œé¿å…å †ç Œ

**é•¿åº¦æ§åˆ¶**:
- å®Œæ•´æ ‡é¢˜æ€»é•¿åº¦ 25-50 å­—ç¬¦ï¼ˆæ¨èï¼‰
- ä¸è¶…è¿‡70å­—ç¬¦ï¼ˆç¡¬æ€§é™åˆ¶ï¼‰

---

## ğŸ’¾ æ•°æ®æ¨¡å‹è®¾è®¡

### æ‰©å±• `articles` è¡¨ï¼ˆè§£æå­—æ®µå·²å­˜åœ¨ï¼‰

ç°æœ‰å­—æ®µï¼ˆPhase 7å·²å®šä¹‰ï¼‰:
```sql
-- æ ‡é¢˜ç»„ä»¶ï¼ˆå·²å­˜åœ¨ï¼‰
title_prefix VARCHAR(200),
title_main VARCHAR(500) NOT NULL,
title_suffix VARCHAR(200),
```

**æ–°å¢å­—æ®µ**ï¼ˆæ ‡é¢˜ä¼˜åŒ–ç¡®è®¤çŠ¶æ€ï¼‰:
```sql
-- æ ‡é¢˜ä¼˜åŒ–ç¡®è®¤
title_optimization_confirmed BOOLEAN DEFAULT FALSE,
title_optimization_confirmed_at TIMESTAMP,
title_optimization_confirmed_by VARCHAR(100),
```

---

### æ–°å¢è¡¨ï¼š`title_suggestions`

å­˜å‚¨AIç”Ÿæˆçš„æ ‡é¢˜ä¼˜åŒ–å»ºè®®

```sql
CREATE TABLE title_suggestions (
    id SERIAL PRIMARY KEY,
    article_id INTEGER NOT NULL REFERENCES articles(id) ON DELETE CASCADE,

    -- åŸå§‹æ ‡é¢˜
    original_title_prefix VARCHAR(200),
    original_title_main VARCHAR(500) NOT NULL,
    original_title_suffix VARCHAR(200),
    original_full_title VARCHAR(800),

    -- AIå»ºè®®ï¼ˆJSONBæ•°ç»„ï¼Œå­˜å‚¨2-3ä¸ªå»ºè®®ï¼‰
    suggested_title_sets JSONB NOT NULL,
    -- æ ¼å¼: [
    --   {
    --     "id": "option_1",
    --     "title_prefix": "...",
    --     "title_main": "...",
    --     "title_suffix": "...",
    --     "full_title": "...",
    --     "score": 95,
    --     "strengths": ["...", "..."],
    --     "type": "data_driven",
    --     "recommendation": "..."
    --   },
    --   ...
    -- ]

    -- ä¼˜åŒ–å»ºè®®å…ƒæ•°æ®
    optimization_notes TEXT[],  -- ä¼˜åŒ–å»ºè®®è¯´æ˜

    -- ç”Ÿæˆå…ƒæ•°æ®
    generated_by VARCHAR(50) DEFAULT 'claude-sonnet-4.5',
    generation_cost DECIMAL(10, 4),
    generation_tokens INTEGER,
    generation_duration_ms INTEGER,

    -- æ—¶é—´æˆ³
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

    -- çº¦æŸ
    CONSTRAINT unique_article_title_suggestion UNIQUE (article_id)
);

CREATE INDEX idx_title_suggestions_article ON title_suggestions(article_id);
```

---

### æ–°å¢è¡¨ï¼š`title_confirmations`

è®°å½•ç”¨æˆ·å¯¹æ ‡é¢˜å»ºè®®çš„å†³ç­–

```sql
CREATE TABLE title_confirmations (
    id SERIAL PRIMARY KEY,
    article_id INTEGER NOT NULL REFERENCES articles(id) ON DELETE CASCADE,
    title_suggestion_id INTEGER REFERENCES title_suggestions(id) ON DELETE SET NULL,

    -- å†³ç­–ç±»å‹
    decision_type VARCHAR(20) NOT NULL,
    -- approved_option_X: é€‰æ‹©äº†AIå»ºè®®çš„é€‰é¡¹X
    -- custom: ç”¨æˆ·è‡ªå®šä¹‰ç¼–è¾‘
    -- keep_original: ä¿æŒåŸæ ‡é¢˜

    -- æœ€ç»ˆé‡‡ç”¨çš„æ ‡é¢˜
    final_title_prefix VARCHAR(200),
    final_title_main VARCHAR(500) NOT NULL,
    final_title_suffix VARCHAR(200),
    final_full_title VARCHAR(800),

    -- å¦‚æœæ˜¯é€‰æ‹©AIå»ºè®®
    selected_option_id VARCHAR(20),  -- "option_1", "option_2", ...

    -- å¦‚æœæ˜¯è‡ªå®šä¹‰ç¼–è¾‘
    custom_edits JSONB,
    -- æ ¼å¼: {
    --   "edited_fields": ["title_main", "title_suffix"],
    --   "changes": {
    --     "title_main": {"from": "...", "to": "..."},
    --     "title_suffix": {"from": "...", "to": "..."}
    --   }
    -- }

    -- ç”¨æˆ·åé¦ˆ
    user_feedback TEXT,
    quality_rating INTEGER,  -- 1-5æ˜Ÿï¼Œå¯¹AIå»ºè®®çš„è¯„åˆ†

    -- ç¡®è®¤äººå’Œæ—¶é—´
    confirmed_by VARCHAR(100) NOT NULL,
    confirmed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

    -- çº¦æŸ
    CONSTRAINT unique_article_title_confirmation UNIQUE (article_id)
);

CREATE INDEX idx_title_confirmations_article ON title_confirmations(article_id);
CREATE INDEX idx_title_confirmations_confirmed_by ON title_confirmations(confirmed_by);
```

---

## ğŸ”Œ API è®¾è®¡

### 1. ç”Ÿæˆæ ‡é¢˜ä¼˜åŒ–å»ºè®®

```http
POST /v1/articles/{article_id}/generate-title-suggestions
```

**è¯·æ±‚ä½“**:
```json
{
  "regenerate": false,  // æ˜¯å¦å¼ºåˆ¶é‡æ–°ç”Ÿæˆï¼ˆé»˜è®¤falseï¼Œæœ‰ç¼“å­˜åˆ™è¿”å›ï¼‰
  "options": {
    "target_types": ["data_driven", "authority_backed", "comprehensive_guide"],
    "include_data_driven": true,  // å¿…é¡»åŒ…å«æ•°æ®é©±åŠ¨å‹
    "max_title_length": 50,  // å®Œæ•´æ ‡é¢˜æœ€å¤§é•¿åº¦
    "preserve_structure": true  // å°½é‡ä¿æŒåŸæ ‡é¢˜çš„3æ®µç»“æ„
  }
}
```

**å“åº”**:
```json
{
  "success": true,
  "suggestion_id": 123,
  "original_titles": {
    "title_prefix": "ç‹¬å®¶",
    "title_main": "AIå¦‚ä½•æ”¹å˜åŒ»ç–—è¯Šæ–­",
    "title_suffix": "2025æœ€æ–°è¶‹åŠ¿",
    "full_title": "ç‹¬å®¶ | AIå¦‚ä½•æ”¹å˜åŒ»ç–—è¯Šæ–­ | 2025æœ€æ–°è¶‹åŠ¿"
  },
  "suggested_title_sets": [
    {
      "id": "option_1",
      "title_prefix": "æ·±åº¦è§£æ",
      "title_main": "äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡30%",
      "title_suffix": "æƒå¨æŒ‡å—",
      "full_title": "æ·±åº¦è§£æ | äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡30% | æƒå¨æŒ‡å—",
      "score": 95,
      "strengths": [
        "å‰ç¼€"æ·±åº¦è§£æ"å®šä½ä¸“ä¸šå†…å®¹",
        "ä¸»æ ‡é¢˜åŒ…å«å…·ä½“æ•°æ®ï¼ˆ30%ï¼‰",
        "å‰¯æ ‡é¢˜"æƒå¨æŒ‡å—"æš—ç¤ºå…¨é¢æ€§"
      ],
      "type": "data_driven",
      "recommendation": "æ¨èç”¨äºä¸“ä¸šè¯»è€…ï¼Œå¼ºè°ƒæ•°æ®å’Œæƒå¨æ€§",
      "character_count": {
        "prefix": 4,
        "main": 22,
        "suffix": 4,
        "total": 34
      }
    },
    // ... æ›´å¤šå»ºè®®
  ],
  "optimization_notes": [
    "åŸæ ‡é¢˜è¾ƒä¸ºå®½æ³›ï¼Œå»ºè®®å¢åŠ å…·ä½“æ•°æ®",
    "ä¸»æ ‡é¢˜å»ºè®®æ§åˆ¶åœ¨15-30å­—ç¬¦"
  ],
  "generation_metadata": {
    "cost_usd": 0.02,
    "tokens": 800,
    "duration_ms": 1500
  }
}
```

---

### 2. è·å–æ ‡é¢˜å»ºè®®

```http
GET /v1/articles/{article_id}/title-suggestions
```

**å“åº”**:
```json
{
  "success": true,
  "suggestion_id": 123,
  "original_titles": { ... },
  "suggested_title_sets": [ ... ],
  "confirmation": {
    "confirmed": false,
    "confirmed_by": null,
    "confirmed_at": null
  }
}
```

---

### 3. ç¡®è®¤æ ‡é¢˜é€‰æ‹©

```http
POST /v1/articles/{article_id}/confirm-title
```

**è¯·æ±‚ä½“ï¼ˆé€‰é¡¹1ï¼šé€‰æ‹©AIå»ºè®®ï¼‰**:
```json
{
  "confirmed_by": "reviewer_user_id",
  "decision_type": "approved_option_1",
  "selected_option_id": "option_1",
  "user_feedback": "å»ºè®®1çš„æ•°æ®é©±åŠ¨å‹æ ‡é¢˜å¾ˆå¥½",
  "quality_rating": 5
}
```

**è¯·æ±‚ä½“ï¼ˆé€‰é¡¹2ï¼šè‡ªå®šä¹‰ç¼–è¾‘ï¼‰**:
```json
{
  "confirmed_by": "reviewer_user_id",
  "decision_type": "custom",
  "final_titles": {
    "title_prefix": "æ·±åº¦",
    "title_main": "äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡35%",  // ç”¨æˆ·ä¿®æ”¹äº†æ•°æ®
    "title_suffix": "å®Œæ•´æŒ‡å—"
  },
  "custom_edits": {
    "edited_fields": ["title_main", "title_suffix"],
    "changes": {
      "title_main": {
        "from": "äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡30%",
        "to": "äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡35%"
      },
      "title_suffix": {
        "from": "æƒå¨æŒ‡å—",
        "to": "å®Œæ•´æŒ‡å—"
      }
    }
  },
  "user_feedback": "æ•°æ®éœ€è¦æ›´æ–°ï¼Œå‰¯æ ‡é¢˜ç¨ä½œè°ƒæ•´",
  "quality_rating": 4
}
```

**è¯·æ±‚ä½“ï¼ˆé€‰é¡¹3ï¼šä¿æŒåŸæ ‡é¢˜ï¼‰**:
```json
{
  "confirmed_by": "reviewer_user_id",
  "decision_type": "keep_original",
  "user_feedback": "åŸæ ‡é¢˜å·²ç»å¾ˆå¥½",
  "quality_rating": 3
}
```

**å“åº”**:
```json
{
  "success": true,
  "confirmation_id": 456,
  "article": {
    "id": 123,
    "title_prefix": "æ·±åº¦",
    "title_main": "äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡35%",
    "title_suffix": "å®Œæ•´æŒ‡å—",
    "full_title": "æ·±åº¦ | äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡35% | å®Œæ•´æŒ‡å—",
    "title_optimization_confirmed": true,
    "title_optimization_confirmed_at": "2025-11-08T15:00:00Z",
    "title_optimization_confirmed_by": "reviewer_user_id"
  }
}
```

---

## ğŸ¨ å‰ç«¯ UI è®¾è®¡

### Step 1 é¡µé¢å¸ƒå±€ï¼ˆåŒ…å«æ ‡é¢˜ä¼˜åŒ–ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: è§£æç¡®è®¤ä¸æ ‡é¢˜ä¼˜åŒ–                     [è¿”å›å·¥ä½œåˆ—è¡¨]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¿›åº¦æ¡: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  25% (1/4)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€ 1ï¸âƒ£ æ ‡é¢˜è§£æä¸ä¼˜åŒ– â­ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  ğŸ“Œ åŸå§‹æ ‡é¢˜ï¼ˆä»æ–‡æ¡£è§£æï¼‰                               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚    â”‚
â”‚  â”‚  â”‚ å‰ç¼€: [ç‹¬å®¶                    ] (6/10å­—ç¬¦) â”‚        â”‚    â”‚
â”‚  â”‚  â”‚ ä¸»æ ‡é¢˜: [AIå¦‚ä½•æ”¹å˜åŒ»ç–—è¯Šæ–­      ] (10/50å­—ç¬¦)â”‚        â”‚    â”‚
â”‚  â”‚  â”‚ å‰¯æ ‡é¢˜: [2025æœ€æ–°è¶‹åŠ¿            ] (7/20å­—ç¬¦) â”‚        â”‚    â”‚
â”‚  â”‚  â”‚                                            â”‚        â”‚    â”‚
â”‚  â”‚  â”‚ å®Œæ•´æ˜¾ç¤º: ç‹¬å®¶ | AIå¦‚ä½•æ”¹å˜åŒ»ç–—è¯Šæ–­ | 2025æœ€æ–°è¶‹åŠ¿ â”‚        â”‚    â”‚
â”‚  â”‚  â”‚           (28/70å­—ç¬¦) âœ“                    â”‚        â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  ğŸ¤– AIä¼˜åŒ–å»ºè®® (ç‚¹å‡»é€‰æ‹©)                               â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  â”Œâ”€ é€‰é¡¹1ï¼ˆæ¨èï¼‰â­ 95åˆ† â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” [é€‰æ‹©]        â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ æ·±åº¦è§£æ | äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡30% | æƒå¨æŒ‡å— â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€       â”‚              â”‚    â”‚
â”‚  â”‚  â”‚  å‰ç¼€              ä¸»æ ‡é¢˜                å‰¯æ ‡é¢˜       â”‚              â”‚    â”‚
â”‚  â”‚  â”‚  (4å­—)            (22å­—)              (4å­—)         â”‚              â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ å­—æ•°: 34å­—ç¬¦ âœ“  ç±»å‹: æ•°æ®é©±åŠ¨å‹      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ âœ¨ ä¼˜åŠ¿:                              â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ å‰ç¼€"æ·±åº¦è§£æ"å®šä½ä¸“ä¸šå†…å®¹           â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ ä¸»æ ‡é¢˜åŒ…å«å…·ä½“æ•°æ®ï¼ˆ30%ï¼‰å¢å¼ºå¯ä¿¡åº¦   â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ å‰¯æ ‡é¢˜"æƒå¨æŒ‡å—"æš—ç¤ºå†…å®¹å…¨é¢         â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ æ•´ä½“é•¿åº¦é€‚ä¸­ï¼Œåœ¨æœç´¢ç»“æœä¸­å®Œæ•´æ˜¾ç¤º    â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ åŒ…å«ä¸»å…³é”®è¯"äººå·¥æ™ºèƒ½"ã€"åŒ»ç–—è¯Šæ–­"    â”‚              â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ ğŸ’¡ å»ºè®®: æ¨èç”¨äºä¸“ä¸šè¯»è€…ï¼Œå¼ºè°ƒæƒå¨æ€§  â”‚              â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  â”Œâ”€ é€‰é¡¹2 â­ 91åˆ† â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” [é€‰æ‹©]        â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ å¿…è¯» | åŒ»ç”Ÿéƒ½åœ¨ç”¨çš„AIè¯Šæ–­å·¥å…· | 5å¤§åº”ç”¨æ¡ˆä¾‹         â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚              â”‚    â”‚
â”‚  â”‚  â”‚å‰ç¼€        ä¸»æ ‡é¢˜              å‰¯æ ‡é¢˜                â”‚              â”‚    â”‚
â”‚  â”‚  â”‚(2å­—)      (12å­—)              (7å­—)                â”‚              â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ å­—æ•°: 25å­—ç¬¦ âœ“  ç±»å‹: æƒå¨èƒŒä¹¦å‹      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ âœ¨ ä¼˜åŠ¿:                              â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ å‰ç¼€"å¿…è¯»"è¥é€ ç´§è¿«æ„Ÿ                â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ ä¸»æ ‡é¢˜ä½¿ç”¨æƒå¨èƒŒä¹¦ï¼ˆåŒ»ç”Ÿéƒ½åœ¨ç”¨ï¼‰     â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ å‰¯æ ‡é¢˜æ‰¿è¯ºå…·ä½“å†…å®¹ï¼ˆ5å¤§æ¡ˆä¾‹ï¼‰        â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ æ˜“äºç†è§£ï¼Œå¸å¼•æ™®é€šè¯»è€…              â”‚              â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ ğŸ’¡ å»ºè®®: æ¨èç”¨äºå¤§ä¼—è¯»è€…ï¼Œå¼ºè°ƒå®ç”¨æ€§  â”‚              â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  â”Œâ”€ é€‰é¡¹3 â­ 88åˆ† â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” [é€‰æ‹©]        â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ 2025 | AIåŒ»ç–—è¯Šæ–­å…¨æ™¯ï¼šä»åŸç†åˆ°å®è·µ | å®Œæ•´ç‰ˆ       â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€              â”‚              â”‚    â”‚
â”‚  â”‚  â”‚å‰ç¼€         ä¸»æ ‡é¢˜                  å‰¯æ ‡é¢˜           â”‚              â”‚    â”‚
â”‚  â”‚  â”‚(4å­—)       (18å­—)                 (3å­—)            â”‚              â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ å­—æ•°: 29å­—ç¬¦ âœ“  ç±»å‹: å…¨é¢æŒ‡å—å‹      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ âœ¨ ä¼˜åŠ¿:                              â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ å‰ç¼€"2025"ä½“ç°æ—¶æ•ˆæ€§                â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ ä¸»æ ‡é¢˜æš—ç¤ºå†…å®¹å…¨é¢ï¼ˆåŸç†åˆ°å®è·µï¼‰     â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ å‰¯æ ‡é¢˜"å®Œæ•´ç‰ˆ"å¢å¼ºä»·å€¼æ„Ÿ            â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ é€‚åˆæ”¶è—å’Œæ·±åº¦é˜…è¯»                  â”‚              â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚              â”‚    â”‚
â”‚  â”‚  â”‚ ğŸ’¡ å»ºè®®: æ¨èç”¨äºé•¿ç¯‡å†…å®¹ï¼Œå¼ºè°ƒå…¨é¢æ€§  â”‚              â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  â˜ ä¿æŒåŸæ ‡é¢˜                                           â”‚    â”‚
â”‚  â”‚  â˜ è‡ªå®šä¹‰ç¼–è¾‘ï¼ˆåŸºäºAIå»ºè®®ï¼‰                             â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  â”Œâ”€ è‡ªå®šä¹‰ç¼–è¾‘åŒºï¼ˆå¯å±•å¼€ï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚    â”‚
â”‚  â”‚  â”‚ å‰ç¼€:  [_______________________] (0/10) â”‚            â”‚    â”‚
â”‚  â”‚  â”‚ ä¸»æ ‡é¢˜: [_______________________] (0/50) â”‚            â”‚    â”‚
â”‚  â”‚  â”‚ å‰¯æ ‡é¢˜: [_______________________] (0/20) â”‚            â”‚    â”‚
â”‚  â”‚  â”‚                                         â”‚            â”‚    â”‚
â”‚  â”‚  â”‚ é¢„è§ˆ: [å‰ç¼€ | ä¸»æ ‡é¢˜ | å‰¯æ ‡é¢˜]           â”‚            â”‚    â”‚
â”‚  â”‚  â”‚       (0/70å­—ç¬¦)                        â”‚            â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ 2ï¸âƒ£ ä½œè€…ä¿¡æ¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ï¼ˆçœç•¥ï¼Œå·²å­˜åœ¨è®¾è®¡ï¼‰                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ 3ï¸âƒ£ å›¾ç‰‡ç®¡ç† â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ï¼ˆçœç•¥ï¼Œå·²å­˜åœ¨è®¾è®¡ï¼‰                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ 4ï¸âƒ£ åˆæ­¥SEOæ•°æ® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ï¼ˆçœç•¥ï¼Œå·²å­˜åœ¨è®¾è®¡ï¼‰                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ ğŸ’¬ åé¦ˆï¼ˆå¯é€‰ï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ å¯¹AIæ ‡é¢˜å»ºè®®çš„è¯„ä»·: â­â­â­â­â­ (1-5æ˜Ÿ)                   â”‚    â”‚
â”‚  â”‚ å…¶ä»–æ„è§: [_________________________________]          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚                       [âœ… ç¡®è®¤è§£æå¹¶ç»§ç»­] â¡ï¸            â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤– AI æœåŠ¡è®¾è®¡

### TitleOptimizationService

**æ–‡ä»¶**: `backend/src/services/parsing/title_optimization_service.py`

```python
from anthropic import AsyncAnthropic
from typing import Dict, List, Any, Optional

class TitleOptimizationService:
    """
    AIé©±åŠ¨çš„æ ‡é¢˜ä¼˜åŒ–æœåŠ¡

    ä¸ºä¸‰æ®µå¼æ ‡é¢˜æä¾›ä¼˜åŒ–å»ºè®®
    """

    def __init__(self, anthropic_client: AsyncAnthropic):
        self.client = anthropic_client
        self.model = "claude-sonnet-4.5-20250929"

    async def generate_title_suggestions(
        self,
        article: Article,
        options: Dict[str, Any] = None
    ) -> Dict[str, Any]:
        """
        ç”Ÿæˆæ ‡é¢˜ä¼˜åŒ–å»ºè®®

        Args:
            article: æ–‡ç« å¯¹è±¡ï¼ˆåŒ…å«å·²è§£æçš„æ ‡é¢˜ç»„ä»¶ï¼‰
            options: é…ç½®é€‰é¡¹
                - target_types: ç›®æ ‡ç±»å‹åˆ—è¡¨
                - max_title_length: æœ€å¤§é•¿åº¦
                - preserve_structure: æ˜¯å¦ä¿æŒ3æ®µç»“æ„

        Returns:
            åŒ…å«2-3ä¸ªä¼˜åŒ–å»ºè®®çš„å­—å…¸
        """

        options = options or {}

        prompt = self._build_title_optimization_prompt(
            article,
            target_types=options.get('target_types'),
            max_length=options.get('max_title_length', 50),
            preserve_structure=options.get('preserve_structure', True)
        )

        response = await self.client.messages.create(
            model=self.model,
            max_tokens=3000,
            temperature=0.4,  # é€‚åº¦åˆ›æ„ï¼Œä¿æŒåˆç†æ€§
            messages=[{
                "role": "user",
                "content": prompt
            }]
        )

        suggestions = self._parse_title_response(response.content[0].text)

        return suggestions

    def _build_title_optimization_prompt(
        self,
        article: Article,
        target_types: Optional[List[str]] = None,
        max_length: int = 50,
        preserve_structure: bool = True
    ) -> str:
        """
        æ„å»ºæ ‡é¢˜ä¼˜åŒ–Prompt
        """

        # æ„å»ºåŸå§‹æ ‡é¢˜æè¿°
        original_titles_desc = f"""
**åŸå§‹æ ‡é¢˜ç»„ä»¶**:
- å‰ç¼€ï¼ˆtitle_prefixï¼‰: {article.title_prefix or "ï¼ˆæ— ï¼‰"}
- ä¸»æ ‡é¢˜ï¼ˆtitle_mainï¼‰: {article.title_main}
- å‰¯æ ‡é¢˜ï¼ˆtitle_suffixï¼‰: {article.title_suffix or "ï¼ˆæ— ï¼‰"}
- å®Œæ•´æ ‡é¢˜: {self._build_full_title(article)}
"""

        # æ„å»ºå†…å®¹æ‘˜è¦
        content_summary = f"""
**æ–‡ç« å†…å®¹æ‘˜è¦**ï¼ˆå‰500å­—ï¼‰:
{article.body_html[:500] if article.body_html else article.body[:500]}...
"""

        # æ„å»ºå…³é”®è¯å‚è€ƒ
        keywords_ref = ""
        if article.seo_keywords:
            keywords_ref = f"""
**åˆæ­¥å…³é”®è¯**ï¼ˆä»æ–‡æ¡£æå–ï¼‰:
{", ".join(article.seo_keywords[:10])}
"""

        # æ„å»ºç±»å‹è¦æ±‚
        type_requirements = ""
        if target_types:
            type_requirements = f"""
**è¦æ±‚çš„æ ‡é¢˜ç±»å‹**: {", ".join(target_types)}
"""
        else:
            type_requirements = """
**è¦æ±‚çš„æ ‡é¢˜ç±»å‹**:
- å¿…é¡»åŒ…å«: data_drivenï¼ˆæ•°æ®é©±åŠ¨å‹ï¼‰
- æ¨èåŒ…å«: authority_backedï¼ˆæƒå¨èƒŒä¹¦å‹ï¼‰æˆ– how_toï¼ˆæ“ä½œæŒ‡å—å‹ï¼‰
- å¯é€‰: comprehensive_guideï¼ˆå…¨é¢æŒ‡å—å‹ï¼‰æˆ– question_basedï¼ˆç–‘é—®å¼•å¯¼å‹ï¼‰
"""

        # æ„å»ºç»“æ„è¦æ±‚
        structure_req = ""
        if preserve_structure:
            structure_req = """
**ç»“æ„è¦æ±‚**:
- ä¼˜å…ˆä¿æŒä¸‰æ®µå¼ç»“æ„ï¼ˆå‰ç¼€ | ä¸»æ ‡é¢˜ | å‰¯æ ‡é¢˜ï¼‰
- å¦‚æœåŸæ ‡é¢˜ç¼ºå°‘æŸä¸ªç»„ä»¶ï¼Œå¯ä»¥æ·»åŠ ï¼Œä½†ä¹Ÿå¯ä»¥ä¿æŒç®€æ´
- ç¡®ä¿æ•´ä½“åè°ƒï¼Œå‰ç¼€/ä¸»æ ‡é¢˜/å‰¯æ ‡é¢˜å„å¸å…¶èŒ
"""

        return f"""
ä½ æ˜¯ä¸€ä½èµ„æ·±çš„SEOæ–‡æ¡ˆä¸“å®¶å’Œæ ‡é¢˜ä¼˜åŒ–é¡¾é—®ï¼Œä¸“æ³¨äºä¸­æ–‡å†…å®¹çš„æ ‡é¢˜ä¼˜åŒ–ã€‚

## ä»»åŠ¡

ä¸ºä»¥ä¸‹æ–‡ç« ç”Ÿæˆ**2-3ä¸ª**ä¼˜åŒ–æ ‡é¢˜å»ºè®®ã€‚æ–‡ç« ä½¿ç”¨**ä¸‰æ®µå¼æ ‡é¢˜ç»“æ„**ï¼š

```
å®Œæ•´æ ‡é¢˜ = [å‰ç¼€] | ä¸»æ ‡é¢˜ | [å‰¯æ ‡é¢˜]
```

{original_titles_desc}

{content_summary}

{keywords_ref}

---

## ä¼˜åŒ–ç›®æ ‡

1. **SEOå‹å¥½**: åŒ…å«æ ¸å¿ƒå…³é”®è¯ï¼Œé•¿åº¦é€‚ä¸­ï¼ˆå®Œæ•´æ ‡é¢˜{max_length}å­—ç¬¦ä»¥å†…ï¼‰
2. **å¸å¼•ç‚¹å‡»**: ä½¿ç”¨å…·ä½“æ•°æ®ã€æƒå¨èƒŒä¹¦ã€ç–‘é—®è¯ç­‰æŠ€å·§
3. **ç»“æ„æ¸…æ™°**: ä¸‰æ®µå¼ç»“æ„åè°ƒï¼Œå‰ç¼€/ä¸»æ ‡é¢˜/å‰¯æ ‡é¢˜å„å¸å…¶èŒ
4. **è¯»è€…å¯¼å‘**: æ˜ç¡®ä¼ è¾¾æ–‡ç« ä»·å€¼ï¼Œå¸å¼•ç›®æ ‡è¯»è€…

---

## é•¿åº¦è§„èŒƒ

- **å‰ç¼€ï¼ˆtitle_prefixï¼‰**: 2-6å­—ç¬¦ï¼ˆç®€çŸ­æœ‰åŠ›ï¼‰
- **ä¸»æ ‡é¢˜ï¼ˆtitle_mainï¼‰**: 15-30å­—ç¬¦ï¼ˆæ ¸å¿ƒå†…å®¹ï¼‰
- **å‰¯æ ‡é¢˜ï¼ˆtitle_suffixï¼‰**: 4-12å­—ç¬¦ï¼ˆè¡¥å……ä¿¡æ¯ï¼‰
- **å®Œæ•´æ ‡é¢˜**: 25-{max_length}å­—ç¬¦ï¼ˆæ¨èï¼‰ï¼Œä¸è¶…è¿‡70å­—ç¬¦ï¼ˆç¡¬æ€§é™åˆ¶ï¼‰

---

{type_requirements}

{structure_req}

---

## æ ‡é¢˜ç±»å‹è¯´æ˜

### 1. Data-Drivenï¼ˆæ•°æ®é©±åŠ¨å‹ï¼‰â­ å¿…é€‰
- åŒ…å«å…·ä½“æ•°å­—ã€ç™¾åˆ†æ¯”ã€ç»Ÿè®¡æ•°æ®
- ç¤ºä¾‹: "æ·±åº¦è§£æ | AIåŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡30% | æƒå¨æŒ‡å—"
- é€‚åˆ: ä¸“ä¸šå†…å®¹ï¼Œå¢å¼ºå¯ä¿¡åº¦

### 2. Authority-Backedï¼ˆæƒå¨èƒŒä¹¦å‹ï¼‰
- å¼•ç”¨æƒå¨äººå£«ã€æœºæ„ã€ç”¨æˆ·
- ç¤ºä¾‹: "å¿…è¯» | åŒ»ç”Ÿéƒ½åœ¨ç”¨çš„AIè¯Šæ–­å·¥å…· | 5å¤§æ¡ˆä¾‹"
- é€‚åˆ: å¤§ä¼—è¯»è€…ï¼Œç¤¾ä¼šè¯æ˜

### 3. How-Toï¼ˆæ“ä½œæŒ‡å—å‹ï¼‰
- æ‰¿è¯ºæ•™ä¼šç”¨æˆ·åšæŸäº‹
- ç¤ºä¾‹: "å®æˆ˜ | å¦‚ä½•ç”¨AIæå‡è¯Šæ–­æ•ˆç‡50% | å®Œæ•´æ•™ç¨‹"
- é€‚åˆ: å·¥å…·ç±»ã€å®æ“ç±»å†…å®¹

### 4. Comprehensive Guideï¼ˆå…¨é¢æŒ‡å—å‹ï¼‰
- æš—ç¤ºå†…å®¹å…¨é¢ã€æ·±åº¦
- ç¤ºä¾‹: "2025 | AIåŒ»ç–—è¯Šæ–­å…¨æ™¯ï¼šä»åŸç†åˆ°å®è·µ | å®Œæ•´ç‰ˆ"
- é€‚åˆ: é•¿ç¯‡æ·±åº¦å†…å®¹

### 5. Question-Basedï¼ˆç–‘é—®å¼•å¯¼å‹ï¼‰
- ä½¿ç”¨ç–‘é—®è¯å¼•å‘å¥½å¥‡
- ç¤ºä¾‹: "æ­ç§˜ | ä¸ºä»€ä¹ˆAIåŒ»ç–—è¯Šæ–­å‡†ç¡®ç‡è¶…è¿‡äººç±»ï¼Ÿ| ä¸“å®¶è§£è¯»"
- é€‚åˆ: è§£ç­”å‹å†…å®¹

---

## è¾“å‡ºæ ¼å¼

è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹JSON Schemaè¾“å‡ºï¼š

```json
{{
  "suggested_title_sets": [
    {{
      "id": "option_1",
      "title_prefix": "æ·±åº¦è§£æ",
      "title_main": "äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡30%",
      "title_suffix": "æƒå¨æŒ‡å—",
      "full_title": "æ·±åº¦è§£æ | äººå·¥æ™ºèƒ½é©æ–°åŒ»ç–—è¯Šæ–­ï¼šå‡†ç¡®ç‡æå‡30% | æƒå¨æŒ‡å—",
      "score": 95,
      "strengths": [
        "å‰ç¼€"æ·±åº¦è§£æ"å®šä½ä¸“ä¸šå†…å®¹",
        "ä¸»æ ‡é¢˜åŒ…å«å…·ä½“æ•°æ®ï¼ˆ30%ï¼‰å¢å¼ºå¯ä¿¡åº¦",
        "å‰¯æ ‡é¢˜"æƒå¨æŒ‡å—"æš—ç¤ºå†…å®¹å…¨é¢",
        "æ•´ä½“é•¿åº¦é€‚ä¸­ï¼ˆ34å­—ç¬¦ï¼‰",
        "åŒ…å«ä¸»å…³é”®è¯"äººå·¥æ™ºèƒ½"ã€"åŒ»ç–—è¯Šæ–­""
      ],
      "type": "data_driven",
      "recommendation": "æ¨èç”¨äºä¸“ä¸šè¯»è€…ç¾¤ä½“ï¼Œå¼ºè°ƒæ•°æ®å’Œæƒå¨æ€§",
      "character_count": {{
        "prefix": 4,
        "main": 22,
        "suffix": 4,
        "total": 34
      }}
    }},
    // ... 1-2ä¸ªæ›´å¤šå»ºè®®
  ],
  "optimization_notes": [
    "åŸæ ‡é¢˜è¾ƒä¸ºå®½æ³›ï¼Œå»ºè®®å¢åŠ å…·ä½“æ•°æ®æˆ–æ¡ˆä¾‹",
    "ä¸»æ ‡é¢˜å»ºè®®æ§åˆ¶åœ¨15-30å­—ç¬¦ä¹‹é—´",
    "å‰ç¼€å’Œå‰¯æ ‡é¢˜åº”ä¸ä¸»æ ‡é¢˜åè°ƒï¼Œå½¢æˆæœ‰åŠ›çš„æ•´ä½“"
  ]
}}
```

## æ³¨æ„äº‹é¡¹
- å¿…é¡»ç”Ÿæˆ2-3ä¸ªå»ºè®®
- è‡³å°‘1ä¸ªå¿…é¡»æ˜¯Data-Drivenç±»å‹ï¼ˆåŒ…å«å…·ä½“æ•°æ®ï¼‰
- ç¡®ä¿æ¯ä¸ªå»ºè®®çš„ä¸»æ ‡é¢˜åŒ…å«è‡³å°‘1ä¸ªæ ¸å¿ƒå…³é”®è¯
- å®Œæ•´æ ‡é¢˜ä¸è¶…è¿‡{max_length}å­—ç¬¦ï¼ˆæ¨èï¼‰ï¼Œç¡¬æ€§é™åˆ¶70å­—ç¬¦
- æ‰€æœ‰ç»„ä»¶è‡ªç„¶èå…¥ï¼Œé¿å…å…³é”®è¯å †ç Œ
- è¯„åˆ†ï¼ˆscoreï¼‰åº”åŸºäºSEOæ•ˆæœã€å¸å¼•åŠ›ã€ç»“æ„åˆç†æ€§ç»¼åˆè¯„ä¼°

ç°åœ¨è¯·ç”Ÿæˆæ ‡é¢˜ä¼˜åŒ–å»ºè®®ã€‚
"""

    def _build_full_title(self, article: Article) -> str:
        """
        æ„å»ºå®Œæ•´æ ‡é¢˜å­—ç¬¦ä¸²
        """
        parts = []
        if article.title_prefix:
            parts.append(article.title_prefix)
        parts.append(article.title_main)
        if article.title_suffix:
            parts.append(article.title_suffix)

        return " | ".join(parts)

    def _parse_title_response(self, response_text: str) -> Dict[str, Any]:
        """
        è§£æAIå“åº”ï¼Œæå–ç»“æ„åŒ–å»ºè®®
        """
        import json
        import re

        # æå–JSONä»£ç å—
        json_match = re.search(r'```json\s*(\{.*?\})\s*```', response_text, re.DOTALL)
        if json_match:
            json_str = json_match.group(1)
        else:
            # å°è¯•ç›´æ¥è§£æ
            json_str = response_text

        try:
            data = json.loads(json_str)
            return data
        except json.JSONDecodeError as e:
            logger.error(f"Failed to parse title suggestions: {e}")
            raise ValueError("AIå“åº”æ ¼å¼é”™è¯¯ï¼Œæ— æ³•è§£ææ ‡é¢˜å»ºè®®")
```

---

## ğŸ“… å®æ–½è®¡åˆ’

### Week 23.5: Step 1æ ‡é¢˜ä¼˜åŒ–åŠŸèƒ½ï¼ˆæ–°å¢ï¼‰

#### T7.37 [US7][P0] æ•°æ®åº“Schemaè®¾è®¡

**Description**: è®¾è®¡`title_suggestions`å’Œ`title_confirmations`è¡¨

**Dependencies**: T7.3ï¼ˆArticlesè¡¨å·²æ‰©å±•ï¼‰

**Estimated Hours**: 2 hours

**Deliverables**:
- æ•°æ®åº“Schemaè®¾è®¡æ–‡æ¡£
- Alembic migrationè„šæœ¬
- ORMæ¨¡å‹ï¼ˆSQLAlchemyï¼‰

**Acceptance Criteria**:
- [ ] `title_suggestions`è¡¨è®¾è®¡å®Œæˆ
- [ ] `title_confirmations`è¡¨è®¾è®¡å®Œæˆ
- [ ] `articles`è¡¨æ–°å¢ç¡®è®¤çŠ¶æ€å­—æ®µ
- [ ] Migrationåœ¨devç¯å¢ƒæµ‹è¯•é€šè¿‡

---

#### T7.38 [US7][P0] å®ç°TitleOptimizationService

**Description**: å®ç°AIæ ‡é¢˜ä¼˜åŒ–æœåŠ¡

**Dependencies**: T7.37

**Estimated Hours**: 4 hours

**Deliverables**:
- `TitleOptimizationService`ç±»
- æ ‡é¢˜ä¼˜åŒ–Promptè®¾è®¡
- å“åº”è§£æé€»è¾‘
- å•å…ƒæµ‹è¯•

**Acceptance Criteria**:
- [ ] ç”Ÿæˆ2-3ä¸ªæ ‡é¢˜å»ºè®®
- [ ] è‡³å°‘åŒ…å«1ä¸ªData-Drivenç±»å‹
- [ ] æ ‡é¢˜é•¿åº¦ç¬¦åˆè§„èŒƒ
- [ ] è¯„åˆ†åˆç†ï¼ˆ85-95åˆ†åŒºé—´ï¼‰

---

#### T7.39 [US7][P0] åˆ›å»ºæ ‡é¢˜ä¼˜åŒ–APIç«¯ç‚¹

**Description**: åˆ›å»ºç”Ÿæˆã€è·å–ã€ç¡®è®¤æ ‡é¢˜çš„APIç«¯ç‚¹

**Dependencies**: T7.38

**Estimated Hours**: 2 hours

**Deliverables**:
- `POST /v1/articles/{id}/generate-title-suggestions`
- `GET /v1/articles/{id}/title-suggestions`
- `POST /v1/articles/{id}/confirm-title`
- OpenAPIæ–‡æ¡£æ›´æ–°

**Acceptance Criteria**:
- [ ] æ‰€æœ‰APIç«¯ç‚¹æ­£å¸¸å·¥ä½œ
- [ ] è¯·æ±‚/å“åº”éªŒè¯æ­£ç¡®
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] APIæ–‡æ¡£æ›´æ–°

---

#### T7.40 [US7][P0] Step 1 UI - æ ‡é¢˜ä¼˜åŒ–å¡ç‰‡

**Description**: å®ç°Step 1æ ‡é¢˜ä¼˜åŒ–UIç»„ä»¶

**Dependencies**: T7.39

**Estimated Hours**: 6 hours

**Deliverables**:
- æ ‡é¢˜ä¼˜åŒ–å¡ç‰‡ç»„ä»¶ï¼ˆReactï¼‰
- åŸå§‹æ ‡é¢˜æ˜¾ç¤º
- AIå»ºè®®å±•ç¤ºï¼ˆ3ä¸ªé€‰é¡¹ï¼‰
- è‡ªå®šä¹‰ç¼–è¾‘åŠŸèƒ½
- å­—ç¬¦è®¡æ•°å™¨
- é€‰æ‹©çŠ¶æ€ç®¡ç†

**Acceptance Criteria**:
- [ ] æ˜¾ç¤ºåŸå§‹æ ‡é¢˜ï¼ˆ3æ®µå¼ï¼‰
- [ ] æ˜¾ç¤ºAIå»ºè®®ï¼ˆ2-3ä¸ªé€‰é¡¹ï¼‰
- [ ] æ”¯æŒé€‰æ‹©AIå»ºè®®
- [ ] æ”¯æŒè‡ªå®šä¹‰ç¼–è¾‘
- [ ] å®æ—¶å­—ç¬¦è®¡æ•°
- [ ] è¶…é•¿è­¦å‘Šæç¤º

---

#### T7.41 [US7][P0] é›†æˆæµ‹è¯•

**Description**: Step 1æ ‡é¢˜ä¼˜åŒ–ç«¯åˆ°ç«¯æµ‹è¯•

**Dependencies**: T7.40

**Estimated Hours**: 2 hours

**Deliverables**:
- ç«¯åˆ°ç«¯æµ‹è¯•ç”¨ä¾‹
- AIå»ºè®®è´¨é‡è¯„ä¼°ï¼ˆäººå·¥è¯„ä¼°10ç¯‡ï¼‰
- æ€§èƒ½æµ‹è¯•

**Acceptance Criteria**:
- [ ] å®Œæ•´æµç¨‹æµ‹è¯•é€šè¿‡
- [ ] AIå»ºè®®å‡†ç¡®ç‡â‰¥85%
- [ ] ç”Ÿæˆé€Ÿåº¦â‰¤15ç§’
- [ ] UIäº¤äº’æµç•…

---

#### T7.42 [US7][P0] æ›´æ–°æ–‡æ¡£

**Description**: æ›´æ–°SpecKitå’ŒAPIæ–‡æ¡£

**Dependencies**: T7.41

**Estimated Hours**: 1.5 hours

**Deliverables**:
- `spec.md`æ–°å¢FR-1.5è‡³FR-1.8
- `tasks.md`æ–°å¢T7.37è‡³T7.42
- APIæ–‡æ¡£æ›´æ–°

**Acceptance Criteria**:
- [ ] æ‰€æœ‰éœ€æ±‚æ–‡æ¡£åŒ–
- [ ] æ‰€æœ‰ä»»åŠ¡è®°å½•
- [ ] APIæ–‡æ¡£å®Œæ•´

---

**æ€»è®¡**: 17.5å°æ—¶ï¼ˆçº¦3å¤©ï¼‰

---

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶

- [ ] **æ ‡é¢˜è§£æ**: æ­£ç¡®è¯†åˆ«3æ®µå¼æ ‡é¢˜ï¼ˆmultiline/separator/singleï¼‰
- [ ] **AIå»ºè®®ç”Ÿæˆ**: ç”Ÿæˆ2-3ä¸ªä¼˜åŒ–å»ºè®®
- [ ] **ç±»å‹è¦†ç›–**: è‡³å°‘åŒ…å«1ä¸ªData-Drivenç±»å‹
- [ ] **é•¿åº¦æ§åˆ¶**: æ‰€æœ‰å»ºè®®ç¬¦åˆé•¿åº¦è§„èŒƒ
- [ ] **å…³é”®è¯è¦†ç›–**: æ¯ä¸ªä¸»æ ‡é¢˜åŒ…å«æ ¸å¿ƒå…³é”®è¯
- [ ] **ç”¨æˆ·é€‰æ‹©**: æ”¯æŒé€‰æ‹©AIå»ºè®®/è‡ªå®šä¹‰ç¼–è¾‘/ä¿æŒåŸæ ‡é¢˜
- [ ] **å­—ç¬¦è®¡æ•°**: å®æ—¶æ˜¾ç¤ºå­—ç¬¦æ•°å’Œè­¦å‘Š

### è´¨é‡éªŒæ”¶

- [ ] **AIå‡†ç¡®ç‡**: äººå·¥è¯„ä¼°10ç¯‡æ–‡ç« ï¼Œå»ºè®®å‡†ç¡®ç‡â‰¥85%
- [ ] **ç”Ÿæˆé€Ÿåº¦**: æ ‡é¢˜ä¼˜åŒ–ç”Ÿæˆâ‰¤15ç§’
- [ ] **æˆæœ¬æ§åˆ¶**: å•ç¯‡æˆæœ¬â‰¤$0.03
- [ ] **è¯„åˆ†åˆç†**: AIè¯„åˆ†åœ¨80-95åˆ†åŒºé—´
- [ ] **ç”¨æˆ·æ»¡æ„åº¦**: ç”¨æˆ·è¯„åˆ†â‰¥4æ˜Ÿï¼ˆ5æ˜Ÿåˆ¶ï¼‰

### æŠ€æœ¯éªŒæ”¶

- [ ] **APIæ€§èƒ½**: å“åº”æ—¶é—´â‰¤3ç§’
- [ ] **æ•°æ®åº“æ€§èƒ½**: æŸ¥è¯¢â‰¤500ms
- [ ] **æµ‹è¯•è¦†ç›–ç‡**: åç«¯â‰¥85%ï¼Œå‰ç«¯â‰¥80%
- [ ] **é”™è¯¯å¤„ç†**: ä¼˜é›…å¤„ç†AIå¤±è´¥ã€è¶…æ—¶ç­‰å¼‚å¸¸

---

## ğŸ¯ æ€»ç»“

### æ ¸å¿ƒåŠŸèƒ½

1. âœ… ä¸‰æ®µå¼æ ‡é¢˜è§£æï¼ˆprefix/main/suffixï¼‰
2. âœ… AIä¼˜åŒ–å»ºè®®ç”Ÿæˆï¼ˆ2-3ä¸ªé€‰é¡¹ï¼‰
3. âœ… å¤šæ ·åŒ–æ ‡é¢˜ç±»å‹ï¼ˆData-Drivenå¿…é€‰ï¼‰
4. âœ… çµæ´»ç”¨æˆ·é€‰æ‹©ï¼ˆAIå»ºè®®/è‡ªå®šä¹‰/ä¿æŒåŸæ ‡é¢˜ï¼‰
5. âœ… å®æ—¶å­—ç¬¦è®¡æ•°å’ŒéªŒè¯

### æŠ€æœ¯æ ˆ

- **åç«¯**: FastAPI + SQLAlchemy + Anthropic Claude 4.5
- **å‰ç«¯**: React + TypeScript + TanStack Query
- **æ•°æ®åº“**: PostgreSQL (JSONB for suggestions)
- **AI**: Claude Sonnet 4.5ï¼ˆæ ‡é¢˜ä¼˜åŒ–ï¼‰

### é¢„æœŸæ•ˆæœ

- æ ‡é¢˜ç‚¹å‡»ç‡æå‡: **30-50%**
- SEOæ’åæå‡: **15-25%**
- ç”¨æˆ·æ»¡æ„åº¦: **â‰¥4.5æ˜Ÿ**
- ç”Ÿæˆé€Ÿåº¦: **â‰¤15ç§’**
- æˆæœ¬: **â‰¤$0.03/ç¯‡**

---

**ä¸‹ä¸€æ­¥**: ç­‰å¾…ç”¨æˆ·å®¡æ ¸æ‰¹å‡†ï¼Œç¡®è®¤è®¾è®¡æ­£ç¡®åå¼€å§‹å®æ–½ã€‚
