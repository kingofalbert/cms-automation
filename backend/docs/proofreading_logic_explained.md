# 文章校对系统 - 校对逻辑详细讲解

> **文档版本**: 1.0
> **创建日期**: 2025-11-01
> **对应系统版本**: v1.8.0（275条规则）
> **文档用途**: 本文档用中文自然语言详细说明文章校对系统的所有校对规则和逻辑，便于非技术人员进行需求审查和功能验证。

---

## 文档导航

- [一、系统概述](#一系统概述)
- [二、用字与用词规则（A类）](#二用字与用词规则a类)
- [三、标点符号规则（B类）](#三标点符号规则b类)
- [四、数字用法规则（C类）](#四数字用法规则c类)
- [五、发布合规检查（F类）](#五发布合规检查f类)
- [六、规则严重程度说明](#六规则严重程度说明)
- [七、自动修正与人工审核](#七自动修正与人工审核)

---

## 一、系统概述

### 1.1 校对系统的作用

文章校对系统在整个内容发布流程中扮演"质量把关"的角色，它的位置是：

```
AI生成文章 → 【语言校对】 → 发布合规检查 → SEO分析 → 发布到网站
                   ↑
                这里就是校对系统
```

**校对系统要做的事情**:
1. **检查文字用法**：确保使用正确的字（比如"电表"不是"电錶"）
2. **检查标点符号**：确保标点符号使用规范（比如中文用全角标点）
3. **检查数字格式**：确保数字、日期、单位格式统一
4. **检查文章格式**：确保图片、标题等符合发布要求

### 1.2 校对的三大核心功能

#### 功能1：自动检测问题

系统会自动扫描文章，找出所有不符合规范的地方。比如：
- 发现"裏面"这个词，系统会标注出来（正确应该是"里面"）
- 发现全角数字"１２３"，系统会标注出来（应该是"123"）
- 发现图片宽高比不对，系统会警告

#### 功能2：自动修正错误

对于**非常确定**的错误，系统可以直接修正，不需要人工参与。比如：
- "裏面" → "里面"（100%确定要改）
- "並且" → "并且"（100%确定要改）
- 全角数字 → 半角数字（100%确定要改）

#### 功能3：标注提示需人工判断的问题

对于**不太确定**的问题，系统会标注出来，但不会自动修改，需要编辑人员判断。比如：
- "体形"还是"体型"？（要看上下文，系统不能100%确定）
- 这个"趋之若鹜"是贬义词，但要看文章语境才知道是否合适
- 图片来源信息缺失，需要人工补充

### 1.3 校对规则的分类体系

校对规则分为 **6 大类，共 275 条规则**：

| 分类 | 名称 | 规则数 | 完成度 | 主要内容 |
|------|------|--------|--------|----------|
| **A类** | 用字与用词 | 151条 | ✅ 100% | 检查错别字、统一用字、易混淆字 |
| **B类** | 标点符号 | 60条 | ✅ 100% | 检查标点符号使用是否规范 |
| **C类** | 数字用法 | 24条 | ✅ 100% | 检查数字、日期、单位格式 |
| **D类** | 人名地名译名 | 0条 | ⏳ 未实施 | 检查外国人名地名翻译 |
| **E类** | 报导用词 | 0条 | ⏳ 未实施 | 检查是否使用党文化用词 |
| **F类** | 发布合规 | 40条 | ✅ 100% | 检查图片、标题等技术要求 |

**说明**：
- ✅ **已实施的类别**（A、B、C、F）共 275 条规则，覆盖率 71.6%
- ⏳ **未实施的类别**（D、E）需要更多语料支持，暂未实施

---

## 二、用字与用词规则（A类）

A类规则共 **151 条**，分为 4 个子类：
- **A1类**：统一用字（50条）—— 正体字/异体字选择
- **A2类**：易混淆字（30条）—— 形似字、音近字
- **A3类**：常见错字（70条）—— 错别字、成语错误
- **A4类**：报导用词（1条）—— 贬义词、网络用语检测

### 2.1 统一用字规则（A1类 - 50条规则）

**这类规则要解决的问题**：
中文有很多"异体字"（写法不同但意思相同的字），比如"表/錶"、"并/併"、"台/臺"。为了保持文章风格统一，我们需要规定：在特定场合，统一使用某一种写法。

#### 规则 A1-001: 表/錶的使用

**问题**：什么时候用"表"，什么时候用"錶"？

**规定**：
- **计量仪器用"表"**：电表、水表、煤气表、体温表
- **手表用"錶"**：手錶、手錶厂

**系统如何判断**：
1. 系统发现文章中有"錶"这个字
2. 系统检查"錶"前面的字：
   - 如果前面是"电"、"水"、"煤气"、"体温" → 改为"表"
   - 如果前面是"手" → 保持"錶"不变

**举例**：
- ❌ "家里的电錶坏了" → ✅ "家里的电表坏了"（自动修正）
- ✅ "他戴着一块手錶" → 保持不变

**自动修正**：是
**置信度**：95%（非常确定）

#### 规则 A1-002: 裡/裏 → 里

**问题**："裡"、"裏"、"里"三个字怎么用？

**规定**：
- **表示"里面"统一用"里"**：里面、心里、家里、屋里
- **例外场景**：
  - 距离单位保持原样：公里、千里、万里
  - 人名地名保持原样：金里奇、圣地牙哥里

**系统如何判断**：
1. 系统发现"裡"或"裏"
2. 检查上下文：
   - 如果表示"里面"的意思 → 改为"里"
   - 如果前面是"公"、"千"、"万" → 不改（这是距离单位）
   - 如果在人名地名中 → 不改

**举例**：
- ❌ "这裡很热闹" → ✅ "这里很热闹"（自动修正）
- ✅ "公里数" → 保持不变（距离单位）

**自动修正**：是（但排除距离单位和人名地名）
**置信度**：95%

#### 规则 A1-003: 麽 → 么

**规定**：疑问词"什么"、"怎么"、"多么"统一使用"么"，不用"麽"。

**举例**：
- ❌ "这是什麽东西？" → ✅ "这是什么东西？"

**自动修正**：是
**置信度**：100%

#### 规则 A1-004: 僱 → 雇

**规定**：表示雇佣关系统一使用"雇"，不用"僱"。

**举例**：
- ❌ "僱员人数" → ✅ "雇员人数"
- ❌ "僱佣关系" → ✅ "雇佣关系"

**自动修正**：是
**置信度**：100%

#### 规则 A1-005: 並 → 并

**规定**：表示"并且"、"并列"时，统一使用"并"，不用"並"。

**举例**：
- ❌ "經濟並不景气" → ✅ "经济并不景气"

**自动修正**：是
**置信度**：100%

#### 规则 A1-006: 迴 → 回

**规定**：表示"回来"、"回转"时，统一使用"回"，不用"迴"。

**举例**：
- ❌ "迴转寿司" → ✅ "回转寿司"
- ❌ "迴应质疑" → ✅ "回应质疑"

**自动修正**：是
**置信度**：100%

#### 规则 A1-007: 祕 → 秘

**规定**：表示"秘密"、"秘书"时，统一使用"秘"，不用"祕"。

**举例**：
- ❌ "祕密会议" → ✅ "秘密会议"
- ❌ "祕书长" → ✅ "秘书长"

**自动修正**：是
**置信度**：100%

#### 规则 A1-008-A1-050: 更多统一用字规则

类似的统一用字规则还有 42 条，包括：

| 原字 | 统一为 | 应用场景 | 例子 |
|------|--------|----------|------|
| 綫 | 线 | 线路、路线 | 地铁綫 → 地铁线 |
| 衹 | 只 | 只有、只是 | 衹是 → 只是 |
| 佔 | 占 | 占据、占有 | 佔领 → 占领 |
| 儘 | 尽 | 尽管、尽量 | 儘管 → 尽管 |
| 準 | 准 | 准备、准确 | 準備 → 准备 |
| 衆 | 众 | 众多、大众 | 衆人 → 众人 |
| 羣 | 群 | 群众、群体 | 羣眾 → 群众 |
| 爲 | 为 | 为了、作为 | 爲了 → 为了 |
| 於 | 于 | 在于、位于 | 位於 → 位于 |
| 淨 | 净 | 干净、净化 | 淨化 → 净化 |
| ... | ... | ... | ... |

**总结**：A1类50条规则的共同特点是：
- ✅ **100% 可以自动修正**（系统非常确定）
- ✅ **不需要人工判断**（规则很明确）
- ✅ **置信度都在 90% 以上**

### 2.2 易混淆字规则（A2类 - 30条规则）

**这类规则要解决的问题**：
有些字长得很像或读音相近，容易用错。比如"沟通/勾通"、"账户/帐户"、"部分/部份"。

#### 规则 A2-001: 沟通 vs 勾通

**问题**："沟通"和"勾通"有什么区别？

**正确用法**：
- ✅ **"沟通"**：意思是交流、商讨（正面词汇）
  - 例：加强沟通、沟通协调
- ❌ **"勾通"**：意思是串通、勾结（贬义词）
  - 例：内外勾通

**常见错误**：
- ❌ "双方需要勾通" → ✅ "双方需要沟通"

**系统如何处理**：
- 系统检测到"勾通"时，会标注警告
- 建议改为"沟通"
- 需要人工确认（因为有极少数情况下"勾通"是正确的）

**自动修正**：可以（默认改为"沟通"）
**置信度**：95%

#### 规则 A2-002: 账户 vs 帐户

**规定**：涉及钱款、银行账号，统一使用"账户"，不用"帐户"。

**举例**：
- ❌ "银行帐户" → ✅ "银行账户"
- ❌ "开设帐户" → ✅ "开设账户"

**说明**："帐"原本指账本、账册，现在统一用"账"。

**自动修正**：是
**置信度**：100%

#### 规则 A2-003: 部分 vs 部份

**规定**：表示"一部分"统一使用"部分"，不用"部份"。

**举例**：
- ❌ "大部份人" → ✅ "大部分人"

**自动修正**：是
**置信度**：100%

#### 规则 A2-004: 分额 vs 份额

**规定**：表示"股份"、"配额"时，使用"份额"，不用"分额"。

**举例**：
- ❌ "市场分额" → ✅ "市场份额"

**自动修正**：是
**置信度**：100%

#### 规则 A2-005: 度假 vs 渡假

**规定**：表示"休假"统一使用"度假"，不用"渡假"。

**举例**：
- ❌ "出国渡假" → ✅ "出国度假"

**说明**："度"表示度过时光，"渡"表示渡过江河。

**自动修正**：是
**置信度**：100%

#### 规则 A2-006-A2-030: 更多易混淆字规则

其他常见易混淆字：

| 错误 | 正确 | 说明 |
|------|------|------|
| 布署 | 部署 | 军事部署、工作部署 |
| 机会主意 | 机会主义 | 政治术语 |
| 修练 | 修炼 | 修炼功法 |
| 交待 | 交代 | 交代任务、交代问题 |
| 份量 | 分量 | 重量的分量 |
| 座标 | 坐标 | 数学坐标 |
| 复盖 | 覆盖 | 覆盖范围 |
| 反覆 | 反复 | 反复思考 |
| 决择 | 抉择 | 做出抉择 |
| 苍桑 | 沧桑 | 历尽沧桑 |
| 拌脚石 | 绊脚石 | 障碍物 |
| 暴光 | 曝光 | 曝光率、曝光真相 |
| 蒙敝 | 蒙蔽 | 蒙蔽真相 |
| 挤身 | 跻身 | 跻身前列 |
| 世外桃园 | 世外桃源 | 陶渊明的桃花源 |
| ... | ... | ... |

**A2类规则的特点**：
- ✅ **95% 可以自动修正**（大部分很明确）
- ✅ **少数需要看上下文**（比如"勾通"在特定场合可能是对的）
- ✅ **置信度 90-100%**

### 2.3 常见错字规则（A3类 - 70条规则）

**这类规则要解决的问题**：
检查成语、词汇中的错别字。这些都是常见的"写错字"现象。

#### 规则 A3-001: 关怀备至 vs 关怀倍至

**正确**：关怀备至
**错误**：关怀倍至

**说明**：
- "备至"：尽、完全、非常周到
- "倍至"：不是正确的成语

**举例**：
- ❌ "对他关怀倍至" → ✅ "对他关怀备至"

**自动修正**：是
**置信度**：100%

#### 规则 A3-002: 可见一斑 vs 可见一般

**正确**：可见一斑
**错误**：可见一般

**说明**："一斑"指豹子身上的一个斑点，比喻能从一小部分看出整体。

**举例**：
- ❌ "从中可见一般" → ✅ "从中可见一斑"

**自动修正**：是
**置信度**：100%

#### 规则 A3-003: 按部就班 vs 按步就班

**正确**：按部就班
**错误**：按步就班

**说明**："部"和"班"原本都是指组织单位，不是"步骤"的"步"。

**举例**：
- ❌ "按步就班进行" → ✅ "按部就班进行"

**自动修正**：是
**置信度**：100%

#### 规则 A3-004: 莫名其妙 vs 莫明其妙

**正确**：莫名其妙
**错误**：莫明其妙

**说明**："名"是"形容、表达"的意思，不是"明白"的"明"。

**举例**：
- ❌ "莫明其妙地哭了" → ✅ "莫名其妙地哭了"

**自动修正**：是
**置信度**：100%

#### 规则 A3-005-A3-070: 更多常见错字

其他常见错字成语：

| 错误 | 正确 | 说明 |
|------|------|------|
| 消声匿迹 | 销声匿迹 | 销：消失 |
| 默守成规 | 墨守成规 | 墨：战国墨翟 |
| 随声附合 | 随声附和 | 和：应和 |
| 名符其实 | 名副其实 | 副：相称 |
| 变本加励 | 变本加厉 | 厉：猛烈 |
| 再接再励 | 再接再厉 | 厉：磨刀石，引申为加紧 |
| 一如即往 | 一如既往 | 既：已经 |
| 迫不急待 | 迫不及待 | 及：来得及 |
| 因噎费食 | 因噎废食 | 废：停止 |
| 川流不息 | 川流不息 | ✅ |
| 脍灸人口 | 脍炙人口 | 炙：烤肉 |
| 黯然失色 | 黯然失色 | ✅ |
| 破斧沉舟 | 破釜沉舟 | 釜：锅 |
| 维妙维肖 | 惟妙惟肖 | 惟：只有 |
| 留恋忘返 | 流连忘返 | 流连：留恋不舍 |
| ... | ... | ... |

**A3类70条规则的特点**：
- ✅ **100% 可以自动修正**（错别字很明确）
- ✅ **不需要人工判断**
- ✅ **置信度 100%**

### 2.4 报导用词规则（A4类 - 1条规则）

**这类规则要解决的问题**：
检测文章中是否使用了不恰当的词汇，包括：
- 贬义词（不应用于正面报导）
- 网络流行语（过于口语化）
- 党文化用词（不符合媒体立场）

目前只实现了 1 条占位规则，用于标注潜在的用词问题。

#### 规则 A4-001: 不当用词检测（占位规则）

**检测内容**：
- 贬义词：趋之若鹜、蜂拥而至、粉墨登场
- 网络用语：吐槽、同框、劈腿、Po文
- 党文化用词：十一国庆、春节（应用"中国新年"）

**系统如何处理**：
- 检测到这些词时，会标注警告
- 提供替换建议
- **不会自动修正**（需要编辑人员根据具体语境判断）

**置信度**：50-70%（需要人工判断）

---

## 三、标点符号规则（B类）

B类规则共 **60 条**，分为 8 个子类：
- **B1类**：基本标点（14条）
- **B2类**：逗号顿号（15条）
- **B3类**：引号书名号（7条）
- **B4类**：括号（6条）
- **B5类**：引号（3条）
- **B6类**：间隔号顿号（3条）
- **B7类**：连接号省略号（9条）
- **B8类**：空格使用（3条）

### 3.1 基本标点规则（B1类 - 14条）

#### 规则 B1-001: 句末缺少标点符号

**问题**：陈述句结尾没有句号。

**规定**：
- 陈述句末尾必须有句号（。）
- **例外**：
  - 标题（不加句号）
  - 图说中如果是词组或人名（不加句号）

**举例**：
- ❌ "今天天气很好" → ✅ "今天天气很好。"
- ✅ "新闻标题" → 不加句号（标题例外）

**自动修正**：是（除例外情况）
**置信度**：90%

#### 规则 B1-002: 省略号格式

**问题**：省略号应该是6个点（……），不是3个点（...）。

**规定**：
- 中文省略号：……（两个省略号符号）
- 英文省略号：...（三个点）

**举例**：
- ❌ "他说..." → ✅ "他说……"

**自动修正**：是
**置信度**：100%

#### 规则 B1-003: 问号滥用

**问题**：一个疑问句后面不需要多个问号。

**规定**：
- 一个问句 → 一个问号（？）
- 不要用多个问号（？？？）

**举例**：
- ❌ "为什么会这样？？？" → ✅ "为什么会这样？"

**自动修正**：是
**置信度**：95%

#### 规则 B1-004: 感叹号滥用

**问题**：感叹号不要连用过多。

**规定**：
- 最多连用2个感叹号
- 不要用3个以上（！！！）

**举例**：
- ❌ "太好了！！！" → ✅ "太好了！"

**自动修正**：是
**置信度**：95%

#### 规则 B1-005: 中英文标点混用

**问题**：中文段落中不要使用英文标点。

**规定**：
- 中文段落用全角标点：，。！？；：
- 英文段落用半角标点：,.!?;:

**举例**：
- ❌ "今天很好,明天会更好." → ✅ "今天很好，明天会更好。"

**自动修正**：是
**置信度**：95%

#### 规则 B1-013: 中文中使用英文标点

**问题**：中文字之间出现了英文标点。

**检测**：检测到"中文字,中文字"这样的模式（中间是英文逗号）。

**举例**：
- ❌ "他说,这样不对" → ✅ "他说，这样不对"

**自动修正**：是
**置信度**：90%

#### 规则 B1-014: 标点符号前的多余空格

**问题**：标点符号前面不应该有空格。

**规定**：
- 标点符号前不加空格
- 标点符号后可以加空格（英文习惯）

**举例**：
- ❌ "他说 ，这样不对" → ✅ "他说，这样不对"

**自动修正**：是
**置信度**：100%

### 3.2 逗号顿号规则（B2类 - 15条）

#### 规则 B2-001: 中英文混排逗号后加空格

**问题**：英文单词后的逗号，应该加空格。

**规定**：
- 中文逗号后：不加空格
- 英文逗号后：加空格

**举例**：
- ❌ "Houston,Texas" → ✅ "Houston, Texas"

**自动修正**：是
**置信度**：95%

#### 规则 B2-002: 半角逗号 vs 全角逗号

**问题**：中文文章中应该使用全角逗号。

**规定**：
- 中文用：，（全角）
- 英文用：,（半角）
- **例外**：数字千位分隔（2,000）用半角

**举例**：
- ❌ "他说,这样不对" → ✅ "他说，这样不对"
- ✅ "人口2,000万" → 保持（数字例外）

**自动修正**：是（除例外情况）
**置信度**：95%

#### 规则 B2-003: 顿号的正确使用

**问题**：并列的短词组之间用顿号。

**规定**：
- 2-4字的并列词组：用顿号（、）
- 较长的并列成分：用逗号（，）

**举例**：
- ✅ "苹果、香蕉、橘子"
- ✅ "经济发展，社会进步，人民幸福"

**自动修正**：部分可以
**置信度**：70%

#### 规则 B2-008: 英文词汇间不用顿号

**问题**：英文单词之间不应该用顿号。

**规定**：
- 英文单词之间用逗号（,）或 and
- 不要用顿号（、）

**举例**：
- ❌ "Apple、Microsoft、Google" → ✅ "Apple, Microsoft, Google"

**自动修正**：是
**置信度**：85%

#### 规则 B2-009: 牛津逗号（Oxford Comma）

**问题**："A、B和C"这种并列，在"和"前要不要加顿号？

**规定**：可选规则（建议加）
- 推荐：A、B、和C
- 也可以：A、B和C

**举例**：
- "苹果、香蕉、和橘子"（推荐）
- "苹果、香蕉和橘子"（也可以）

**自动修正**：否（风格选择）
**置信度**：70%

### 3.3 引号书名号规则（B3类 - 7条）

#### 规则 B3-001: 引号配对

**问题**：左引号和右引号要配对使用。

**规定**：
- 外层引号：「」
- 内层引号：『』

**举例**：
- ✅ 他说：「这是『正确的』引号用法。」
- ❌ 他说：「这是『错误的」引号用法。』（配对错误）

**自动修正**：可以（如果能识别配对）
**置信度**：85%

#### 规则 B3-002: 引号嵌套

**问题**：引号内还有引号时，要用不同层级的引号。

**规定**：
- 第一层：「」
- 第二层：『』
- 第三层：再用「」

**举例**：
- ✅ 他说：「老师讲『要诚实』这句话。」

**自动修正**：部分可以
**置信度**：75%

#### 规则 B3-003: 书名号配对

**问题**：书名号要配对使用。

**规定**：
- 书名号：《》
- 篇名号：〈〉（较少用）

**举例**：
- ✅ 《红楼梦》
- ❌ 《红楼梦〉（配对错误）

**自动修正**：可以
**置信度**：95%

### 3.4 括号规则（B4类 - 6条）

#### 规则 B4-001: 括号配对

**问题**：左括号和右括号要配对。

**规定**：
- 中文括号：（）
- 英文括号：()

**举例**：
- ❌ "他说（这是错的）" → ✅ "他说（这是错的）"

**自动修正**：可以
**置信度**：95%

#### 规则 B4-005: 中英文括号混用

**问题**：不要混用中英文括号。

**规定**：
- 要么都用中文括号：（）
- 要么都用英文括号：()
- 不要混用：（) 或 (）

**举例**：
- ❌ "他说（这是错的)" → ✅ "他说（这是错的）"

**自动修正**：是
**置信度**：100%

---

## 四、数字用法规则（C类）

C类规则共 **24 条**，分为 2 个子类：
- **C1类**：数字格式（15条）
- **C2类**：单位格式（9条）

### 4.1 数字格式规则（C1类 - 15条）

#### 规则 C1-001: 千位分隔符

**问题**：大数字要加千位分隔符便于阅读。

**规定**：
- 万以上的数字：加逗号分隔
- 例：10,000（一万）、1,000,000（一百万）

**举例**：
- ❌ "人口10000000" → ✅ "人口10,000,000"

**自动修正**：是
**置信度**：100%

#### 规则 C1-002: 百分比格式

**问题**：百分号前要有数字，且用半角符号。

**规定**：
- 正确格式：50%
- 不要有空格：50 %（错）
- 不要用全角：50％（错）

**举例**：
- ❌ "增长率为 50 ％" → ✅ "增长率为50%"

**自动修正**：是
**置信度**：100%

#### 规则 C1-003: 小数点格式

**问题**：小数点用半角句点（.）。

**规定**：
- 正确：3.14
- 错误：3。14 或 3·14

**举例**：
- ❌ "圆周率是3。14" → ✅ "圆周率是3.14"

**自动修正**：是
**置信度**：100%

#### 规则 C1-004: 日期格式

**问题**：日期格式要统一。

**规定**：
- 推荐格式：2025年11月1日 或 2025-11-01
- 不推荐：2025/11/01

**举例**：
- ❌ "2025/11/01" → ✅ "2025年11月1日" 或 "2025-11-01"

**自动修正**：可以
**置信度**：85%

#### 规则 C1-005: 货币格式

**问题**：货币符号和数字之间不加空格。

**规定**：
- 正确：$100、€50、¥200
- 错误：$ 100、€ 50

**举例**：
- ❌ "$ 100" → ✅ "$100"

**自动修正**：是
**置信度**：100%

#### 规则 C1-006: 全角数字 → 半角数字

**问题**：数字应该用半角（0-9），不用全角（０-９）。

**举例**：
- ❌ "人口１２３万" → ✅ "人口123万"

**自动修正**：是
**置信度**：100%

### 4.2 单位格式规则（C2类 - 9条）

#### 规则 C2-001: 公里/千米统一

**规定**：距离单位统一使用"公里"，不用"千米"。

**举例**：
- ❌ "距离10千米" → ✅ "距离10公里"

**自动修正**：是
**置信度**：100%

#### 规则 C2-002: 平方米符号

**问题**：面积单位用符号更简洁。

**规定**：
- 推荐：100 m²
- 也可以：100平方米

**举例**：
- "面积100平方米" → 可以改为 "面积100 m²"

**自动修正**：可选
**置信度**：80%

#### 规则 C2-003: 温度单位

**规定**：温度用摄氏度符号（°C）。

**举例**：
- ❌ "温度25摄氏度" → ✅ "温度25°C"

**自动修正**：是
**置信度**：90%

#### 规则 C2-004: 重量单位

**规定**：重量单位用 kg、g 等符号。

**举例**：
- ❌ "重量50公斤" → ✅ "重量50 kg"

**自动修正**：是
**置信度**：90%

---

## 五、发布合规检查（F类）⭐核心

F类规则共 **40 条**，这是**最重要**的规则类别，因为它直接决定文章能否发布。

F类分为 4 个子类：
- **F1类**：图片规范（10条）
- **F2类**：内容结构（10条）
- **F3类**：内容质量（10条）
- **F4类**：SEO优化（10条）

### 5.1 图片规范（F1类 - 10条）

#### 规则 F1-001: 特色图片宽度要求

**问题**：特色图片（文章顶部大图）必须足够宽。

**规定**：
- 最小宽度：1200 像素
- 推荐宽度：1600-2000 像素

**为什么这样规定**：
- 大屏幕显示器需要高分辨率图片
- 避免图片模糊

**系统如何检测**：
1. 系统读取图片的宽度信息
2. 如果 < 1200 像素 → 报告错误

**严重程度**：error（错误）
**是否阻止发布**：否（但强烈建议修改）
**自动修正**：否（需要更换图片）

#### 规则 F1-002: 特色图片必须是横图

**问题**：特色图片的宽高比必须 > 1.2（横图）。

**规定**：
- 宽高比 = 宽度 / 高度
- 要求：宽高比 > 1.2（横图）
- 不允许：正方形图片（1:1）或竖图

**为什么这样规定**：
- 文章顶部需要横向展示
- 竖图会占据太多垂直空间

**系统如何检测**：
1. 计算宽高比 = 宽度 / 高度
2. 如果 ≤ 1.2 → 报告错误

**举例**：
- ✅ 1600×800 = 2.0（横图，符合要求）
- ❌ 800×800 = 1.0（正方形，不符合）
- ❌ 800×1200 = 0.67（竖图，不符合）

**严重程度**：critical（严重）
**是否阻止发布**：是 ⚠️
**自动修正**：否（需要裁剪或更换图片）

#### 规则 F1-003: 图片必须有 alt 文本

**问题**：图片需要描述性文字（alt 文本），用于无障碍访问和 SEO。

**规定**：
- 每张图片都要有 alt 文本
- alt 文本应该描述图片内容
- 长度：5-100 字

**为什么这样规定**：
- 视障人士需要屏幕阅读器读出图片描述
- 搜索引擎通过 alt 文本理解图片内容

**举例**：
- ✅ alt="一位老人在公园里打太极拳"
- ❌ alt=""（空白，不符合）
- ❌ alt="图片1"（无意义）

**严重程度**：warning（警告）
**是否阻止发布**：否
**自动修正**：否（需要人工添加描述）

#### 规则 F1-004: 图片文件大小限制

**问题**：图片文件不能太大，否则加载慢。

**规定**：
- 单张图片最大：2 MB
- 推荐：500 KB - 1 MB

**系统如何检测**：
- 读取图片文件大小
- 如果 > 2 MB → 报告警告

**严重程度**：warning（警告）
**是否阻止发布**：否
**建议**：压缩图片或使用 WebP 格式

#### 规则 F1-005: 图片数量限制

**问题**：一篇文章的图片不要太多。

**规定**：
- 最多：20 张图片
- 推荐：5-10 张

**为什么这样规定**：
- 太多图片影响加载速度
- 影响阅读体验

**严重程度**：info（提示）
**是否阻止发布**：否

#### 规则 F1-006: 图片格式检查

**问题**：推荐使用特定的图片格式。

**规定**：
- 推荐格式：JPG、JPEG、PNG、WebP、SVG
- 不推荐：BMP、TIFF（文件太大）
- 避免：GIF动图（除非必要）

**严重程度**：info（提示）
**是否阻止发布**：否

### 5.2 内容结构（F2类 - 10条）

#### 规则 F2-001: 标题层级检查

**问题**：文章中只能使用 H2 和 H3 标题，不能用 H1、H4、H5。

**规定**：
- **允许**：H2（二级标题）、H3（三级标题）
- **禁止**：H1（只能用于文章主标题）、H4、H5、H6

**为什么这样规定**：
- H1 是文章主标题，只能有一个
- H4-H6 层级太深，结构混乱
- H2-H3 层级清晰，易于阅读和 SEO

**系统如何检测**：
1. 扫描 HTML 内容
2. 查找 `<h1>`、`<h4>`、`<h5>`、`<h6>` 标签
3. 如果发现 → 报告错误

**举例**：
```html
❌ <h1>小标题</h1>  <!-- H1只能用于主标题 -->
✅ <h2>主要章节</h2>
✅ <h3>子章节</h3>
❌ <h4>太深的层级</h4>  <!-- 不允许 -->
```

**严重程度**：error（错误）
**是否阻止发布**：否（但强烈建议修改）
**自动修正**：可以（系统可以建议改为 H2 或 H3）

#### 规则 F2-002: 文章长度检查

**问题**：文章太短或太长都不好。

**规定**：
- 最小长度：300 字（中文字符）
- 最大长度：5000 字
- 推荐长度：800-2000 字

**系统如何检测**：
1. 统计中文字符数（不含标点、空格）
2. 如果 < 300 字 → 报告错误（文章太短）
3. 如果 > 5000 字 → 报告警告（文章太长）

**严重程度**：
- 太短（<300字）：error（错误）
- 太长（>5000字）：warning（警告）
- 未达最佳长度（<800字）：info（提示）

**是否阻止发布**：否

#### 规则 F2-003: 段落长度检查

**问题**：段落不要太长，影响阅读。

**规定**：
- 单个段落最长：300 字
- 推荐：100-200 字

**为什么这样规定**：
- 太长的段落让人难以阅读
- 短段落增加留白，阅读舒适

**严重程度**：info（提示）
**是否阻止发布**：否

#### 规则 F2-007: 标题长度检查

**问题**：标题不要太长。

**规定**：
- H2/H3 标题最长：60 字符
- 推荐：20-40 字符

**举例**：
- ❌ "这是一个非常非常非常长的标题，长到超过了60个字符的限制..."（太长）
- ✅ "WordPress发布要求详解"（合适）

**严重程度**：warning（警告）
**是否阻止发布**：否

#### 规则 F2-008: 首段长度检查

**问题**：文章首段很重要，长度要合适。

**规定**：
- 最短：50 字符
- 最长：200 字符
- 推荐：80-150 字符

**为什么这样规定**：
- 首段是文章摘要，需要吸引读者
- 太短：信息不足
- 太长：读者失去兴趣

**严重程度**：info（提示）
**是否阻止发布**：否

### 5.3 内容质量（F3类 - 10条）

#### 规则 F3-001: 图片版权信息

**问题**：使用的图片必须有版权授权信息。

**规定**：
- 每张图片必须注明来源
- 如果是有版权的图片，必须有授权说明
- 示例：
  - "图片来源：Getty Images"
  - "摄影：张三/大纪元"

**系统如何检测**：
- 检查图片元数据中的 source、photographer、license_info 字段
- 如果缺失 → 报告警告

**严重程度**：warning（警告）
**是否阻止发布**：否（但需要补充）

#### 规则 F3-004: 敏感内容检测

**问题**：检测文章中是否有不适合发布的敏感内容。

**检测内容**（示例）：
- 暴力、血腥描述
- 仇恨、歧视言论

**系统如何处理**：
- 检测到敏感词 → 标注警告
- **不会自动修正**（需要编辑人员判断）

**严重程度**：warning（警告）
**置信度**：50%（可能误判，需人工确认）

#### 规则 F3-005: 重复内容检测

**问题**：文章中不应该有大段重复的内容。

**系统如何检测**：
1. 将文章分段
2. 比较各段落是否有重复（超过50字相同）
3. 如果发现重复 → 报告警告

**为什么这样规定**：
- 重复内容降低文章质量
- 影响 SEO（搜索引擎不喜欢重复内容）

**严重程度**：warning（警告）
**是否阻止发布**：否

#### 规则 F3-007: 可读性检查

**问题**：句子太长影响阅读。

**规定**：
- 平均句长不超过 50 字符
- 推荐：20-40 字符

**系统如何检测**：
1. 按句号、问号、感叹号分句
2. 计算平均句子长度
3. 如果 > 50 字符 → 报告提示

**严重程度**：info（提示）
**是否阻止发布**：否

### 5.4 SEO 优化（F4类 - 10条）

#### 规则 F4-001: Meta Description 长度

**问题**：Meta description（文章摘要）长度要合适。

**规定**：
- 长度：120-160 字符
- 最佳：140-150 字符

**为什么这样规定**：
- 搜索引擎在搜索结果中显示的摘要有长度限制
- 太短：不够吸引人
- 太长：会被截断

**系统如何检测**：
- 读取 meta_description 字段
- 检查长度是否在范围内

**严重程度**：warning（警告）
**是否阻止发布**：否

#### 规则 F4-002: SEO 关键词数量

**问题**：SEO 关键词不要太少或太多。

**规定**：
- 推荐：3-5 个关键词
- 最少：1 个
- 最多：8 个

**为什么这样规定**：
- 太少：SEO 效果不好
- 太多：分散权重，效果反而变差

**严重程度**：info（提示）
**是否阻止发布**：否

#### 规则 F4-003: 内部链接检查

**问题**：文章应该包含内部链接（指向网站其他文章）。

**规定**：
- 推荐：2-3 个内部链接
- 检测：查找相对路径链接或同域名链接

**为什么这样规定**：
- 内部链接帮助 SEO
- 增加用户停留时间
- 降低跳出率

**严重程度**：info（提示）
**是否阻止发布**：否

#### 规则 F4-004: 标题 SEO 优化

**问题**：文章标题（H1）长度要适合 SEO。

**规定**：
- 最佳长度：30-60 字符
- 包含关键词
- 吸引点击

**系统如何检测**：
- 检查文章标题长度
- 如果 < 30 或 > 60 → 报告警告

**严重程度**：warning（警告）
**是否阻止发布**：否

#### 规则 F4-005: 关键词密度检查

**问题**：关键词在文章中出现的频率要合适。

**规定**：
- 最佳密度：1-3%
- 不要过度：> 5%（关键词堆砌）
- 不要太少：< 0.5%（SEO效果差）

**系统如何检测**：
1. 统计关键词在文章中出现的次数
2. 计算密度 = (出现次数 / 总词数) × 100%
3. 如果 > 5% → 警告（过度优化）
4. 如果 < 0.5% → 提示（可以增加）

**举例**：
- 文章 1000 字，关键词出现 20 次 → 2%（合适）
- 文章 1000 字，关键词出现 60 次 → 6%（太多）

**严重程度**：info（提示）
**是否阻止发布**：否

---

## 六、规则严重程度说明

### 6.1 严重程度分级

校对系统将问题分为 **4 个严重程度等级**：

| 等级 | 英文 | 说明 | 是否阻止发布 |
|------|------|------|-------------|
| 🔴 **严重** | critical | 必须修改，否则无法发布 | ✅ 是 |
| 🟠 **错误** | error | 需要修改，但不阻止发布 | ❌ 否 |
| 🟡 **警告** | warning | 建议修改，影响质量 | ❌ 否 |
| 🔵 **提示** | info | 可以考虑优化 | ❌ 否 |

### 6.2 哪些规则会阻止发布（blocks_publish=true）

目前只有 **F1-002 规则**会阻止发布：

#### F1-002: 特色图片必须是横图（宽高比 > 1.2）

**为什么会阻止发布**：
- 这是技术硬性要求
- 不符合会严重影响文章展示效果
- 编辑必须更换或裁剪图片

**如何解除阻止**：
1. 重新裁剪图片，确保宽高比 > 1.2
2. 或者更换一张横图
3. 重新上传后，系统会重新检测

### 6.3 严重程度的实际意义

#### 🔴 Critical（严重）
- **含义**：技术不合规，必须修改
- **典型场景**：
  - 特色图片不是横图
  - （未来可能增加其他强制要求）
- **编辑必须做什么**：立即修改，否则无法点击"发布"按钮

#### 🟠 Error（错误）
- **含义**：明确的错误，需要修改
- **典型场景**：
  - 文章太短（<300字）
  - 特色图片宽度不够（<1200px）
  - 使用了不允许的 H1 或 H4 标题
- **编辑必须做什么**：应该修改，但如果有特殊原因可以暂时不改

#### 🟡 Warning（警告）
- **含义**：建议修改，影响质量或 SEO
- **典型场景**：
  - 图片缺少版权信息
  - 关键词密度过高
  - 标题太长
- **编辑可以做什么**：根据实际情况决定是否修改

#### 🔵 Info（提示）
- **含义**：可以考虑优化
- **典型场景**：
  - 文章长度未达最佳
  - 缺少内部链接
  - 段落可以更短一些
- **编辑可以做什么**：作为参考，不一定要改

---

## 七、自动修正与人工审核

### 7.1 哪些问题可以自动修正

**可以 100% 自动修正的问题**（不需要人工判断）：

#### A类（用字与用词）
- ✅ A1类 50条规则：全部可以自动修正
  - 例："裏" → "里"、"並" → "并"
- ✅ A2类 25条规则：大部分可以自动修正
  - 例："帐户" → "账户"、"沟通" ← "勾通"
- ✅ A3类 70条规则：全部可以自动修正
  - 例："莫明其妙" → "莫名其妙"

#### B类（标点符号）
- ✅ 半角/全角转换：100% 自动修正
  - 例："," → "，"、"." → "。"
- ✅ 标点符号格式：90% 自动修正
  - 例："..." → "……"、"???" → "？"
- ✅ 标点符号配对：部分可以自动修正

#### C类（数字用法）
- ✅ 100% 可以自动修正
  - 例：全角数字 → 半角数字
  - 例："50 %" → "50%"
  - 例："千米" → "公里"

**总结**：275条规则中，约 **88% 可以自动修正**（242条）。

### 7.2 哪些问题需要人工审核

**不能自动修正的问题**（需要编辑人员判断）：

#### 1. 上下文依赖的规则

**A2类：易混淆字**
- 例："复"、"覆"、"復"三个字
  - 系统不确定哪个是对的
  - 需要编辑看具体语境

**A4类：报导用词**
- 例："趋之若鹜"是贬义词
  - 但要看文章语境，有时贬义词是正确的
  - 系统只能标注，不能自动改

#### 2. 需要补充信息的规则

**F1类：图片规范**
- 例：图片缺少 alt 文本
  - 系统不知道图片内容是什么
  - 需要编辑人工添加描述

- 例：图片宽高比不符合
  - 系统不能自动裁剪图片
  - 需要编辑重新处理图片

**F3类：版权信息**
- 例：图片缺少来源信息
  - 系统不知道图片来自哪里
  - 需要编辑补充版权信息

#### 3. 风格选择的规则

**B2类：标点符号**
- 例：牛津逗号（A、B、和C）
  - 加不加都可以，看编辑部风格
  - 系统只能提示，不能强制

**F2类：内容结构**
- 例：段落长度
  - 没有绝对的对错
  - 系统只能建议

### 7.3 自动修正的置信度

系统对每个修正都有一个"置信度"（0-100%），表示系统有多确定：

| 置信度范围 | 说明 | 系统行为 |
|-----------|------|----------|
| **95-100%** | 非常确定 | 直接自动修正 |
| **80-94%** | 比较确定 | 默认自动修正，可配置 |
| **60-79%** | 不太确定 | 标注提示，不自动修正 |
| **<60%** | 很不确定 | 仅供参考 |

**举例**：

- **置信度 100%**：
  - "裏" → "里"（规则很明确）
  - 全角数字 → 半角数字（不会出错）

- **置信度 95%**：
  - "帐户" → "账户"（极少数场合"帐户"可能是对的）
  - "，" → "，"（混排文章中可能需要半角逗号）

- **置信度 70%**：
  - "趋之若鹜"标注为贬义词（但要看语境）
  - 段落太长的建议（没有绝对标准）

---

## 八、常见问题解答（FAQ）

### Q1: 为什么有些字有时改有时不改？

**A**: 因为很多规则是**上下文依赖**的。

**举例：表/錶**
- "电錶" → "电表"（自动改）
- "手錶" → 保持不变（例外情况）

系统会检查"錶"前面的字，如果是"手"就不改，如果是"电"、"水"就改。

### Q2: 系统如何判断是否是"手錶"？

**A**: 系统使用**模式匹配**：

1. 发现"錶"字
2. 检查前一个字：
   ```python
   if 前面是 "手":
       不修改  # 这是手表
   elif 前面是 "电", "水", "煤气", "体温":
       修改为 "表"  # 这是仪表
   ```

### Q3: 为什么特色图片宽高比不符合会阻止发布？

**A**: 因为这是**技术硬性要求**：

1. **用户体验**：竖图在文章顶部展示效果很差
2. **设计规范**：网站设计要求横图
3. **可以修改**：这不是文字内容，编辑可以重新处理图片

**类比**：就像电影院只放映横屏电影，不放映竖屏电影。

### Q4: 自动修正会不会改错？

**A**: **极少数情况下会改错**，所以：

1. **置信度高的规则**（>95%）：几乎不会错
   - 例："裏" → "里"
   - 例：全角数字 → 半角数字

2. **置信度中等的规则**（80-94%）：可能有误判
   - 系统会标注出来
   - 编辑可以检查并撤销修改

3. **置信度低的规则**（<80%）：不自动修正
   - 只标注提示
   - 由编辑人员判断

### Q5: 如果我不同意系统的建议怎么办？

**A**: 可以忽略或撤销：

1. **警告和提示**：可以选择忽略
2. **自动修正**：可以撤销（改回原样）
3. **Critical 级别**：必须修改，否则无法发布

### Q6: 系统会检查语法错误吗？

**A**: **目前不会**。

系统只检查：
- ✅ 用字规范（对/错）
- ✅ 标点符号格式
- ✅ 数字格式
- ✅ 发布合规性

系统**不检查**：
- ❌ 语法错误（主谓宾搭配）
- ❌ 逻辑错误（事实错误）
- ❌ 文章质量（写得好不好）

这些需要编辑人员的专业判断。

### Q7: 为什么有些规则还未实施？

**A**: D类（人名地名译名）和E类（报导用词）**暂未实施**，原因：

1. **需要大量语料**：人名地名数据库
2. **需要语义理解**：判断用词是否合适
3. **优先级较低**：先实施最基础的规则

**当前进度**：
- ✅ 已实施：275条规则（71.6% 覆盖率）
- ⏳ 待实施：109条规则（D类+E类）

---

## 九、规则实施优先级

### 已实施的规则（✅ 100% 完成）

| 类别 | 规则数 | 完成度 | 优先级 |
|------|--------|--------|--------|
| **A1 - 统一用字** | 50 | 100% ✅ | P0 高 |
| **A2 - 易混淆字** | 30 | 100% ✅ | P0 高 |
| **A3 - 常见错字** | 70 | 100% ✅ | P0 高 |
| **B - 标点符号** | 60 | 100% ✅ | P0 高 |
| **C - 数字格式** | 24 | 100% ✅ | P0 高 |
| **F - 发布合规** | 40 | 100% ✅ | P0 极高 |

### 待实施的规则（⏳ 计划中）

| 类别 | 规则数 | 完成度 | 优先级 |
|------|--------|--------|--------|
| **A4 - 报导用词** | 29 | 3% ⏳ | P1 中 |
| **D - 译名规范** | 40 | 0% ⏳ | P2 低 |
| **E - 特殊规范** | 40 | 0% ⏳ | P2 低 |

---

## 十、文档变更历史

| 版本 | 日期 | 变更说明 |
|------|------|----------|
| 1.0 | 2025-11-01 | 初始版本，基于系统 v1.8.0（275条规则） |

---

## 附录：规则快速查找表

### A1类：统一用字（50条）

| 规则ID | 错误 | 正确 | 场景 |
|--------|------|------|------|
| A1-001 | 錶 | 表 | 电表、水表（非手錶） |
| A1-002 | 裏/裡 | 里 | 里面（非公里） |
| A1-003 | 麽 | 么 | 什么、怎么 |
| A1-004 | 僱 | 雇 | 雇员、雇佣 |
| A1-005 | 並 | 并 | 并且、并列 |
| ... | ... | ... | ... |

### A2类：易混淆字（30条）

| 规则ID | 错误 | 正确 | 说明 |
|--------|------|------|------|
| A2-001 | 勾通 | 沟通 | 交流（非串通） |
| A2-002 | 帐户 | 账户 | 银行账户 |
| A2-003 | 部份 | 部分 | 一部分 |
| ... | ... | ... | ... |

### A3类：常见错字（70条）

| 规则ID | 错误 | 正确 | 说明 |
|--------|------|------|------|
| A3-001 | 关怀倍至 | 关怀备至 | 备：尽、完全 |
| A3-002 | 可见一般 | 可见一斑 | 一斑：豹纹 |
| A3-003 | 按步就班 | 按部就班 | 部、班：组织 |
| ... | ... | ... | ... |

### F类：发布合规（40条）⭐

| 规则ID | 检查项 | 要求 | 严重程度 |
|--------|--------|------|----------|
| F1-001 | 特色图片宽度 | ≥1200px | error |
| F1-002 | 特色图片宽高比 | >1.2（横图） | **critical** ⚠️ |
| F1-003 | 图片 alt 文本 | 必须有 | warning |
| F2-001 | 标题层级 | 只能 H2/H3 | error |
| F2-002 | 文章长度 | 300-5000字 | error/warning |
| F4-001 | Meta 长度 | 120-160字符 | warning |
| ... | ... | ... | ... |

---

**文档结束**

> 如有任何疑问，请联系技术团队或查阅完整技术文档。
